var JR=Object.defineProperty;var tw=t=>{throw TypeError(t)};var ZR=(t,e,n)=>e in t?JR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var nw=(t,e,n)=>ZR(t,typeof e!="symbol"?e+"":e,n),fp=(t,e,n)=>e.has(t)||tw("Cannot "+n);var z=(t,e,n)=>(fp(t,e,"read from private field"),n?n.call(t):e.get(t)),Le=(t,e,n)=>e.has(t)?tw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),be=(t,e,n,r)=>(fp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Gt=(t,e,n)=>(fp(t,e,"access private method"),n);var Ru=(t,e,n,r)=>({set _(s){be(t,e,s,n)},get _(){return z(t,e,r)}});function ek(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Wb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hb={exports:{}},Fh={},Gb={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zc=Symbol.for("react.element"),tk=Symbol.for("react.portal"),nk=Symbol.for("react.fragment"),rk=Symbol.for("react.strict_mode"),sk=Symbol.for("react.profiler"),ok=Symbol.for("react.provider"),ik=Symbol.for("react.context"),ak=Symbol.for("react.forward_ref"),lk=Symbol.for("react.suspense"),ck=Symbol.for("react.memo"),uk=Symbol.for("react.lazy"),rw=Symbol.iterator;function dk(t){return t===null||typeof t!="object"?null:(t=rw&&t[rw]||t["@@iterator"],typeof t=="function"?t:null)}var qb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kb=Object.assign,Qb={};function ja(t,e,n){this.props=t,this.context=e,this.refs=Qb,this.updater=n||qb}ja.prototype.isReactComponent={};ja.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ja.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Yb(){}Yb.prototype=ja.prototype;function hv(t,e,n){this.props=t,this.context=e,this.refs=Qb,this.updater=n||qb}var fv=hv.prototype=new Yb;fv.constructor=hv;Kb(fv,ja.prototype);fv.isPureReactComponent=!0;var sw=Array.isArray,Xb=Object.prototype.hasOwnProperty,pv={current:null},Jb={key:!0,ref:!0,__self:!0,__source:!0};function Zb(t,e,n){var r,s={},o=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)Xb.call(e,r)&&!Jb.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:zc,type:t,key:o,ref:i,props:s,_owner:pv.current}}function hk(t,e){return{$$typeof:zc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mv(t){return typeof t=="object"&&t!==null&&t.$$typeof===zc}function fk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ow=/\/+/g;function pp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fk(""+t.key):e.toString(36)}function cd(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case zc:case tk:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+pp(i,0):r,sw(s)?(n="",t!=null&&(n=t.replace(ow,"$&/")+"/"),cd(s,e,n,"",function(u){return u})):s!=null&&(mv(s)&&(s=hk(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(ow,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",sw(t))for(var a=0;a<t.length;a++){o=t[a];var c=r+pp(o,a);i+=cd(o,e,n,c,s)}else if(c=dk(t),typeof c=="function")for(t=c.call(t),a=0;!(o=t.next()).done;)o=o.value,c=r+pp(o,a++),i+=cd(o,e,n,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function ku(t,e,n){if(t==null)return t;var r=[],s=0;return cd(t,r,"","",function(o){return e.call(n,o,s++)}),r}function pk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},ud={transition:null},mk={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:ud,ReactCurrentOwner:pv};function eE(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:ku,forEach:function(t,e,n){ku(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ku(t,function(){e++}),e},toArray:function(t){return ku(t,function(e){return e})||[]},only:function(t){if(!mv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=ja;Pe.Fragment=nk;Pe.Profiler=sk;Pe.PureComponent=hv;Pe.StrictMode=rk;Pe.Suspense=lk;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mk;Pe.act=eE;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Kb({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=pv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Xb.call(e,c)&&!Jb.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:zc,type:t.type,key:s,ref:o,props:r,_owner:i}};Pe.createContext=function(t){return t={$$typeof:ik,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ok,_context:t},t.Consumer=t};Pe.createElement=Zb;Pe.createFactory=function(t){var e=Zb.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:ak,render:t}};Pe.isValidElement=mv;Pe.lazy=function(t){return{$$typeof:uk,_payload:{_status:-1,_result:t},_init:pk}};Pe.memo=function(t,e){return{$$typeof:ck,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=ud.transition;ud.transition={};try{t()}finally{ud.transition=e}};Pe.unstable_act=eE;Pe.useCallback=function(t,e){return dn.current.useCallback(t,e)};Pe.useContext=function(t){return dn.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return dn.current.useEffect(t,e)};Pe.useId=function(){return dn.current.useId()};Pe.useImperativeHandle=function(t,e,n){return dn.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return dn.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return dn.current.useReducer(t,e,n)};Pe.useRef=function(t){return dn.current.useRef(t)};Pe.useState=function(t){return dn.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return dn.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return dn.current.useTransition()};Pe.version="18.3.1";Gb.exports=Pe;var m=Gb.exports;const Z=Wb(m),tE=ek({__proto__:null,default:Z},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gk=m,vk=Symbol.for("react.element"),yk=Symbol.for("react.fragment"),xk=Object.prototype.hasOwnProperty,wk=gk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_k={key:!0,ref:!0,__self:!0,__source:!0};function nE(t,e,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)xk.call(e,r)&&!_k.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:vk,type:t,key:o,ref:i,props:s,_owner:wk.current}}Fh.Fragment=yk;Fh.jsx=nE;Fh.jsxs=nE;Hb.exports=Fh;var l=Hb.exports,rE={exports:{}},jn={},sE={exports:{}},oE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,F){var Y=M.length;M.push(F);e:for(;0<Y;){var $=Y-1>>>1,W=M[$];if(0<s(W,F))M[$]=F,M[Y]=W,Y=$;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var F=M[0],Y=M.pop();if(Y!==F){M[0]=Y;e:for(var $=0,W=M.length,X=W>>>1;$<X;){var ve=2*($+1)-1,De=M[ve],fe=ve+1,ne=M[fe];if(0>s(De,Y))fe<W&&0>s(ne,De)?(M[$]=ne,M[fe]=Y,$=fe):(M[$]=De,M[ve]=Y,$=ve);else if(fe<W&&0>s(ne,Y))M[$]=ne,M[fe]=Y,$=fe;else break e}}return F}function s(M,F){var Y=M.sortIndex-F.sortIndex;return Y!==0?Y:M.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var c=[],u=[],h=1,p=null,f=3,v=!1,x=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(M){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=M)r(u),F.sortIndex=F.expirationTime,e(c,F);else break;F=n(u)}}function A(M){if(y=!1,C(M),!x)if(n(c)!==null)x=!0,Q(j);else{var F=n(u);F!==null&&U(A,F.startTime-M)}}function j(M,F){x=!1,y&&(y=!1,b(S),S=-1),v=!0;var Y=f;try{for(C(F),p=n(c);p!==null&&(!(p.expirationTime>F)||M&&!R());){var $=p.callback;if(typeof $=="function"){p.callback=null,f=p.priorityLevel;var W=$(p.expirationTime<=F);F=t.unstable_now(),typeof W=="function"?p.callback=W:p===n(c)&&r(c),C(F)}else r(c);p=n(c)}if(p!==null)var X=!0;else{var ve=n(u);ve!==null&&U(A,ve.startTime-F),X=!1}return X}finally{p=null,f=Y,v=!1}}var O=!1,N=null,S=-1,P=5,T=-1;function R(){return!(t.unstable_now()-T<P)}function D(){if(N!==null){var M=t.unstable_now();T=M;var F=!0;try{F=N(!0,M)}finally{F?k():(O=!1,N=null)}}else O=!1}var k;if(typeof w=="function")k=function(){w(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ee=H.port2;H.port1.onmessage=D,k=function(){ee.postMessage(null)}}else k=function(){_(D,0)};function Q(M){N=M,O||(O=!0,k())}function U(M,F){S=_(function(){M(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,Q(j))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var Y=f;f=F;try{return M()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Y=f;f=M;try{return F()}finally{f=Y}},t.unstable_scheduleCallback=function(M,F,Y){var $=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?$+Y:$):Y=$,M){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=Y+W,M={id:h++,callback:F,priorityLevel:M,startTime:Y,expirationTime:W,sortIndex:-1},Y>$?(M.sortIndex=Y,e(u,M),n(c)===null&&M===n(u)&&(y?(b(S),S=-1):y=!0,U(A,Y-$))):(M.sortIndex=W,e(c,M),x||v||(x=!0,Q(j))),M},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(M){var F=f;return function(){var Y=f;f=F;try{return M.apply(this,arguments)}finally{f=Y}}}})(oE);sE.exports=oE;var bk=sE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ek=m,kn=bk;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iE=new Set,ec={};function ui(t,e){ha(t,e),ha(t+"Capture",e)}function ha(t,e){for(ec[t]=e,t=0;t<e.length;t++)iE.add(e[t])}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bm=Object.prototype.hasOwnProperty,Ck=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iw={},aw={};function Sk(t){return bm.call(aw,t)?!0:bm.call(iw,t)?!1:Ck.test(t)?aw[t]=!0:(iw[t]=!0,!1)}function Tk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Nk(t,e,n,r){if(e===null||typeof e>"u"||Tk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hn(t,e,n,r,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var gv=/[\-:]([a-z])/g;function vv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gv,vv);$t[e]=new hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gv,vv);$t[e]=new hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gv,vv);$t[e]=new hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new hn(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function yv(t,e,n,r){var s=$t.hasOwnProperty(e)?$t[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Nk(e,n,s,r)&&(n=null),r||s===null?Sk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ps=Ek.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Du=Symbol.for("react.element"),ki=Symbol.for("react.portal"),Di=Symbol.for("react.fragment"),xv=Symbol.for("react.strict_mode"),Em=Symbol.for("react.profiler"),aE=Symbol.for("react.provider"),lE=Symbol.for("react.context"),wv=Symbol.for("react.forward_ref"),Cm=Symbol.for("react.suspense"),Sm=Symbol.for("react.suspense_list"),_v=Symbol.for("react.memo"),Ps=Symbol.for("react.lazy"),cE=Symbol.for("react.offscreen"),lw=Symbol.iterator;function hl(t){return t===null||typeof t!="object"?null:(t=lw&&t[lw]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,mp;function Cl(t){if(mp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mp=e&&e[1]||""}return`
`+mp+t}var gp=!1;function vp(t,e){if(!t||gp)return"";gp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=a);break}}}finally{gp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Cl(t):""}function Pk(t){switch(t.tag){case 5:return Cl(t.type);case 16:return Cl("Lazy");case 13:return Cl("Suspense");case 19:return Cl("SuspenseList");case 0:case 2:case 15:return t=vp(t.type,!1),t;case 11:return t=vp(t.type.render,!1),t;case 1:return t=vp(t.type,!0),t;default:return""}}function Tm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Di:return"Fragment";case ki:return"Portal";case Em:return"Profiler";case xv:return"StrictMode";case Cm:return"Suspense";case Sm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lE:return(t.displayName||"Context")+".Consumer";case aE:return(t._context.displayName||"Context")+".Provider";case wv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _v:return e=t.displayName||null,e!==null?e:Tm(t.type)||"Memo";case Ps:e=t._payload,t=t._init;try{return Tm(t(e))}catch{}}return null}function Ik(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tm(e);case 8:return e===xv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function eo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ak(t){var e=uE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ju(t){t._valueTracker||(t._valueTracker=Ak(t))}function dE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=uE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nm(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=eo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hE(t,e){e=e.checked,e!=null&&yv(t,"checked",e,!1)}function Pm(t,e){hE(t,e);var n=eo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Im(t,e.type,n):e.hasOwnProperty("defaultValue")&&Im(t,e.type,eo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Im(t,e,n){(e!=="number"||jd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sl=Array.isArray;function Wi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+eo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Am(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Sl(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:eo(n)}}function fE(t,e){var n=eo(e.value),r=eo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mu,mE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mu=Mu||document.createElement("div"),Mu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function tc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rk=["Webkit","ms","Moz","O"];Object.keys(Ol).forEach(function(t){Rk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ol[e]=Ol[t]})});function gE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ol.hasOwnProperty(t)&&Ol[t]?(""+e).trim():e+"px"}function vE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=gE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var kk=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function km(t,e){if(e){if(kk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Dm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jm=null;function bv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mm=null,Hi=null,Gi=null;function fw(t){if(t=Gc(t)){if(typeof Mm!="function")throw Error(q(280));var e=t.stateNode;e&&(e=zh(e),Mm(t.stateNode,t.type,e))}}function yE(t){Hi?Gi?Gi.push(t):Gi=[t]:Hi=t}function xE(){if(Hi){var t=Hi,e=Gi;if(Gi=Hi=null,fw(t),e)for(t=0;t<e.length;t++)fw(e[t])}}function wE(t,e){return t(e)}function _E(){}var yp=!1;function bE(t,e,n){if(yp)return t(e,n);yp=!0;try{return wE(t,e,n)}finally{yp=!1,(Hi!==null||Gi!==null)&&(_E(),xE())}}function nc(t,e){var n=t.stateNode;if(n===null)return null;var r=zh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Om=!1;if(ts)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){Om=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{Om=!1}function Dk(t,e,n,r,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Ll=!1,Md=null,Od=!1,Lm=null,jk={onError:function(t){Ll=!0,Md=t}};function Mk(t,e,n,r,s,o,i,a,c){Ll=!1,Md=null,Dk.apply(jk,arguments)}function Ok(t,e,n,r,s,o,i,a,c){if(Mk.apply(this,arguments),Ll){if(Ll){var u=Md;Ll=!1,Md=null}else throw Error(q(198));Od||(Od=!0,Lm=u)}}function di(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function EE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pw(t){if(di(t)!==t)throw Error(q(188))}function Lk(t){var e=t.alternate;if(!e){if(e=di(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return pw(s),t;if(o===r)return pw(s),e;o=o.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function CE(t){return t=Lk(t),t!==null?SE(t):null}function SE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=SE(t);if(e!==null)return e;t=t.sibling}return null}var TE=kn.unstable_scheduleCallback,mw=kn.unstable_cancelCallback,Fk=kn.unstable_shouldYield,Vk=kn.unstable_requestPaint,ft=kn.unstable_now,$k=kn.unstable_getCurrentPriorityLevel,Ev=kn.unstable_ImmediatePriority,NE=kn.unstable_UserBlockingPriority,Ld=kn.unstable_NormalPriority,Uk=kn.unstable_LowPriority,PE=kn.unstable_IdlePriority,Vh=null,Tr=null;function Bk(t){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(Vh,t,void 0,(t.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:Hk,zk=Math.log,Wk=Math.LN2;function Hk(t){return t>>>=0,t===0?32:31-(zk(t)/Wk|0)|0}var Ou=64,Lu=4194304;function Tl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=Tl(a):(o&=i,o!==0&&(r=Tl(o)))}else i=n&~s,i!==0?r=Tl(i):o!==0&&(r=Tl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-or(e),s=1<<n,r|=t[n],e&=~s;return r}function Gk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-or(o),a=1<<i,c=s[i];c===-1?(!(a&n)||a&r)&&(s[i]=Gk(a,e)):c<=e&&(t.expiredLanes|=a),o&=~a}}function Fm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function IE(){var t=Ou;return Ou<<=1,!(Ou&4194240)&&(Ou=64),t}function xp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-or(e),t[e]=n}function Kk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-or(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function Cv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-or(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Be=0;function AE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var RE,Sv,kE,DE,jE,Vm=!1,Fu=[],Us=null,Bs=null,zs=null,rc=new Map,sc=new Map,As=[],Qk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gw(t,e){switch(t){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":rc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(e.pointerId)}}function pl(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Gc(e),e!==null&&Sv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Yk(t,e,n,r,s){switch(e){case"focusin":return Us=pl(Us,t,e,n,r,s),!0;case"dragenter":return Bs=pl(Bs,t,e,n,r,s),!0;case"mouseover":return zs=pl(zs,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return rc.set(o,pl(rc.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,sc.set(o,pl(sc.get(o)||null,t,e,n,r,s)),!0}return!1}function ME(t){var e=Lo(t.target);if(e!==null){var n=di(e);if(n!==null){if(e=n.tag,e===13){if(e=EE(n),e!==null){t.blockedOn=e,jE(t.priority,function(){kE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$m(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);jm=r,n.target.dispatchEvent(r),jm=null}else return e=Gc(n),e!==null&&Sv(e),t.blockedOn=n,!1;e.shift()}return!0}function vw(t,e,n){dd(t)&&n.delete(e)}function Xk(){Vm=!1,Us!==null&&dd(Us)&&(Us=null),Bs!==null&&dd(Bs)&&(Bs=null),zs!==null&&dd(zs)&&(zs=null),rc.forEach(vw),sc.forEach(vw)}function ml(t,e){t.blockedOn===e&&(t.blockedOn=null,Vm||(Vm=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,Xk)))}function oc(t){function e(s){return ml(s,t)}if(0<Fu.length){ml(Fu[0],t);for(var n=1;n<Fu.length;n++){var r=Fu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Us!==null&&ml(Us,t),Bs!==null&&ml(Bs,t),zs!==null&&ml(zs,t),rc.forEach(e),sc.forEach(e),n=0;n<As.length;n++)r=As[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<As.length&&(n=As[0],n.blockedOn===null);)ME(n),n.blockedOn===null&&As.shift()}var qi=ps.ReactCurrentBatchConfig,Vd=!0;function Jk(t,e,n,r){var s=Be,o=qi.transition;qi.transition=null;try{Be=1,Tv(t,e,n,r)}finally{Be=s,qi.transition=o}}function Zk(t,e,n,r){var s=Be,o=qi.transition;qi.transition=null;try{Be=4,Tv(t,e,n,r)}finally{Be=s,qi.transition=o}}function Tv(t,e,n,r){if(Vd){var s=$m(t,e,n,r);if(s===null)Ip(t,e,r,$d,n),gw(t,r);else if(Yk(s,t,e,n,r))r.stopPropagation();else if(gw(t,r),e&4&&-1<Qk.indexOf(t)){for(;s!==null;){var o=Gc(s);if(o!==null&&RE(o),o=$m(t,e,n,r),o===null&&Ip(t,e,r,$d,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Ip(t,e,r,null,n)}}var $d=null;function $m(t,e,n,r){if($d=null,t=bv(r),t=Lo(t),t!==null)if(e=di(t),e===null)t=null;else if(n=e.tag,n===13){if(t=EE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $d=t,null}function OE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($k()){case Ev:return 1;case NE:return 4;case Ld:case Uk:return 16;case PE:return 536870912;default:return 16}default:return 16}}var Ls=null,Nv=null,hd=null;function LE(){if(hd)return hd;var t,e=Nv,n=e.length,r,s="value"in Ls?Ls.value:Ls.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[o-r];r++);return hd=s.slice(t,1<r?1-r:void 0)}function fd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vu(){return!0}function yw(){return!1}function Mn(t){function e(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Vu:yw,this.isPropagationStopped=yw,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vu)},persist:function(){},isPersistent:Vu}),e}var Ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pv=Mn(Ma),Hc=ot({},Ma,{view:0,detail:0}),eD=Mn(Hc),wp,_p,gl,$h=ot({},Hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gl&&(gl&&t.type==="mousemove"?(wp=t.screenX-gl.screenX,_p=t.screenY-gl.screenY):_p=wp=0,gl=t),wp)},movementY:function(t){return"movementY"in t?t.movementY:_p}}),xw=Mn($h),tD=ot({},$h,{dataTransfer:0}),nD=Mn(tD),rD=ot({},Hc,{relatedTarget:0}),bp=Mn(rD),sD=ot({},Ma,{animationName:0,elapsedTime:0,pseudoElement:0}),oD=Mn(sD),iD=ot({},Ma,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aD=Mn(iD),lD=ot({},Ma,{data:0}),ww=Mn(lD),cD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dD[t])?!!e[t]:!1}function Iv(){return hD}var fD=ot({},Hc,{key:function(t){if(t.key){var e=cD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iv,charCode:function(t){return t.type==="keypress"?fd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pD=Mn(fD),mD=ot({},$h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_w=Mn(mD),gD=ot({},Hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iv}),vD=Mn(gD),yD=ot({},Ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),xD=Mn(yD),wD=ot({},$h,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_D=Mn(wD),bD=[9,13,27,32],Av=ts&&"CompositionEvent"in window,Fl=null;ts&&"documentMode"in document&&(Fl=document.documentMode);var ED=ts&&"TextEvent"in window&&!Fl,FE=ts&&(!Av||Fl&&8<Fl&&11>=Fl),bw=" ",Ew=!1;function VE(t,e){switch(t){case"keyup":return bD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $E(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ji=!1;function CD(t,e){switch(t){case"compositionend":return $E(e);case"keypress":return e.which!==32?null:(Ew=!0,bw);case"textInput":return t=e.data,t===bw&&Ew?null:t;default:return null}}function SD(t,e){if(ji)return t==="compositionend"||!Av&&VE(t,e)?(t=LE(),hd=Nv=Ls=null,ji=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FE&&e.locale!=="ko"?null:e.data;default:return null}}var TD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!TD[t.type]:e==="textarea"}function UE(t,e,n,r){yE(r),e=Ud(e,"onChange"),0<e.length&&(n=new Pv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vl=null,ic=null;function ND(t){JE(t,0)}function Uh(t){var e=Li(t);if(dE(e))return t}function PD(t,e){if(t==="change")return e}var BE=!1;if(ts){var Ep;if(ts){var Cp="oninput"in document;if(!Cp){var Sw=document.createElement("div");Sw.setAttribute("oninput","return;"),Cp=typeof Sw.oninput=="function"}Ep=Cp}else Ep=!1;BE=Ep&&(!document.documentMode||9<document.documentMode)}function Tw(){Vl&&(Vl.detachEvent("onpropertychange",zE),ic=Vl=null)}function zE(t){if(t.propertyName==="value"&&Uh(ic)){var e=[];UE(e,ic,t,bv(t)),bE(ND,e)}}function ID(t,e,n){t==="focusin"?(Tw(),Vl=e,ic=n,Vl.attachEvent("onpropertychange",zE)):t==="focusout"&&Tw()}function AD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uh(ic)}function RD(t,e){if(t==="click")return Uh(e)}function kD(t,e){if(t==="input"||t==="change")return Uh(e)}function DD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cr=typeof Object.is=="function"?Object.is:DD;function ac(t,e){if(cr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!bm.call(e,s)||!cr(t[s],e[s]))return!1}return!0}function Nw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pw(t,e){var n=Nw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nw(n)}}function WE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?WE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function HE(){for(var t=window,e=jd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jd(t.document)}return e}function Rv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jD(t){var e=HE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&WE(n.ownerDocument.documentElement,n)){if(r!==null&&Rv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=Pw(n,o);var i=Pw(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MD=ts&&"documentMode"in document&&11>=document.documentMode,Mi=null,Um=null,$l=null,Bm=!1;function Iw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bm||Mi==null||Mi!==jd(r)||(r=Mi,"selectionStart"in r&&Rv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$l&&ac($l,r)||($l=r,r=Ud(Um,"onSelect"),0<r.length&&(e=new Pv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mi)))}function $u(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oi={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},Sp={},GE={};ts&&(GE=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function Bh(t){if(Sp[t])return Sp[t];if(!Oi[t])return t;var e=Oi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in GE)return Sp[t]=e[n];return t}var qE=Bh("animationend"),KE=Bh("animationiteration"),QE=Bh("animationstart"),YE=Bh("transitionend"),XE=new Map,Aw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function po(t,e){XE.set(t,e),ui(e,[t])}for(var Tp=0;Tp<Aw.length;Tp++){var Np=Aw[Tp],OD=Np.toLowerCase(),LD=Np[0].toUpperCase()+Np.slice(1);po(OD,"on"+LD)}po(qE,"onAnimationEnd");po(KE,"onAnimationIteration");po(QE,"onAnimationStart");po("dblclick","onDoubleClick");po("focusin","onFocus");po("focusout","onBlur");po(YE,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nl));function Rw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ok(r,e,void 0,t),t.currentTarget=null}function JE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;Rw(s,a,u),o=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;Rw(s,a,u),o=c}}}if(Od)throw t=Lm,Od=!1,Lm=null,t}function Xe(t,e){var n=e[qm];n===void 0&&(n=e[qm]=new Set);var r=t+"__bubble";n.has(r)||(ZE(e,t,2,!1),n.add(r))}function Pp(t,e,n){var r=0;e&&(r|=4),ZE(n,t,r,e)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function lc(t){if(!t[Uu]){t[Uu]=!0,iE.forEach(function(n){n!=="selectionchange"&&(FD.has(n)||Pp(n,!1,t),Pp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uu]||(e[Uu]=!0,Pp("selectionchange",!1,e))}}function ZE(t,e,n,r){switch(OE(e)){case 1:var s=Jk;break;case 4:s=Zk;break;default:s=Tv}n=s.bind(null,e,n,t),s=void 0,!Om||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ip(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Lo(a),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}a=a.parentNode}}r=r.return}bE(function(){var u=o,h=bv(n),p=[];e:{var f=XE.get(t);if(f!==void 0){var v=Pv,x=t;switch(t){case"keypress":if(fd(n)===0)break e;case"keydown":case"keyup":v=pD;break;case"focusin":x="focus",v=bp;break;case"focusout":x="blur",v=bp;break;case"beforeblur":case"afterblur":v=bp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=xw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=nD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=vD;break;case qE:case KE:case QE:v=oD;break;case YE:v=xD;break;case"scroll":v=eD;break;case"wheel":v=_D;break;case"copy":case"cut":case"paste":v=aD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=_w}var y=(e&4)!==0,_=!y&&t==="scroll",b=y?f!==null?f+"Capture":null:f;y=[];for(var w=u,C;w!==null;){C=w;var A=C.stateNode;if(C.tag===5&&A!==null&&(C=A,b!==null&&(A=nc(w,b),A!=null&&y.push(cc(w,A,C)))),_)break;w=w.return}0<y.length&&(f=new v(f,x,null,n,h),p.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==jm&&(x=n.relatedTarget||n.fromElement)&&(Lo(x)||x[ns]))break e;if((v||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=u,x=x?Lo(x):null,x!==null&&(_=di(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(y=xw,A="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=_w,A="onPointerLeave",b="onPointerEnter",w="pointer"),_=v==null?f:Li(v),C=x==null?f:Li(x),f=new y(A,w+"leave",v,n,h),f.target=_,f.relatedTarget=C,A=null,Lo(h)===u&&(y=new y(b,w+"enter",x,n,h),y.target=C,y.relatedTarget=_,A=y),_=A,v&&x)t:{for(y=v,b=x,w=0,C=y;C;C=Ei(C))w++;for(C=0,A=b;A;A=Ei(A))C++;for(;0<w-C;)y=Ei(y),w--;for(;0<C-w;)b=Ei(b),C--;for(;w--;){if(y===b||b!==null&&y===b.alternate)break t;y=Ei(y),b=Ei(b)}y=null}else y=null;v!==null&&kw(p,f,v,y,!1),x!==null&&_!==null&&kw(p,_,x,y,!0)}}e:{if(f=u?Li(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var j=PD;else if(Cw(f))if(BE)j=kD;else{j=AD;var O=ID}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=RD);if(j&&(j=j(t,u))){UE(p,j,n,h);break e}O&&O(t,f,u),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&Im(f,"number",f.value)}switch(O=u?Li(u):window,t){case"focusin":(Cw(O)||O.contentEditable==="true")&&(Mi=O,Um=u,$l=null);break;case"focusout":$l=Um=Mi=null;break;case"mousedown":Bm=!0;break;case"contextmenu":case"mouseup":case"dragend":Bm=!1,Iw(p,n,h);break;case"selectionchange":if(MD)break;case"keydown":case"keyup":Iw(p,n,h)}var N;if(Av)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ji?VE(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(FE&&n.locale!=="ko"&&(ji||S!=="onCompositionStart"?S==="onCompositionEnd"&&ji&&(N=LE()):(Ls=h,Nv="value"in Ls?Ls.value:Ls.textContent,ji=!0)),O=Ud(u,S),0<O.length&&(S=new ww(S,t,null,n,h),p.push({event:S,listeners:O}),N?S.data=N:(N=$E(n),N!==null&&(S.data=N)))),(N=ED?CD(t,n):SD(t,n))&&(u=Ud(u,"onBeforeInput"),0<u.length&&(h=new ww("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=N))}JE(p,e)})}function cc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ud(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=nc(t,n),o!=null&&r.unshift(cc(t,o,s)),o=nc(t,e),o!=null&&r.push(cc(t,o,s))),t=t.return}return r}function Ei(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kw(t,e,n,r,s){for(var o=e._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=nc(n,o),c!=null&&i.unshift(cc(n,c,a))):s||(c=nc(n,o),c!=null&&i.push(cc(n,c,a)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var VD=/\r\n?/g,$D=/\u0000|\uFFFD/g;function Dw(t){return(typeof t=="string"?t:""+t).replace(VD,`
`).replace($D,"")}function Bu(t,e,n){if(e=Dw(e),Dw(t)!==e&&n)throw Error(q(425))}function Bd(){}var zm=null,Wm=null;function Hm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gm=typeof setTimeout=="function"?setTimeout:void 0,UD=typeof clearTimeout=="function"?clearTimeout:void 0,jw=typeof Promise=="function"?Promise:void 0,BD=typeof queueMicrotask=="function"?queueMicrotask:typeof jw<"u"?function(t){return jw.resolve(null).then(t).catch(zD)}:Gm;function zD(t){setTimeout(function(){throw t})}function Ap(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),oc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);oc(e)}function Ws(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Oa=Math.random().toString(36).slice(2),Er="__reactFiber$"+Oa,uc="__reactProps$"+Oa,ns="__reactContainer$"+Oa,qm="__reactEvents$"+Oa,WD="__reactListeners$"+Oa,HD="__reactHandles$"+Oa;function Lo(t){var e=t[Er];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ns]||n[Er]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Mw(t);t!==null;){if(n=t[Er])return n;t=Mw(t)}return e}t=n,n=t.parentNode}return null}function Gc(t){return t=t[Er]||t[ns],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Li(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function zh(t){return t[uc]||null}var Km=[],Fi=-1;function mo(t){return{current:t}}function et(t){0>Fi||(t.current=Km[Fi],Km[Fi]=null,Fi--)}function qe(t,e){Fi++,Km[Fi]=t.current,t.current=e}var to={},tn=mo(to),xn=mo(!1),Jo=to;function fa(t,e){var n=t.type.contextTypes;if(!n)return to;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function wn(t){return t=t.childContextTypes,t!=null}function zd(){et(xn),et(tn)}function Ow(t,e,n){if(tn.current!==to)throw Error(q(168));qe(tn,e),qe(xn,n)}function eC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,Ik(t)||"Unknown",s));return ot({},n,r)}function Wd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||to,Jo=tn.current,qe(tn,t),qe(xn,xn.current),!0}function Lw(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=eC(t,e,Jo),r.__reactInternalMemoizedMergedChildContext=t,et(xn),et(tn),qe(tn,t)):et(xn),qe(xn,n)}var Qr=null,Wh=!1,Rp=!1;function tC(t){Qr===null?Qr=[t]:Qr.push(t)}function GD(t){Wh=!0,tC(t)}function go(){if(!Rp&&Qr!==null){Rp=!0;var t=0,e=Be;try{var n=Qr;for(Be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qr=null,Wh=!1}catch(s){throw Qr!==null&&(Qr=Qr.slice(t+1)),TE(Ev,go),s}finally{Be=e,Rp=!1}}return null}var Vi=[],$i=0,Hd=null,Gd=0,Vn=[],$n=0,Zo=null,Xr=1,Jr="";function ko(t,e){Vi[$i++]=Gd,Vi[$i++]=Hd,Hd=t,Gd=e}function nC(t,e,n){Vn[$n++]=Xr,Vn[$n++]=Jr,Vn[$n++]=Zo,Zo=t;var r=Xr;t=Jr;var s=32-or(r)-1;r&=~(1<<s),n+=1;var o=32-or(e)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Xr=1<<32-or(e)+s|n<<s|r,Jr=o+t}else Xr=1<<o|n<<s|r,Jr=t}function kv(t){t.return!==null&&(ko(t,1),nC(t,1,0))}function Dv(t){for(;t===Hd;)Hd=Vi[--$i],Vi[$i]=null,Gd=Vi[--$i],Vi[$i]=null;for(;t===Zo;)Zo=Vn[--$n],Vn[$n]=null,Jr=Vn[--$n],Vn[$n]=null,Xr=Vn[--$n],Vn[$n]=null}var An=null,Pn=null,nt=!1,rr=null;function rC(t,e){var n=Bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Fw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,An=t,Pn=Ws(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,An=t,Pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zo!==null?{id:Xr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,An=t,Pn=null,!0):!1;default:return!1}}function Qm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ym(t){if(nt){var e=Pn;if(e){var n=e;if(!Fw(t,e)){if(Qm(t))throw Error(q(418));e=Ws(n.nextSibling);var r=An;e&&Fw(t,e)?rC(r,n):(t.flags=t.flags&-4097|2,nt=!1,An=t)}}else{if(Qm(t))throw Error(q(418));t.flags=t.flags&-4097|2,nt=!1,An=t}}}function Vw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;An=t}function zu(t){if(t!==An)return!1;if(!nt)return Vw(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hm(t.type,t.memoizedProps)),e&&(e=Pn)){if(Qm(t))throw sC(),Error(q(418));for(;e;)rC(t,e),e=Ws(e.nextSibling)}if(Vw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pn=Ws(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pn=null}}else Pn=An?Ws(t.stateNode.nextSibling):null;return!0}function sC(){for(var t=Pn;t;)t=Ws(t.nextSibling)}function pa(){Pn=An=null,nt=!1}function jv(t){rr===null?rr=[t]:rr.push(t)}var qD=ps.ReactCurrentBatchConfig;function vl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function Wu(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $w(t){var e=t._init;return e(t._payload)}function oC(t){function e(b,w){if(t){var C=b.deletions;C===null?(b.deletions=[w],b.flags|=16):C.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function s(b,w){return b=Ks(b,w),b.index=0,b.sibling=null,b}function o(b,w,C){return b.index=C,t?(C=b.alternate,C!==null?(C=C.index,C<w?(b.flags|=2,w):C):(b.flags|=2,w)):(b.flags|=1048576,w)}function i(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,w,C,A){return w===null||w.tag!==6?(w=Fp(C,b.mode,A),w.return=b,w):(w=s(w,C),w.return=b,w)}function c(b,w,C,A){var j=C.type;return j===Di?h(b,w,C.props.children,A,C.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ps&&$w(j)===w.type)?(A=s(w,C.props),A.ref=vl(b,w,C),A.return=b,A):(A=wd(C.type,C.key,C.props,null,b.mode,A),A.ref=vl(b,w,C),A.return=b,A)}function u(b,w,C,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=Vp(C,b.mode,A),w.return=b,w):(w=s(w,C.children||[]),w.return=b,w)}function h(b,w,C,A,j){return w===null||w.tag!==7?(w=Go(C,b.mode,A,j),w.return=b,w):(w=s(w,C),w.return=b,w)}function p(b,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Fp(""+w,b.mode,C),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Du:return C=wd(w.type,w.key,w.props,null,b.mode,C),C.ref=vl(b,null,w),C.return=b,C;case ki:return w=Vp(w,b.mode,C),w.return=b,w;case Ps:var A=w._init;return p(b,A(w._payload),C)}if(Sl(w)||hl(w))return w=Go(w,b.mode,C,null),w.return=b,w;Wu(b,w)}return null}function f(b,w,C,A){var j=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return j!==null?null:a(b,w,""+C,A);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Du:return C.key===j?c(b,w,C,A):null;case ki:return C.key===j?u(b,w,C,A):null;case Ps:return j=C._init,f(b,w,j(C._payload),A)}if(Sl(C)||hl(C))return j!==null?null:h(b,w,C,A,null);Wu(b,C)}return null}function v(b,w,C,A,j){if(typeof A=="string"&&A!==""||typeof A=="number")return b=b.get(C)||null,a(w,b,""+A,j);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Du:return b=b.get(A.key===null?C:A.key)||null,c(w,b,A,j);case ki:return b=b.get(A.key===null?C:A.key)||null,u(w,b,A,j);case Ps:var O=A._init;return v(b,w,C,O(A._payload),j)}if(Sl(A)||hl(A))return b=b.get(C)||null,h(w,b,A,j,null);Wu(w,A)}return null}function x(b,w,C,A){for(var j=null,O=null,N=w,S=w=0,P=null;N!==null&&S<C.length;S++){N.index>S?(P=N,N=null):P=N.sibling;var T=f(b,N,C[S],A);if(T===null){N===null&&(N=P);break}t&&N&&T.alternate===null&&e(b,N),w=o(T,w,S),O===null?j=T:O.sibling=T,O=T,N=P}if(S===C.length)return n(b,N),nt&&ko(b,S),j;if(N===null){for(;S<C.length;S++)N=p(b,C[S],A),N!==null&&(w=o(N,w,S),O===null?j=N:O.sibling=N,O=N);return nt&&ko(b,S),j}for(N=r(b,N);S<C.length;S++)P=v(N,b,S,C[S],A),P!==null&&(t&&P.alternate!==null&&N.delete(P.key===null?S:P.key),w=o(P,w,S),O===null?j=P:O.sibling=P,O=P);return t&&N.forEach(function(R){return e(b,R)}),nt&&ko(b,S),j}function y(b,w,C,A){var j=hl(C);if(typeof j!="function")throw Error(q(150));if(C=j.call(C),C==null)throw Error(q(151));for(var O=j=null,N=w,S=w=0,P=null,T=C.next();N!==null&&!T.done;S++,T=C.next()){N.index>S?(P=N,N=null):P=N.sibling;var R=f(b,N,T.value,A);if(R===null){N===null&&(N=P);break}t&&N&&R.alternate===null&&e(b,N),w=o(R,w,S),O===null?j=R:O.sibling=R,O=R,N=P}if(T.done)return n(b,N),nt&&ko(b,S),j;if(N===null){for(;!T.done;S++,T=C.next())T=p(b,T.value,A),T!==null&&(w=o(T,w,S),O===null?j=T:O.sibling=T,O=T);return nt&&ko(b,S),j}for(N=r(b,N);!T.done;S++,T=C.next())T=v(N,b,S,T.value,A),T!==null&&(t&&T.alternate!==null&&N.delete(T.key===null?S:T.key),w=o(T,w,S),O===null?j=T:O.sibling=T,O=T);return t&&N.forEach(function(D){return e(b,D)}),nt&&ko(b,S),j}function _(b,w,C,A){if(typeof C=="object"&&C!==null&&C.type===Di&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Du:e:{for(var j=C.key,O=w;O!==null;){if(O.key===j){if(j=C.type,j===Di){if(O.tag===7){n(b,O.sibling),w=s(O,C.props.children),w.return=b,b=w;break e}}else if(O.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ps&&$w(j)===O.type){n(b,O.sibling),w=s(O,C.props),w.ref=vl(b,O,C),w.return=b,b=w;break e}n(b,O);break}else e(b,O);O=O.sibling}C.type===Di?(w=Go(C.props.children,b.mode,A,C.key),w.return=b,b=w):(A=wd(C.type,C.key,C.props,null,b.mode,A),A.ref=vl(b,w,C),A.return=b,b=A)}return i(b);case ki:e:{for(O=C.key;w!==null;){if(w.key===O)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){n(b,w.sibling),w=s(w,C.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=Vp(C,b.mode,A),w.return=b,b=w}return i(b);case Ps:return O=C._init,_(b,w,O(C._payload),A)}if(Sl(C))return x(b,w,C,A);if(hl(C))return y(b,w,C,A);Wu(b,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(n(b,w.sibling),w=s(w,C),w.return=b,b=w):(n(b,w),w=Fp(C,b.mode,A),w.return=b,b=w),i(b)):n(b,w)}return _}var ma=oC(!0),iC=oC(!1),qd=mo(null),Kd=null,Ui=null,Mv=null;function Ov(){Mv=Ui=Kd=null}function Lv(t){var e=qd.current;et(qd),t._currentValue=e}function Xm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ki(t,e){Kd=t,Mv=Ui=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yn=!0),t.firstContext=null)}function qn(t){var e=t._currentValue;if(Mv!==t)if(t={context:t,memoizedValue:e,next:null},Ui===null){if(Kd===null)throw Error(q(308));Ui=t,Kd.dependencies={lanes:0,firstContext:t}}else Ui=Ui.next=t;return e}var Fo=null;function Fv(t){Fo===null?Fo=[t]:Fo.push(t)}function aC(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Fv(e)):(n.next=s.next,s.next=n),e.interleaved=n,rs(t,r)}function rs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Is=!1;function Vv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function es(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,rs(t,n)}return s=r.interleaved,s===null?(e.next=e,Fv(r)):(e.next=s.next,s.next=e),r.interleaved=e,rs(t,n)}function pd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cv(t,n)}}function Uw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qd(t,e,n,r){var s=t.updateQueue;Is=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==i&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(o!==null){var p=s.baseState;i=0,h=u=c=null,a=o;do{var f=a.lane,v=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,y=a;switch(f=e,v=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){p=x.call(v,p,f);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,f=typeof x=="function"?x.call(v,p,f):x,f==null)break e;p=ot({},p,f);break e;case 2:Is=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=v,c=p):h=h.next=v,i|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);ti|=i,t.lanes=i,t.memoizedState=p}}function Bw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var qc={},Nr=mo(qc),dc=mo(qc),hc=mo(qc);function Vo(t){if(t===qc)throw Error(q(174));return t}function $v(t,e){switch(qe(hc,e),qe(dc,t),qe(Nr,qc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rm(e,t)}et(Nr),qe(Nr,e)}function ga(){et(Nr),et(dc),et(hc)}function cC(t){Vo(hc.current);var e=Vo(Nr.current),n=Rm(e,t.type);e!==n&&(qe(dc,t),qe(Nr,n))}function Uv(t){dc.current===t&&(et(Nr),et(dc))}var rt=mo(0);function Yd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kp=[];function Bv(){for(var t=0;t<kp.length;t++)kp[t]._workInProgressVersionPrimary=null;kp.length=0}var md=ps.ReactCurrentDispatcher,Dp=ps.ReactCurrentBatchConfig,ei=0,st=null,wt=null,It=null,Xd=!1,Ul=!1,fc=0,KD=0;function qt(){throw Error(q(321))}function zv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cr(t[n],e[n]))return!1;return!0}function Wv(t,e,n,r,s,o){if(ei=o,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,md.current=t===null||t.memoizedState===null?JD:ZD,t=n(r,s),Ul){o=0;do{if(Ul=!1,fc=0,25<=o)throw Error(q(301));o+=1,It=wt=null,e.updateQueue=null,md.current=ej,t=n(r,s)}while(Ul)}if(md.current=Jd,e=wt!==null&&wt.next!==null,ei=0,It=wt=st=null,Xd=!1,e)throw Error(q(300));return t}function Hv(){var t=fc!==0;return fc=0,t}function gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?st.memoizedState=It=t:It=It.next=t,It}function Kn(){if(wt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=It===null?st.memoizedState:It.next;if(e!==null)It=e,wt=t;else{if(t===null)throw Error(q(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},It===null?st.memoizedState=It=t:It=It.next=t}return It}function pc(t,e){return typeof e=="function"?e(t):e}function jp(t){var e=Kn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=wt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,c=null,u=o;do{var h=u.lane;if((ei&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=p,i=r):c=c.next=p,st.lanes|=h,ti|=h}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=a,cr(r,e.memoizedState)||(yn=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,st.lanes|=o,ti|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mp(t){var e=Kn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);cr(o,e.memoizedState)||(yn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function uC(){}function dC(t,e){var n=st,r=Kn(),s=e(),o=!cr(r.memoizedState,s);if(o&&(r.memoizedState=s,yn=!0),r=r.queue,Gv(pC.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,mc(9,fC.bind(null,n,r,s,e),void 0,null),Rt===null)throw Error(q(349));ei&30||hC(n,e,s)}return s}function hC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fC(t,e,n,r){e.value=n,e.getSnapshot=r,mC(e)&&gC(t)}function pC(t,e,n){return n(function(){mC(e)&&gC(t)})}function mC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cr(t,n)}catch{return!0}}function gC(t){var e=rs(t,1);e!==null&&ir(e,t,1,-1)}function zw(t){var e=gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pc,lastRenderedState:t},e.queue=t,t=t.dispatch=XD.bind(null,st,t),[e.memoizedState,t]}function mc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vC(){return Kn().memoizedState}function gd(t,e,n,r){var s=gr();st.flags|=t,s.memoizedState=mc(1|e,n,void 0,r===void 0?null:r)}function Hh(t,e,n,r){var s=Kn();r=r===void 0?null:r;var o=void 0;if(wt!==null){var i=wt.memoizedState;if(o=i.destroy,r!==null&&zv(r,i.deps)){s.memoizedState=mc(e,n,o,r);return}}st.flags|=t,s.memoizedState=mc(1|e,n,o,r)}function Ww(t,e){return gd(8390656,8,t,e)}function Gv(t,e){return Hh(2048,8,t,e)}function yC(t,e){return Hh(4,2,t,e)}function xC(t,e){return Hh(4,4,t,e)}function wC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _C(t,e,n){return n=n!=null?n.concat([t]):null,Hh(4,4,wC.bind(null,e,t),n)}function qv(){}function bC(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function EC(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function CC(t,e,n){return ei&21?(cr(n,e)||(n=IE(),st.lanes|=n,ti|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yn=!0),t.memoizedState=n)}function QD(t,e){var n=Be;Be=n!==0&&4>n?n:4,t(!0);var r=Dp.transition;Dp.transition={};try{t(!1),e()}finally{Be=n,Dp.transition=r}}function SC(){return Kn().memoizedState}function YD(t,e,n){var r=qs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TC(t))NC(e,n);else if(n=aC(t,e,n,r),n!==null){var s=cn();ir(n,t,r,s),PC(n,e,r)}}function XD(t,e,n){var r=qs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TC(t))NC(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,cr(a,i)){var c=e.interleaved;c===null?(s.next=s,Fv(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=aC(t,e,s,r),n!==null&&(s=cn(),ir(n,t,r,s),PC(n,e,r))}}function TC(t){var e=t.alternate;return t===st||e!==null&&e===st}function NC(t,e){Ul=Xd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function PC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cv(t,n)}}var Jd={readContext:qn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},JD={readContext:qn,useCallback:function(t,e){return gr().memoizedState=[t,e===void 0?null:e],t},useContext:qn,useEffect:Ww,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gd(4194308,4,wC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gd(4194308,4,t,e)},useInsertionEffect:function(t,e){return gd(4,2,t,e)},useMemo:function(t,e){var n=gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=YD.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=gr();return t={current:t},e.memoizedState=t},useState:zw,useDebugValue:qv,useDeferredValue:function(t){return gr().memoizedState=t},useTransition:function(){var t=zw(!1),e=t[0];return t=QD.bind(null,t[1]),gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,s=gr();if(nt){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Rt===null)throw Error(q(349));ei&30||hC(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,Ww(pC.bind(null,r,o,t),[t]),r.flags|=2048,mc(9,fC.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=gr(),e=Rt.identifierPrefix;if(nt){var n=Jr,r=Xr;n=(r&~(1<<32-or(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=KD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ZD={readContext:qn,useCallback:bC,useContext:qn,useEffect:Gv,useImperativeHandle:_C,useInsertionEffect:yC,useLayoutEffect:xC,useMemo:EC,useReducer:jp,useRef:vC,useState:function(){return jp(pc)},useDebugValue:qv,useDeferredValue:function(t){var e=Kn();return CC(e,wt.memoizedState,t)},useTransition:function(){var t=jp(pc)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:uC,useSyncExternalStore:dC,useId:SC,unstable_isNewReconciler:!1},ej={readContext:qn,useCallback:bC,useContext:qn,useEffect:Gv,useImperativeHandle:_C,useInsertionEffect:yC,useLayoutEffect:xC,useMemo:EC,useReducer:Mp,useRef:vC,useState:function(){return Mp(pc)},useDebugValue:qv,useDeferredValue:function(t){var e=Kn();return wt===null?e.memoizedState=t:CC(e,wt.memoizedState,t)},useTransition:function(){var t=Mp(pc)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:uC,useSyncExternalStore:dC,useId:SC,unstable_isNewReconciler:!1};function Zn(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Jm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gh={isMounted:function(t){return(t=t._reactInternals)?di(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cn(),s=qs(t),o=es(r,s);o.payload=e,n!=null&&(o.callback=n),e=Hs(t,o,s),e!==null&&(ir(e,t,s,r),pd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cn(),s=qs(t),o=es(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Hs(t,o,s),e!==null&&(ir(e,t,s,r),pd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cn(),r=qs(t),s=es(n,r);s.tag=2,e!=null&&(s.callback=e),e=Hs(t,s,r),e!==null&&(ir(e,t,r,n),pd(e,t,r))}};function Hw(t,e,n,r,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):e.prototype&&e.prototype.isPureReactComponent?!ac(n,r)||!ac(s,o):!0}function IC(t,e,n){var r=!1,s=to,o=e.contextType;return typeof o=="object"&&o!==null?o=qn(o):(s=wn(e)?Jo:tn.current,r=e.contextTypes,o=(r=r!=null)?fa(t,s):to),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Gw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gh.enqueueReplaceState(e,e.state,null)}function Zm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Vv(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=qn(o):(o=wn(e)?Jo:tn.current,s.context=fa(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Jm(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Gh.enqueueReplaceState(s,s.state,null),Qd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function va(t,e){try{var n="",r=e;do n+=Pk(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Op(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function eg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tj=typeof WeakMap=="function"?WeakMap:Map;function AC(t,e,n){n=es(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){eh||(eh=!0,ug=r),eg(t,e)},n}function RC(t,e,n){n=es(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){eg(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){eg(t,e),typeof r!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function qw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tj;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=mj.bind(null,t,e,n),e.then(t,t))}function Kw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Qw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=es(-1,1),e.tag=2,Hs(n,e,1))),n.lanes|=1),t)}var nj=ps.ReactCurrentOwner,yn=!1;function on(t,e,n,r){e.child=t===null?iC(e,null,n,r):ma(e,t.child,n,r)}function Yw(t,e,n,r,s){n=n.render;var o=e.ref;return Ki(e,s),r=Wv(t,e,n,r,o,s),n=Hv(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ss(t,e,s)):(nt&&n&&kv(e),e.flags|=1,on(t,e,r,s),e.child)}function Xw(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!ty(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,kC(t,e,o,r,s)):(t=wd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:ac,n(i,r)&&t.ref===e.ref)return ss(t,e,s)}return e.flags|=1,t=Ks(o,r),t.ref=e.ref,t.return=e,e.child=t}function kC(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(ac(o,r)&&t.ref===e.ref)if(yn=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(yn=!0);else return e.lanes=t.lanes,ss(t,e,s)}return tg(t,e,n,r,s)}function DC(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(zi,Tn),Tn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(zi,Tn),Tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,qe(zi,Tn),Tn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,qe(zi,Tn),Tn|=r;return on(t,e,s,n),e.child}function jC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tg(t,e,n,r,s){var o=wn(n)?Jo:tn.current;return o=fa(e,o),Ki(e,s),n=Wv(t,e,n,r,o,s),r=Hv(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ss(t,e,s)):(nt&&r&&kv(e),e.flags|=1,on(t,e,n,s),e.child)}function Jw(t,e,n,r,s){if(wn(n)){var o=!0;Wd(e)}else o=!1;if(Ki(e,s),e.stateNode===null)vd(t,e),IC(e,n,r),Zm(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=qn(u):(u=wn(n)?Jo:tn.current,u=fa(e,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Gw(e,i,r,u),Is=!1;var f=e.memoizedState;i.state=f,Qd(e,r,i,s),c=e.memoizedState,a!==r||f!==c||xn.current||Is?(typeof h=="function"&&(Jm(e,n,h,r),c=e.memoizedState),(a=Is||Hw(e,n,a,r,f,c,u))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),i.props=r,i.state=c,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,lC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Zn(e.type,a),i.props=u,p=e.pendingProps,f=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=qn(c):(c=wn(n)?Jo:tn.current,c=fa(e,c));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==p||f!==c)&&Gw(e,i,r,c),Is=!1,f=e.memoizedState,i.state=f,Qd(e,r,i,s);var x=e.memoizedState;a!==p||f!==x||xn.current||Is?(typeof v=="function"&&(Jm(e,n,v,r),x=e.memoizedState),(u=Is||Hw(e,n,u,r,f,x,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,x,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,x,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),i.props=r,i.state=x,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ng(t,e,n,r,o,s)}function ng(t,e,n,r,s,o){jC(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&Lw(e,n,!1),ss(t,e,o);r=e.stateNode,nj.current=e;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=ma(e,t.child,null,o),e.child=ma(e,null,a,o)):on(t,e,a,o),e.memoizedState=r.state,s&&Lw(e,n,!0),e.child}function MC(t){var e=t.stateNode;e.pendingContext?Ow(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ow(t,e.context,!1),$v(t,e.containerInfo)}function Zw(t,e,n,r,s){return pa(),jv(s),e.flags|=256,on(t,e,n,r),e.child}var rg={dehydrated:null,treeContext:null,retryLane:0};function sg(t){return{baseLanes:t,cachePool:null,transitions:null}}function OC(t,e,n){var r=e.pendingProps,s=rt.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),qe(rt,s&1),t===null)return Ym(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Qh(i,r,0,null),t=Go(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=sg(n),e.memoizedState=rg,t):Kv(e,i));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return rj(t,e,i,r,a,s,n);if(o){o=r.fallback,i=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ks(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Ks(a,o):(o=Go(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,i=t.child.memoizedState,i=i===null?sg(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~n,e.memoizedState=rg,r}return o=t.child,t=o.sibling,r=Ks(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Kv(t,e){return e=Qh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hu(t,e,n,r){return r!==null&&jv(r),ma(e,t.child,null,n),t=Kv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rj(t,e,n,r,s,o,i){if(n)return e.flags&256?(e.flags&=-257,r=Op(Error(q(422))),Hu(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=Qh({mode:"visible",children:r.children},s,0,null),o=Go(o,s,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ma(e,t.child,null,i),e.child.memoizedState=sg(i),e.memoizedState=rg,o);if(!(e.mode&1))return Hu(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(q(419)),r=Op(o,r,void 0),Hu(t,e,i,r)}if(a=(i&t.childLanes)!==0,yn||a){if(r=Rt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,rs(t,s),ir(r,t,s,-1))}return ey(),r=Op(Error(q(421))),Hu(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=gj.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Pn=Ws(s.nextSibling),An=e,nt=!0,rr=null,t!==null&&(Vn[$n++]=Xr,Vn[$n++]=Jr,Vn[$n++]=Zo,Xr=t.id,Jr=t.overflow,Zo=e),e=Kv(e,r.children),e.flags|=4096,e)}function e1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xm(t.return,e,n)}function Lp(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function LC(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(on(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e1(t,n,e);else if(t.tag===19)e1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(rt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Yd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Lp(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Yd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Lp(e,!0,n,null,o);break;case"together":Lp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ss(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ti|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Ks(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ks(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sj(t,e,n){switch(e.tag){case 3:MC(e),pa();break;case 5:cC(e);break;case 1:wn(e.type)&&Wd(e);break;case 4:$v(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;qe(qd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?OC(t,e,n):(qe(rt,rt.current&1),t=ss(t,e,n),t!==null?t.sibling:null);qe(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return LC(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qe(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,DC(t,e,n)}return ss(t,e,n)}var FC,og,VC,$C;FC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};og=function(){};VC=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Vo(Nr.current);var o=null;switch(n){case"input":s=Nm(t,s),r=Nm(t,r),o=[];break;case"select":s=ot({},s,{value:void 0}),r=ot({},r,{value:void 0}),o=[];break;case"textarea":s=Am(t,s),r=Am(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bd)}km(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ec.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ec.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Xe("scroll",t),o||a===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};$C=function(t,e,n,r){n!==r&&(e.flags|=4)};function yl(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function oj(t,e,n){var r=e.pendingProps;switch(Dv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return wn(e.type)&&zd(),Kt(e),null;case 3:return r=e.stateNode,ga(),et(xn),et(tn),Bv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rr!==null&&(fg(rr),rr=null))),og(t,e),Kt(e),null;case 5:Uv(e);var s=Vo(hc.current);if(n=e.type,t!==null&&e.stateNode!=null)VC(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Kt(e),null}if(t=Vo(Nr.current),zu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Er]=e,r[uc]=o,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(s=0;s<Nl.length;s++)Xe(Nl[s],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":cw(r,o),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Xe("invalid",r);break;case"textarea":dw(r,o),Xe("invalid",r)}km(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Bu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Bu(r.textContent,a,t),s=["children",""+a]):ec.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Xe("scroll",r)}switch(n){case"input":ju(r),uw(r,o,!0);break;case"textarea":ju(r),hw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Bd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[Er]=e,t[uc]=r,FC(t,e,!1,!1),e.stateNode=t;e:{switch(i=Dm(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),s=r;break;case"iframe":case"object":case"embed":Xe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Nl.length;s++)Xe(Nl[s],t);s=r;break;case"source":Xe("error",t),s=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),s=r;break;case"details":Xe("toggle",t),s=r;break;case"input":cw(t,r),s=Nm(t,r),Xe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ot({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":dw(t,r),s=Am(t,r),Xe("invalid",t);break;default:s=r}km(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?vE(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&mE(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&tc(t,c):typeof c=="number"&&tc(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ec.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Xe("scroll",t):c!=null&&yv(t,o,c,i))}switch(n){case"input":ju(t),uw(t,r,!1);break;case"textarea":ju(t),hw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+eo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Wi(t,!!r.multiple,o,!1):r.defaultValue!=null&&Wi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Bd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kt(e),null;case 6:if(t&&e.stateNode!=null)$C(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Vo(hc.current),Vo(Nr.current),zu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Er]=e,(o=r.nodeValue!==n)&&(t=An,t!==null))switch(t.tag){case 3:Bu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Er]=e,e.stateNode=r}return Kt(e),null;case 13:if(et(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&Pn!==null&&e.mode&1&&!(e.flags&128))sC(),pa(),e.flags|=98560,o=!1;else if(o=zu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(q(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(q(317));o[Er]=e}else pa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kt(e),o=!1}else rr!==null&&(fg(rr),rr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?bt===0&&(bt=3):ey())),e.updateQueue!==null&&(e.flags|=4),Kt(e),null);case 4:return ga(),og(t,e),t===null&&lc(e.stateNode.containerInfo),Kt(e),null;case 10:return Lv(e.type._context),Kt(e),null;case 17:return wn(e.type)&&zd(),Kt(e),null;case 19:if(et(rt),o=e.memoizedState,o===null)return Kt(e),null;if(r=(e.flags&128)!==0,i=o.rendering,i===null)if(r)yl(o,!1);else{if(bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Yd(t),i!==null){for(e.flags|=128,yl(o,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(rt,rt.current&1|2),e.child}t=t.sibling}o.tail!==null&&ft()>ya&&(e.flags|=128,r=!0,yl(o,!1),e.lanes=4194304)}else{if(!r)if(t=Yd(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),yl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!nt)return Kt(e),null}else 2*ft()-o.renderingStartTime>ya&&n!==1073741824&&(e.flags|=128,r=!0,yl(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(n=o.last,n!==null?n.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ft(),e.sibling=null,n=rt.current,qe(rt,r?n&1|2:n&1),e):(Kt(e),null);case 22:case 23:return Zv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tn&1073741824&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function ij(t,e){switch(Dv(e),e.tag){case 1:return wn(e.type)&&zd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ga(),et(xn),et(tn),Bv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Uv(e),null;case 13:if(et(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));pa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(rt),null;case 4:return ga(),null;case 10:return Lv(e.type._context),null;case 22:case 23:return Zv(),null;case 24:return null;default:return null}}var Gu=!1,Zt=!1,aj=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Bi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(t,e,r)}else n.current=null}function ig(t,e,n){try{n()}catch(r){ut(t,e,r)}}var t1=!1;function lj(t,e){if(zm=Vd,t=HE(),Rv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,c=-1,u=0,h=0,p=t,f=null;t:for(;;){for(var v;p!==n||s!==0&&p.nodeType!==3||(a=i+s),p!==o||r!==0&&p.nodeType!==3||(c=i+r),p.nodeType===3&&(i+=p.nodeValue.length),(v=p.firstChild)!==null;)f=p,p=v;for(;;){if(p===t)break t;if(f===n&&++u===s&&(a=i),f===o&&++h===r&&(c=i),(v=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=v}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wm={focusedElem:t,selectionRange:n},Vd=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,_=x.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:Zn(e.type,y),_);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(A){ut(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return x=t1,t1=!1,x}function Bl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&ig(e,n,o)}s=s.next}while(s!==r)}}function qh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ag(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function UC(t){var e=t.alternate;e!==null&&(t.alternate=null,UC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Er],delete e[uc],delete e[qm],delete e[WD],delete e[HD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function BC(t){return t.tag===5||t.tag===3||t.tag===4}function n1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bd));else if(r!==4&&(t=t.child,t!==null))for(lg(t,e,n),t=t.sibling;t!==null;)lg(t,e,n),t=t.sibling}function cg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cg(t,e,n),t=t.sibling;t!==null;)cg(t,e,n),t=t.sibling}var jt=null,nr=!1;function bs(t,e,n){for(n=n.child;n!==null;)zC(t,e,n),n=n.sibling}function zC(t,e,n){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(Vh,n)}catch{}switch(n.tag){case 5:Zt||Bi(n,e);case 6:var r=jt,s=nr;jt=null,bs(t,e,n),jt=r,nr=s,jt!==null&&(nr?(t=jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(nr?(t=jt,n=n.stateNode,t.nodeType===8?Ap(t.parentNode,n):t.nodeType===1&&Ap(t,n),oc(t)):Ap(jt,n.stateNode));break;case 4:r=jt,s=nr,jt=n.stateNode.containerInfo,nr=!0,bs(t,e,n),jt=r,nr=s;break;case 0:case 11:case 14:case 15:if(!Zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&ig(n,e,i),s=s.next}while(s!==r)}bs(t,e,n);break;case 1:if(!Zt&&(Bi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ut(n,e,a)}bs(t,e,n);break;case 21:bs(t,e,n);break;case 22:n.mode&1?(Zt=(r=Zt)||n.memoizedState!==null,bs(t,e,n),Zt=r):bs(t,e,n);break;default:bs(t,e,n)}}function r1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new aj),e.forEach(function(r){var s=vj.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:jt=a.stateNode,nr=!1;break e;case 3:jt=a.stateNode.containerInfo,nr=!0;break e;case 4:jt=a.stateNode.containerInfo,nr=!0;break e}a=a.return}if(jt===null)throw Error(q(160));zC(o,i,s),jt=null,nr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ut(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)WC(e,t),e=e.sibling}function WC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xn(e,t),mr(t),r&4){try{Bl(3,t,t.return),qh(3,t)}catch(y){ut(t,t.return,y)}try{Bl(5,t,t.return)}catch(y){ut(t,t.return,y)}}break;case 1:Xn(e,t),mr(t),r&512&&n!==null&&Bi(n,n.return);break;case 5:if(Xn(e,t),mr(t),r&512&&n!==null&&Bi(n,n.return),t.flags&32){var s=t.stateNode;try{tc(s,"")}catch(y){ut(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=n!==null?n.memoizedProps:o,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&hE(s,o),Dm(a,i);var u=Dm(a,o);for(i=0;i<c.length;i+=2){var h=c[i],p=c[i+1];h==="style"?vE(s,p):h==="dangerouslySetInnerHTML"?mE(s,p):h==="children"?tc(s,p):yv(s,h,p,u)}switch(a){case"input":Pm(s,o);break;case"textarea":fE(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?Wi(s,!!o.multiple,v,!1):f!==!!o.multiple&&(o.defaultValue!=null?Wi(s,!!o.multiple,o.defaultValue,!0):Wi(s,!!o.multiple,o.multiple?[]:"",!1))}s[uc]=o}catch(y){ut(t,t.return,y)}}break;case 6:if(Xn(e,t),mr(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(y){ut(t,t.return,y)}}break;case 3:if(Xn(e,t),mr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{oc(e.containerInfo)}catch(y){ut(t,t.return,y)}break;case 4:Xn(e,t),mr(t);break;case 13:Xn(e,t),mr(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Xv=ft())),r&4&&r1(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Zt=(u=Zt)||h,Xn(e,t),Zt=u):Xn(e,t),mr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(oe=t,h=t.child;h!==null;){for(p=oe=h;oe!==null;){switch(f=oe,v=f.child,f.tag){case 0:case 11:case 14:case 15:Bl(4,f,f.return);break;case 1:Bi(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(y){ut(r,n,y)}}break;case 5:Bi(f,f.return);break;case 22:if(f.memoizedState!==null){o1(p);continue}}v!==null?(v.return=f,oe=v):o1(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=p.stateNode,c=p.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=gE("display",i))}catch(y){ut(t,t.return,y)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(y){ut(t,t.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Xn(e,t),mr(t),r&4&&r1(t);break;case 21:break;default:Xn(e,t),mr(t)}}function mr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(BC(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(tc(s,""),r.flags&=-33);var o=n1(t);cg(t,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=n1(t);lg(t,a,i);break;default:throw Error(q(161))}}catch(c){ut(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cj(t,e,n){oe=t,HC(t)}function HC(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var s=oe,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Gu;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Zt;a=Gu;var u=Zt;if(Gu=i,(Zt=c)&&!u)for(oe=s;oe!==null;)i=oe,c=i.child,i.tag===22&&i.memoizedState!==null?i1(s):c!==null?(c.return=i,oe=c):i1(s);for(;o!==null;)oe=o,HC(o),o=o.sibling;oe=s,Gu=a,Zt=u}s1(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,oe=o):s1(t)}}function s1(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zt||qh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Zn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Bw(e,o,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Bw(e,i,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&oc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Zt||e.flags&512&&ag(e)}catch(f){ut(e,e.return,f)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function o1(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function i1(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qh(4,e)}catch(c){ut(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ut(e,s,c)}}var o=e.return;try{ag(e)}catch(c){ut(e,o,c)}break;case 5:var i=e.return;try{ag(e)}catch(c){ut(e,i,c)}}}catch(c){ut(e,e.return,c)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var uj=Math.ceil,Zd=ps.ReactCurrentDispatcher,Qv=ps.ReactCurrentOwner,Wn=ps.ReactCurrentBatchConfig,je=0,Rt=null,vt=null,Vt=0,Tn=0,zi=mo(0),bt=0,gc=null,ti=0,Kh=0,Yv=0,zl=null,gn=null,Xv=0,ya=1/0,Kr=null,eh=!1,ug=null,Gs=null,qu=!1,Fs=null,th=0,Wl=0,dg=null,yd=-1,xd=0;function cn(){return je&6?ft():yd!==-1?yd:yd=ft()}function qs(t){return t.mode&1?je&2&&Vt!==0?Vt&-Vt:qD.transition!==null?(xd===0&&(xd=IE()),xd):(t=Be,t!==0||(t=window.event,t=t===void 0?16:OE(t.type)),t):1}function ir(t,e,n,r){if(50<Wl)throw Wl=0,dg=null,Error(q(185));Wc(t,n,r),(!(je&2)||t!==Rt)&&(t===Rt&&(!(je&2)&&(Kh|=n),bt===4&&Rs(t,Vt)),_n(t,r),n===1&&je===0&&!(e.mode&1)&&(ya=ft()+500,Wh&&go()))}function _n(t,e){var n=t.callbackNode;qk(t,e);var r=Fd(t,t===Rt?Vt:0);if(r===0)n!==null&&mw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&mw(n),e===1)t.tag===0?GD(a1.bind(null,t)):tC(a1.bind(null,t)),BD(function(){!(je&6)&&go()}),n=null;else{switch(AE(r)){case 1:n=Ev;break;case 4:n=NE;break;case 16:n=Ld;break;case 536870912:n=PE;break;default:n=Ld}n=ZC(n,GC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function GC(t,e){if(yd=-1,xd=0,je&6)throw Error(q(327));var n=t.callbackNode;if(Qi()&&t.callbackNode!==n)return null;var r=Fd(t,t===Rt?Vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=nh(t,r);else{e=r;var s=je;je|=2;var o=KC();(Rt!==t||Vt!==e)&&(Kr=null,ya=ft()+500,Ho(t,e));do try{fj();break}catch(a){qC(t,a)}while(!0);Ov(),Zd.current=o,je=s,vt!==null?e=0:(Rt=null,Vt=0,e=bt)}if(e!==0){if(e===2&&(s=Fm(t),s!==0&&(r=s,e=hg(t,s))),e===1)throw n=gc,Ho(t,0),Rs(t,r),_n(t,ft()),n;if(e===6)Rs(t,r);else{if(s=t.current.alternate,!(r&30)&&!dj(s)&&(e=nh(t,r),e===2&&(o=Fm(t),o!==0&&(r=o,e=hg(t,o))),e===1))throw n=gc,Ho(t,0),Rs(t,r),_n(t,ft()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:Do(t,gn,Kr);break;case 3:if(Rs(t,r),(r&130023424)===r&&(e=Xv+500-ft(),10<e)){if(Fd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){cn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Gm(Do.bind(null,t,gn,Kr),e);break}Do(t,gn,Kr);break;case 4:if(Rs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-or(r);o=1<<i,i=e[i],i>s&&(s=i),r&=~o}if(r=s,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uj(r/1960))-r,10<r){t.timeoutHandle=Gm(Do.bind(null,t,gn,Kr),r);break}Do(t,gn,Kr);break;case 5:Do(t,gn,Kr);break;default:throw Error(q(329))}}}return _n(t,ft()),t.callbackNode===n?GC.bind(null,t):null}function hg(t,e){var n=zl;return t.current.memoizedState.isDehydrated&&(Ho(t,e).flags|=256),t=nh(t,e),t!==2&&(e=gn,gn=n,e!==null&&fg(e)),t}function fg(t){gn===null?gn=t:gn.push.apply(gn,t)}function dj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!cr(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rs(t,e){for(e&=~Yv,e&=~Kh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-or(e),r=1<<n;t[n]=-1,e&=~r}}function a1(t){if(je&6)throw Error(q(327));Qi();var e=Fd(t,0);if(!(e&1))return _n(t,ft()),null;var n=nh(t,e);if(t.tag!==0&&n===2){var r=Fm(t);r!==0&&(e=r,n=hg(t,r))}if(n===1)throw n=gc,Ho(t,0),Rs(t,e),_n(t,ft()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Do(t,gn,Kr),_n(t,ft()),null}function Jv(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&(ya=ft()+500,Wh&&go())}}function ni(t){Fs!==null&&Fs.tag===0&&!(je&6)&&Qi();var e=je;je|=1;var n=Wn.transition,r=Be;try{if(Wn.transition=null,Be=1,t)return t()}finally{Be=r,Wn.transition=n,je=e,!(je&6)&&go()}}function Zv(){Tn=zi.current,et(zi)}function Ho(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,UD(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(Dv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zd();break;case 3:ga(),et(xn),et(tn),Bv();break;case 5:Uv(r);break;case 4:ga();break;case 13:et(rt);break;case 19:et(rt);break;case 10:Lv(r.type._context);break;case 22:case 23:Zv()}n=n.return}if(Rt=t,vt=t=Ks(t.current,null),Vt=Tn=e,bt=0,gc=null,Yv=Kh=ti=0,gn=zl=null,Fo!==null){for(e=0;e<Fo.length;e++)if(n=Fo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Fo=null}return t}function qC(t,e){do{var n=vt;try{if(Ov(),md.current=Jd,Xd){for(var r=st.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Xd=!1}if(ei=0,It=wt=st=null,Ul=!1,fc=0,Qv.current=null,n===null||n.return===null){bt=1,gc=e,vt=null;break}e:{var o=t,i=n.return,a=n,c=e;if(e=Vt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=Kw(i);if(v!==null){v.flags&=-257,Qw(v,i,a,o,e),v.mode&1&&qw(o,u,e),e=v,c=u;var x=e.updateQueue;if(x===null){var y=new Set;y.add(c),e.updateQueue=y}else x.add(c);break e}else{if(!(e&1)){qw(o,u,e),ey();break e}c=Error(q(426))}}else if(nt&&a.mode&1){var _=Kw(i);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Qw(_,i,a,o,e),jv(va(c,a));break e}}o=c=va(c,a),bt!==4&&(bt=2),zl===null?zl=[o]:zl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=AC(o,c,e);Uw(o,b);break e;case 1:a=c;var w=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Gs===null||!Gs.has(C)))){o.flags|=65536,e&=-e,o.lanes|=e;var A=RC(o,a,e);Uw(o,A);break e}}o=o.return}while(o!==null)}YC(n)}catch(j){e=j,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function KC(){var t=Zd.current;return Zd.current=Jd,t===null?Jd:t}function ey(){(bt===0||bt===3||bt===2)&&(bt=4),Rt===null||!(ti&268435455)&&!(Kh&268435455)||Rs(Rt,Vt)}function nh(t,e){var n=je;je|=2;var r=KC();(Rt!==t||Vt!==e)&&(Kr=null,Ho(t,e));do try{hj();break}catch(s){qC(t,s)}while(!0);if(Ov(),je=n,Zd.current=r,vt!==null)throw Error(q(261));return Rt=null,Vt=0,bt}function hj(){for(;vt!==null;)QC(vt)}function fj(){for(;vt!==null&&!Fk();)QC(vt)}function QC(t){var e=JC(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?YC(t):vt=e,Qv.current=null}function YC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ij(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bt=6,vt=null;return}}else if(n=oj(n,e,Tn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);bt===0&&(bt=5)}function Do(t,e,n){var r=Be,s=Wn.transition;try{Wn.transition=null,Be=1,pj(t,e,n,r)}finally{Wn.transition=s,Be=r}return null}function pj(t,e,n,r){do Qi();while(Fs!==null);if(je&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Kk(t,o),t===Rt&&(vt=Rt=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qu||(qu=!0,ZC(Ld,function(){return Qi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Wn.transition,Wn.transition=null;var i=Be;Be=1;var a=je;je|=4,Qv.current=null,lj(t,n),WC(n,t),jD(Wm),Vd=!!zm,Wm=zm=null,t.current=n,cj(n),Vk(),je=a,Be=i,Wn.transition=o}else t.current=n;if(qu&&(qu=!1,Fs=t,th=s),o=t.pendingLanes,o===0&&(Gs=null),Bk(n.stateNode),_n(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(eh)throw eh=!1,t=ug,ug=null,t;return th&1&&t.tag!==0&&Qi(),o=t.pendingLanes,o&1?t===dg?Wl++:(Wl=0,dg=t):Wl=0,go(),null}function Qi(){if(Fs!==null){var t=AE(th),e=Wn.transition,n=Be;try{if(Wn.transition=null,Be=16>t?16:t,Fs===null)var r=!1;else{if(t=Fs,Fs=null,th=0,je&6)throw Error(q(331));var s=je;for(je|=4,oe=t.current;oe!==null;){var o=oe,i=o.child;if(oe.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(oe=u;oe!==null;){var h=oe;switch(h.tag){case 0:case 11:case 15:Bl(8,h,o)}var p=h.child;if(p!==null)p.return=h,oe=p;else for(;oe!==null;){h=oe;var f=h.sibling,v=h.return;if(UC(h),h===u){oe=null;break}if(f!==null){f.return=v,oe=f;break}oe=v}}}var x=o.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}oe=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,oe=i;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Bl(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,oe=b;break e}oe=o.return}}var w=t.current;for(oe=w;oe!==null;){i=oe;var C=i.child;if(i.subtreeFlags&2064&&C!==null)C.return=i,oe=C;else e:for(i=w;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qh(9,a)}}catch(j){ut(a,a.return,j)}if(a===i){oe=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,oe=A;break e}oe=a.return}}if(je=s,go(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(Vh,t)}catch{}r=!0}return r}finally{Be=n,Wn.transition=e}}return!1}function l1(t,e,n){e=va(n,e),e=AC(t,e,1),t=Hs(t,e,1),e=cn(),t!==null&&(Wc(t,1,e),_n(t,e))}function ut(t,e,n){if(t.tag===3)l1(t,t,n);else for(;e!==null;){if(e.tag===3){l1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gs===null||!Gs.has(r))){t=va(n,t),t=RC(e,t,1),e=Hs(e,t,1),t=cn(),e!==null&&(Wc(e,1,t),_n(e,t));break}}e=e.return}}function mj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(Vt&n)===n&&(bt===4||bt===3&&(Vt&130023424)===Vt&&500>ft()-Xv?Ho(t,0):Yv|=n),_n(t,e)}function XC(t,e){e===0&&(t.mode&1?(e=Lu,Lu<<=1,!(Lu&130023424)&&(Lu=4194304)):e=1);var n=cn();t=rs(t,e),t!==null&&(Wc(t,e,n),_n(t,n))}function gj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XC(t,n)}function vj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),XC(t,n)}var JC;JC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xn.current)yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yn=!1,sj(t,e,n);yn=!!(t.flags&131072)}else yn=!1,nt&&e.flags&1048576&&nC(e,Gd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vd(t,e),t=e.pendingProps;var s=fa(e,tn.current);Ki(e,n),s=Wv(null,e,r,t,s,n);var o=Hv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(o=!0,Wd(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vv(e),s.updater=Gh,e.stateNode=s,s._reactInternals=e,Zm(e,r,t,n),e=ng(null,e,r,!0,o,n)):(e.tag=0,nt&&o&&kv(e),on(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=xj(r),t=Zn(r,t),s){case 0:e=tg(null,e,r,t,n);break e;case 1:e=Jw(null,e,r,t,n);break e;case 11:e=Yw(null,e,r,t,n);break e;case 14:e=Xw(null,e,r,Zn(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zn(r,s),tg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zn(r,s),Jw(t,e,r,s,n);case 3:e:{if(MC(e),t===null)throw Error(q(387));r=e.pendingProps,o=e.memoizedState,s=o.element,lC(t,e),Qd(e,r,null,n);var i=e.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=va(Error(q(423)),e),e=Zw(t,e,r,n,s);break e}else if(r!==s){s=va(Error(q(424)),e),e=Zw(t,e,r,n,s);break e}else for(Pn=Ws(e.stateNode.containerInfo.firstChild),An=e,nt=!0,rr=null,n=iC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pa(),r===s){e=ss(t,e,n);break e}on(t,e,r,n)}e=e.child}return e;case 5:return cC(e),t===null&&Ym(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,Hm(r,s)?i=null:o!==null&&Hm(r,o)&&(e.flags|=32),jC(t,e),on(t,e,i,n),e.child;case 6:return t===null&&Ym(e),null;case 13:return OC(t,e,n);case 4:return $v(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ma(e,null,r,n):on(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zn(r,s),Yw(t,e,r,s,n);case 7:return on(t,e,e.pendingProps,n),e.child;case 8:return on(t,e,e.pendingProps.children,n),e.child;case 12:return on(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,qe(qd,r._currentValue),r._currentValue=i,o!==null)if(cr(o.value,i)){if(o.children===s.children&&!xn.current){e=ss(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=es(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Xm(o.return,n,e),a.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(q(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Xm(i,n,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}on(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ki(e,n),s=qn(s),r=r(s),e.flags|=1,on(t,e,r,n),e.child;case 14:return r=e.type,s=Zn(r,e.pendingProps),s=Zn(r.type,s),Xw(t,e,r,s,n);case 15:return kC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zn(r,s),vd(t,e),e.tag=1,wn(r)?(t=!0,Wd(e)):t=!1,Ki(e,n),IC(e,r,s),Zm(e,r,s,n),ng(null,e,r,!0,t,n);case 19:return LC(t,e,n);case 22:return DC(t,e,n)}throw Error(q(156,e.tag))};function ZC(t,e){return TE(t,e)}function yj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,e,n,r){return new yj(t,e,n,r)}function ty(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xj(t){if(typeof t=="function")return ty(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wv)return 11;if(t===_v)return 14}return 2}function Ks(t,e){var n=t.alternate;return n===null?(n=Bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wd(t,e,n,r,s,o){var i=2;if(r=t,typeof t=="function")ty(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Di:return Go(n.children,s,o,e);case xv:i=8,s|=8;break;case Em:return t=Bn(12,n,e,s|2),t.elementType=Em,t.lanes=o,t;case Cm:return t=Bn(13,n,e,s),t.elementType=Cm,t.lanes=o,t;case Sm:return t=Bn(19,n,e,s),t.elementType=Sm,t.lanes=o,t;case cE:return Qh(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case aE:i=10;break e;case lE:i=9;break e;case wv:i=11;break e;case _v:i=14;break e;case Ps:i=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Bn(i,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function Go(t,e,n,r){return t=Bn(7,t,r,e),t.lanes=n,t}function Qh(t,e,n,r){return t=Bn(22,t,r,e),t.elementType=cE,t.lanes=n,t.stateNode={isHidden:!1},t}function Fp(t,e,n){return t=Bn(6,t,null,e),t.lanes=n,t}function Vp(t,e,n){return e=Bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wj(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xp(0),this.expirationTimes=xp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ny(t,e,n,r,s,o,i,a,c){return t=new wj(t,e,n,a,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Bn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vv(o),t}function _j(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ki,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function eS(t){if(!t)return to;t=t._reactInternals;e:{if(di(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(wn(n))return eC(t,n,e)}return e}function tS(t,e,n,r,s,o,i,a,c){return t=ny(n,r,!0,t,s,o,i,a,c),t.context=eS(null),n=t.current,r=cn(),s=qs(n),o=es(r,s),o.callback=e??null,Hs(n,o,s),t.current.lanes=s,Wc(t,s,r),_n(t,r),t}function Yh(t,e,n,r){var s=e.current,o=cn(),i=qs(s);return n=eS(n),e.context===null?e.context=n:e.pendingContext=n,e=es(o,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Hs(s,e,i),t!==null&&(ir(t,s,i,o),pd(t,s,i)),i}function rh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function c1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ry(t,e){c1(t,e),(t=t.alternate)&&c1(t,e)}function bj(){return null}var nS=typeof reportError=="function"?reportError:function(t){console.error(t)};function sy(t){this._internalRoot=t}Xh.prototype.render=sy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Yh(t,e,null,null)};Xh.prototype.unmount=sy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ni(function(){Yh(null,t,null,null)}),e[ns]=null}};function Xh(t){this._internalRoot=t}Xh.prototype.unstable_scheduleHydration=function(t){if(t){var e=DE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<As.length&&e!==0&&e<As[n].priority;n++);As.splice(n,0,t),n===0&&ME(t)}};function oy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function u1(){}function Ej(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=rh(i);o.call(u)}}var i=tS(e,r,t,0,null,!1,!1,"",u1);return t._reactRootContainer=i,t[ns]=i.current,lc(t.nodeType===8?t.parentNode:t),ni(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=rh(c);a.call(u)}}var c=ny(t,0,!1,null,null,!1,!1,"",u1);return t._reactRootContainer=c,t[ns]=c.current,lc(t.nodeType===8?t.parentNode:t),ni(function(){Yh(e,c,n,r)}),c}function Zh(t,e,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=rh(i);a.call(c)}}Yh(e,i,t,s)}else i=Ej(n,e,t,s,r);return rh(i)}RE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Tl(e.pendingLanes);n!==0&&(Cv(e,n|1),_n(e,ft()),!(je&6)&&(ya=ft()+500,go()))}break;case 13:ni(function(){var r=rs(t,1);if(r!==null){var s=cn();ir(r,t,1,s)}}),ry(t,1)}};Sv=function(t){if(t.tag===13){var e=rs(t,134217728);if(e!==null){var n=cn();ir(e,t,134217728,n)}ry(t,134217728)}};kE=function(t){if(t.tag===13){var e=qs(t),n=rs(t,e);if(n!==null){var r=cn();ir(n,t,e,r)}ry(t,e)}};DE=function(){return Be};jE=function(t,e){var n=Be;try{return Be=t,e()}finally{Be=n}};Mm=function(t,e,n){switch(e){case"input":if(Pm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=zh(r);if(!s)throw Error(q(90));dE(r),Pm(r,s)}}}break;case"textarea":fE(t,n);break;case"select":e=n.value,e!=null&&Wi(t,!!n.multiple,e,!1)}};wE=Jv;_E=ni;var Cj={usingClientEntryPoint:!1,Events:[Gc,Li,zh,yE,xE,Jv]},xl={findFiberByHostInstance:Lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sj={bundleType:xl.bundleType,version:xl.version,rendererPackageName:xl.rendererPackageName,rendererConfig:xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=CE(t),t===null?null:t.stateNode},findFiberByHostInstance:xl.findFiberByHostInstance||bj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{Vh=Ku.inject(Sj),Tr=Ku}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cj;jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oy(e))throw Error(q(200));return _j(t,e,null,n)};jn.createRoot=function(t,e){if(!oy(t))throw Error(q(299));var n=!1,r="",s=nS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ny(t,1,!1,null,null,n,!1,r,s),t[ns]=e.current,lc(t.nodeType===8?t.parentNode:t),new sy(e)};jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=CE(e),t=t===null?null:t.stateNode,t};jn.flushSync=function(t){return ni(t)};jn.hydrate=function(t,e,n){if(!Jh(e))throw Error(q(200));return Zh(null,t,e,!0,n)};jn.hydrateRoot=function(t,e,n){if(!oy(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=nS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=tS(e,null,t,1,n??null,s,!1,o,i),t[ns]=e.current,lc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Xh(e)};jn.render=function(t,e,n){if(!Jh(e))throw Error(q(200));return Zh(null,t,e,!1,n)};jn.unmountComponentAtNode=function(t){if(!Jh(t))throw Error(q(40));return t._reactRootContainer?(ni(function(){Zh(null,null,t,!1,function(){t._reactRootContainer=null,t[ns]=null})}),!0):!1};jn.unstable_batchedUpdates=Jv;jn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jh(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Zh(t,e,n,!1,r)};jn.version="18.3.1-next-f1338f8080-20240426";function rS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rS)}catch(t){console.error(t)}}rS(),rE.exports=jn;var hi=rE.exports;const sS=Wb(hi);var oS,d1=hi;oS=d1.createRoot,d1.hydrateRoot;const Tj=1,Nj=1e6;let $p=0;function Pj(){return $p=($p+1)%Number.MAX_SAFE_INTEGER,$p.toString()}const Up=new Map,h1=t=>{if(Up.has(t))return;const e=setTimeout(()=>{Up.delete(t),Hl({type:"REMOVE_TOAST",toastId:t})},Nj);Up.set(t,e)},Ij=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Tj)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?h1(n):t.toasts.forEach(r=>{h1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},_d=[];let bd={toasts:[]};function Hl(t){bd=Ij(bd,t),_d.forEach(e=>{e(bd)})}function Aj({...t}){const e=Pj(),n=s=>Hl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Hl({type:"DISMISS_TOAST",toastId:e});return Hl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Rj(){const[t,e]=m.useState(bd);return m.useEffect(()=>(_d.push(e),()=>{const n=_d.indexOf(e);n>-1&&_d.splice(n,1)}),[t]),{...t,toast:Aj,dismiss:n=>Hl({type:"DISMISS_TOAST",toastId:n})}}function K(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function kj(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function ef(...t){return e=>t.forEach(n=>kj(n,e))}function Ne(...t){return m.useCallback(ef(...t),t)}function Dj(t,e=[]){let n=[];function r(o,i){const a=m.createContext(i),c=n.length;n=[...n,i];function u(p){const{scope:f,children:v,...x}=p,y=(f==null?void 0:f[t][c])||a,_=m.useMemo(()=>x,Object.values(x));return l.jsx(y.Provider,{value:_,children:v})}function h(p,f){const v=(f==null?void 0:f[t][c])||a,x=m.useContext(v);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,h]}const s=()=>{const o=n.map(i=>m.createContext(i));return function(a){const c=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,jj(s,...e)]}function jj(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const p=c(o)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var os=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),o=s.find(Mj);if(o){const i=o.props.children,a=s.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return l.jsx(pg,{...r,ref:e,children:m.isValidElement(i)?m.cloneElement(i,void 0,a):null})}return l.jsx(pg,{...r,ref:e,children:n})});os.displayName="Slot";var pg=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const s=Lj(n);return m.cloneElement(n,{...Oj(r,n.props),ref:e?ef(e,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});pg.displayName="SlotClone";var iy=({children:t})=>l.jsx(l.Fragment,{children:t});function Mj(t){return m.isValidElement(t)&&t.type===iy}function Oj(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{o(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function Lj(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function tf(t){const e=t+"CollectionProvider",[n,r]=Dj(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:x,children:y}=v,_=Z.useRef(null),b=Z.useRef(new Map).current;return l.jsx(s,{scope:x,itemMap:b,collectionRef:_,children:y})};i.displayName=e;const a=t+"CollectionSlot",c=Z.forwardRef((v,x)=>{const{scope:y,children:_}=v,b=o(a,y),w=Ne(x,b.collectionRef);return l.jsx(os,{ref:w,children:_})});c.displayName=a;const u=t+"CollectionItemSlot",h="data-radix-collection-item",p=Z.forwardRef((v,x)=>{const{scope:y,children:_,...b}=v,w=Z.useRef(null),C=Ne(x,w),A=o(u,y);return Z.useEffect(()=>(A.itemMap.set(w,{ref:w,...b}),()=>void A.itemMap.delete(w))),l.jsx(os,{[h]:"",ref:C,children:_})});p.displayName=u;function f(v){const x=o(t+"CollectionConsumer",v);return Z.useCallback(()=>{const _=x.collectionRef.current;if(!_)return[];const b=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((A,j)=>b.indexOf(A.ref.current)-b.indexOf(j.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:c,ItemSlot:p},f,r]}function Fj(t,e){const n=m.createContext(e),r=o=>{const{children:i,...a}=o,c=m.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:i})};r.displayName=t+"Provider";function s(o){const i=m.useContext(n);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function Qn(t,e=[]){let n=[];function r(o,i){const a=m.createContext(i),c=n.length;n=[...n,i];const u=p=>{var b;const{scope:f,children:v,...x}=p,y=((b=f==null?void 0:f[t])==null?void 0:b[c])||a,_=m.useMemo(()=>x,Object.values(x));return l.jsx(y.Provider,{value:_,children:v})};u.displayName=o+"Provider";function h(p,f){var y;const v=((y=f==null?void 0:f[t])==null?void 0:y[c])||a,x=m.useContext(v);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[u,h]}const s=()=>{const o=n.map(i=>m.createContext(i));return function(a){const c=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,Vj(s,...e)]}function Vj(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const p=c(o)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var $j=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ae=$j.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:o,...i}=r,a=o?os:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(a,{...i,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function ay(t,e){t&&hi.flushSync(()=>t.dispatchEvent(e))}function Ut(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Uj(t,e=globalThis==null?void 0:globalThis.document){const n=Ut(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Bj="DismissableLayer",mg="dismissableLayer.update",zj="dismissableLayer.pointerDownOutside",Wj="dismissableLayer.focusOutside",f1,iS=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vo=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=t,u=m.useContext(iS),[h,p]=m.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=m.useState({}),x=Ne(e,N=>p(N)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(_),w=h?y.indexOf(h):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,A=w>=b,j=Gj(N=>{const S=N.target,P=[...u.branches].some(T=>T.contains(S));!A||P||(s==null||s(N),i==null||i(N),N.defaultPrevented||a==null||a())},f),O=qj(N=>{const S=N.target;[...u.branches].some(T=>T.contains(S))||(o==null||o(N),i==null||i(N),N.defaultPrevented||a==null||a())},f);return Uj(N=>{w===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},f),m.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(f1=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),p1(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=f1)}},[h,f,n,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),p1())},[h,u]),m.useEffect(()=>{const N=()=>v({});return document.addEventListener(mg,N),()=>document.removeEventListener(mg,N)},[]),l.jsx(ae.div,{...c,ref:x,style:{pointerEvents:C?A?"auto":"none":void 0,...t.style},onFocusCapture:K(t.onFocusCapture,O.onFocusCapture),onBlurCapture:K(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:K(t.onPointerDownCapture,j.onPointerDownCapture)})});vo.displayName=Bj;var Hj="DismissableLayerBranch",aS=m.forwardRef((t,e)=>{const n=m.useContext(iS),r=m.useRef(null),s=Ne(e,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(ae.div,{...t,ref:s})});aS.displayName=Hj;function Gj(t,e=globalThis==null?void 0:globalThis.document){const n=Ut(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){lS(zj,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function qj(t,e=globalThis==null?void 0:globalThis.document){const n=Ut(t),r=m.useRef(!1);return m.useEffect(()=>{const s=o=>{o.target&&!r.current&&lS(Wj,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function p1(){const t=new CustomEvent(mg);document.dispatchEvent(t)}function lS(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ay(s,o):s.dispatchEvent(o)}var Kj=vo,Qj=aS,kt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},Yj="Portal",La=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,o]=m.useState(!1);kt(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?sS.createPortal(l.jsx(ae.div,{...r,ref:e}),i):null});La.displayName=Yj;function Xj(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var bn=t=>{const{present:e,children:n}=t,r=Jj(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=Ne(r.ref,Zj(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:o}):null};bn.displayName="Presence";function Jj(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),o=m.useRef("none"),i=t?"mounted":"unmounted",[a,c]=Xj(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Qu(r.current);o.current=a==="mounted"?u:"none"},[a]),kt(()=>{const u=r.current,h=s.current;if(h!==t){const f=o.current,v=Qu(u);t?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&f!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),kt(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,p=v=>{const y=Qu(r.current).includes(v.animationName);if(v.target===e&&y&&(c("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},f=v=>{v.target===e&&(o.current=Qu(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Qu(t){return(t==null?void 0:t.animationName)||"none"}function Zj(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function kr({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=eM({defaultProp:e,onChange:n}),o=t!==void 0,i=o?t:r,a=Ut(n),c=m.useCallback(u=>{if(o){const p=typeof u=="function"?u(t):u;p!==t&&a(p)}else s(u)},[o,t,s,a]);return[i,c]}function eM({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),o=Ut(e);return m.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}var tM="VisuallyHidden",Kc=m.forwardRef((t,e)=>l.jsx(ae.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Kc.displayName=tM;var nM=Kc,ly="ToastProvider",[cy,rM,sM]=tf("Toast"),[cS,EH]=Qn("Toast",[sM]),[oM,nf]=cS(ly),uS=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[a,c]=m.useState(null),[u,h]=m.useState(0),p=m.useRef(!1),f=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ly}\`. Expected non-empty \`string\`.`),l.jsx(cy.Provider,{scope:e,children:l.jsx(oM,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:m.useCallback(()=>h(v=>v+1),[]),onToastRemove:m.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:f,children:i})})};uS.displayName=ly;var dS="ToastViewport",iM=["F8"],gg="toast.viewportPause",vg="toast.viewportResume",hS=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=iM,label:s="Notifications ({hotkey})",...o}=t,i=nf(dS,n),a=rM(n),c=m.useRef(null),u=m.useRef(null),h=m.useRef(null),p=m.useRef(null),f=Ne(e,p,i.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=i.toastCount>0;m.useEffect(()=>{const _=b=>{var C;r.length!==0&&r.every(A=>b[A]||b.code===A)&&((C=p.current)==null||C.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),m.useEffect(()=>{const _=c.current,b=p.current;if(x&&_&&b){const w=()=>{if(!i.isClosePausedRef.current){const O=new CustomEvent(gg);b.dispatchEvent(O),i.isClosePausedRef.current=!0}},C=()=>{if(i.isClosePausedRef.current){const O=new CustomEvent(vg);b.dispatchEvent(O),i.isClosePausedRef.current=!1}},A=O=>{!_.contains(O.relatedTarget)&&C()},j=()=>{_.contains(document.activeElement)||C()};return _.addEventListener("focusin",w),_.addEventListener("focusout",A),_.addEventListener("pointermove",w),_.addEventListener("pointerleave",j),window.addEventListener("blur",w),window.addEventListener("focus",C),()=>{_.removeEventListener("focusin",w),_.removeEventListener("focusout",A),_.removeEventListener("pointermove",w),_.removeEventListener("pointerleave",j),window.removeEventListener("blur",w),window.removeEventListener("focus",C)}}},[x,i.isClosePausedRef]);const y=m.useCallback(({tabbingDirection:_})=>{const w=a().map(C=>{const A=C.ref.current,j=[A,...xM(A)];return _==="forwards"?j:j.reverse()});return(_==="forwards"?w.reverse():w).flat()},[a]);return m.useEffect(()=>{const _=p.current;if(_){const b=w=>{var j,O,N;const C=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!C){const S=document.activeElement,P=w.shiftKey;if(w.target===_&&P){(j=u.current)==null||j.focus();return}const D=y({tabbingDirection:P?"backwards":"forwards"}),k=D.findIndex(H=>H===S);Bp(D.slice(k+1))?w.preventDefault():P?(O=u.current)==null||O.focus():(N=h.current)==null||N.focus()}};return _.addEventListener("keydown",b),()=>_.removeEventListener("keydown",b)}},[a,y]),l.jsxs(Qj,{ref:c,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&l.jsx(yg,{ref:u,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"forwards"});Bp(_)}}),l.jsx(cy.Slot,{scope:n,children:l.jsx(ae.ol,{tabIndex:-1,...o,ref:f})}),x&&l.jsx(yg,{ref:h,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"backwards"});Bp(_)}})]})});hS.displayName=dS;var fS="ToastFocusProxy",yg=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,o=nf(fS,n);return l.jsx(Kc,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&r()}})});yg.displayName=fS;var rf="Toast",aM="toast.swipeStart",lM="toast.swipeMove",cM="toast.swipeCancel",uM="toast.swipeEnd",pS=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=t,[a=!0,c]=kr({prop:r,defaultProp:s,onChange:o});return l.jsx(bn,{present:n||a,children:l.jsx(fM,{open:a,...i,ref:e,onClose:()=>c(!1),onPause:Ut(t.onPause),onResume:Ut(t.onResume),onSwipeStart:K(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:K(t.onSwipeMove,u=>{const{x:h,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:K(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:K(t.onSwipeEnd,u=>{const{x:h,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})})});pS.displayName=rf;var[dM,hM]=cS(rf,{onClose(){}}),fM=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:f,onSwipeEnd:v,...x}=t,y=nf(rf,n),[_,b]=m.useState(null),w=Ne(e,H=>b(H)),C=m.useRef(null),A=m.useRef(null),j=s||y.duration,O=m.useRef(0),N=m.useRef(j),S=m.useRef(0),{onToastAdd:P,onToastRemove:T}=y,R=Ut(()=>{var ee;(_==null?void 0:_.contains(document.activeElement))&&((ee=y.viewport)==null||ee.focus()),i()}),D=m.useCallback(H=>{!H||H===1/0||(window.clearTimeout(S.current),O.current=new Date().getTime(),S.current=window.setTimeout(R,H))},[R]);m.useEffect(()=>{const H=y.viewport;if(H){const ee=()=>{D(N.current),u==null||u()},Q=()=>{const U=new Date().getTime()-O.current;N.current=N.current-U,window.clearTimeout(S.current),c==null||c()};return H.addEventListener(gg,Q),H.addEventListener(vg,ee),()=>{H.removeEventListener(gg,Q),H.removeEventListener(vg,ee)}}},[y.viewport,j,c,u,D]),m.useEffect(()=>{o&&!y.isClosePausedRef.current&&D(j)},[o,j,y.isClosePausedRef,D]),m.useEffect(()=>(P(),()=>T()),[P,T]);const k=m.useMemo(()=>_?_S(_):null,[_]);return y.viewport?l.jsxs(l.Fragment,{children:[k&&l.jsx(pM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),l.jsx(dM,{scope:n,onClose:R,children:hi.createPortal(l.jsx(cy.ItemSlot,{scope:n,children:l.jsx(Kj,{asChild:!0,onEscapeKeyDown:K(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||R(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection,...x,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:K(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:K(t.onPointerDown,H=>{H.button===0&&(C.current={x:H.clientX,y:H.clientY})}),onPointerMove:K(t.onPointerMove,H=>{if(!C.current)return;const ee=H.clientX-C.current.x,Q=H.clientY-C.current.y,U=!!A.current,M=["left","right"].includes(y.swipeDirection),F=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,Y=M?F(0,ee):0,$=M?0:F(0,Q),W=H.pointerType==="touch"?10:2,X={x:Y,y:$},ve={originalEvent:H,delta:X};U?(A.current=X,Yu(lM,p,ve,{discrete:!1})):m1(X,y.swipeDirection,W)?(A.current=X,Yu(aM,h,ve,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ee)>W||Math.abs(Q)>W)&&(C.current=null)}),onPointerUp:K(t.onPointerUp,H=>{const ee=A.current,Q=H.target;if(Q.hasPointerCapture(H.pointerId)&&Q.releasePointerCapture(H.pointerId),A.current=null,C.current=null,ee){const U=H.currentTarget,M={originalEvent:H,delta:ee};m1(ee,y.swipeDirection,y.swipeThreshold)?Yu(uM,v,M,{discrete:!0}):Yu(cM,f,M,{discrete:!0}),U.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),pM=t=>{const{__scopeToast:e,children:n,...r}=t,s=nf(rf,e),[o,i]=m.useState(!1),[a,c]=m.useState(!1);return vM(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(La,{asChild:!0,children:l.jsx(Kc,{...r,children:o&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},mM="ToastTitle",mS=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(ae.div,{...r,ref:e})});mS.displayName=mM;var gM="ToastDescription",gS=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(ae.div,{...r,ref:e})});gS.displayName=gM;var vS="ToastAction",yS=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?l.jsx(wS,{altText:n,asChild:!0,children:l.jsx(uy,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${vS}\`. Expected non-empty \`string\`.`),null)});yS.displayName=vS;var xS="ToastClose",uy=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=hM(xS,n);return l.jsx(wS,{asChild:!0,children:l.jsx(ae.button,{type:"button",...r,ref:e,onClick:K(t.onClick,s.onClose)})})});uy.displayName=xS;var wS=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return l.jsx(ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function _S(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),yM(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(..._S(r))}}),e}function Yu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ay(s,o):s.dispatchEvent(o)}var m1=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),o=r>s;return e==="left"||e==="right"?o&&r>n:!o&&s>n};function vM(t=()=>{}){const e=Ut(t);kt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function yM(t){return t.nodeType===t.ELEMENT_NODE}function xM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Bp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var wM=uS,bS=hS,ES=pS,CS=mS,SS=gS,TS=yS,NS=uy;function PS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=PS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function IS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=PS(t))&&(r&&(r+=" "),r+=e);return r}const g1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,v1=IS,Qc=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return v1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],p=o==null?void 0:o[u];if(h===null)return null;const f=g1(h)||g1(p);return s[u][f]}),a=n&&Object.entries(n).reduce((u,h)=>{let[p,f]=h;return f===void 0||(u[p]=f),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:p,className:f,...v}=h;return Object.entries(v).every(x=>{let[y,_]=x;return Array.isArray(_)?_.includes({...o,...a}[y]):{...o,...a}[y]===_})?[...u,p,f]:u},[]);return v1(t,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},c)=>m.createElement("svg",{ref:c,...bM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:AS("lucide",s),...a},[...i.map(([u,h])=>m.createElement(u,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(t,e)=>{const n=m.forwardRef(({className:r,...s},o)=>m.createElement(EM,{ref:o,iconNode:e,className:AS(`lucide-${_M(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=ye("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=ye("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=ye("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=ye("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=ye("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=ye("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=ye("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=ye("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=ye("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=ye("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=ye("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=ye("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=ye("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=ye("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),fy="-",VM=t=>{const e=UM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const a=i.split(fy);return a[0]===""&&a.length!==1&&a.shift(),BS(a,e)||$M(i)},getConflictingClassGroupIds:(i,a)=>{const c=n[i]||[];return a&&r[i]?[...c,...r[i]]:c}}},BS=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?BS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(fy);return(i=e.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},b1=/^\[(.+)\]$/,$M=t=>{if(b1.test(t)){const e=b1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},UM=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return zM(Object.entries(t.classGroups),n).forEach(([o,i])=>{wg(i,r,o,e)}),r},wg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:E1(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(BM(s)){wg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{wg(i,E1(e,o),n,r)})})},E1=(t,e)=>{let n=t;return e.split(fy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},BM=t=>t.isThemeGetter,zM=(t,e)=>e?t.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[e+i,a])):o);return[n,s]}):t,WM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},zS="!",HM=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],o=e.length,i=a=>{const c=[];let u=0,h=0,p;for(let _=0;_<a.length;_++){let b=a[_];if(u===0){if(b===s&&(r||a.slice(_,_+o)===e)){c.push(a.slice(h,_)),h=_+o;continue}if(b==="/"){p=_;continue}}b==="["?u++:b==="]"&&u--}const f=c.length===0?a:a.substring(h),v=f.startsWith(zS),x=v?f.substring(1):f,y=p&&p>h?p-h:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:i}):i},GM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},qM=t=>({cache:WM(t.cacheSize),parseClassName:HM(t),...VM(t)}),KM=/\s+/,QM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],i=t.trim().split(KM);let a="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:h,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:v}=n(u);let x=!!v,y=r(x?f.substring(0,v):f);if(!y){if(!x){a=u+(a.length>0?" "+a:a);continue}if(y=r(f),!y){a=u+(a.length>0?" "+a:a);continue}x=!1}const _=GM(h).join(":"),b=p?_+zS:_,w=b+y;if(o.includes(w))continue;o.push(w);const C=s(y,x);for(let A=0;A<C.length;++A){const j=C[A];o.push(b+j)}a=u+(a.length>0?" "+a:a)}return a};function YM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=WS(e))&&(r&&(r+=" "),r+=n);return r}const WS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=WS(t[r]))&&(n&&(n+=" "),n+=e);return n};function XM(t,...e){let n,r,s,o=i;function i(c){const u=e.reduce((h,p)=>p(h),t());return n=qM(u),r=n.cache.get,s=n.cache.set,o=a,a(c)}function a(c){const u=r(c);if(u)return u;const h=QM(c,n);return s(c,h),h}return function(){return o(YM.apply(null,arguments))}}const Ye=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},HS=/^\[(?:([a-z-]+):)?(.+)\]$/i,JM=/^\d+\/\d+$/,ZM=new Set(["px","full","screen"]),e4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,t4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,n4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,r4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,s4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wr=t=>Yi(t)||ZM.has(t)||JM.test(t),Es=t=>Fa(t,"length",h4),Yi=t=>!!t&&!Number.isNaN(Number(t)),zp=t=>Fa(t,"number",Yi),wl=t=>!!t&&Number.isInteger(Number(t)),o4=t=>t.endsWith("%")&&Yi(t.slice(0,-1)),_e=t=>HS.test(t),Cs=t=>e4.test(t),i4=new Set(["length","size","percentage"]),a4=t=>Fa(t,i4,GS),l4=t=>Fa(t,"position",GS),c4=new Set(["image","url"]),u4=t=>Fa(t,c4,p4),d4=t=>Fa(t,"",f4),_l=()=>!0,Fa=(t,e,n)=>{const r=HS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},h4=t=>t4.test(t)&&!n4.test(t),GS=()=>!1,f4=t=>r4.test(t),p4=t=>s4.test(t),m4=()=>{const t=Ye("colors"),e=Ye("spacing"),n=Ye("blur"),r=Ye("brightness"),s=Ye("borderColor"),o=Ye("borderRadius"),i=Ye("borderSpacing"),a=Ye("borderWidth"),c=Ye("contrast"),u=Ye("grayscale"),h=Ye("hueRotate"),p=Ye("invert"),f=Ye("gap"),v=Ye("gradientColorStops"),x=Ye("gradientColorStopPositions"),y=Ye("inset"),_=Ye("margin"),b=Ye("opacity"),w=Ye("padding"),C=Ye("saturate"),A=Ye("scale"),j=Ye("sepia"),O=Ye("skew"),N=Ye("space"),S=Ye("translate"),P=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",_e,e],D=()=>[_e,e],k=()=>["",Wr,Es],H=()=>["auto",Yi,_e],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",_e],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Yi,_e];return{cacheSize:500,separator:":",theme:{colors:[_l],spacing:[Wr,Es],blur:["none","",Cs,_e],brightness:$(),borderColor:[t],borderRadius:["none","","full",Cs,_e],borderSpacing:D(),borderWidth:k(),contrast:$(),grayscale:F(),hueRotate:$(),invert:F(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[o4,Es],inset:R(),margin:R(),opacity:$(),padding:D(),saturate:$(),scale:$(),sepia:F(),skew:$(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[Cs]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),_e]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wl,_e]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",wl,_e]}],"grid-cols":[{"grid-cols":[_l]}],"col-start-end":[{col:["auto",{span:["full",wl,_e]},_e]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[_l]}],"row-start-end":[{row:["auto",{span:[wl,_e]},_e]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,e]}],"min-w":[{"min-w":[_e,e,"min","max","fit"]}],"max-w":[{"max-w":[_e,e,"none","full","min","max","fit","prose",{screen:[Cs]},Cs]}],h:[{h:[_e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Cs,Es]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zp]}],"font-family":[{font:[_l]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",Yi,zp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wr,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wr,Es]}],"underline-offset":[{"underline-offset":["auto",Wr,_e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),l4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",a4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},u4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:Q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Wr,_e]}],"outline-w":[{outline:[Wr,Es]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Wr,Es]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Cs,d4]}],"shadow-color":[{shadow:[_l]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Cs,_e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[C]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[wl,_e]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Wr,Es,zp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},g4=XM(m4);function se(...t){return g4(IS(t))}function yc(t){if(t==null)return null;if(Array.isArray(t))return t.map(yc).filter(e=>e!==null);if(typeof t=="object"){const e={};for(const[n,r]of Object.entries(t))r!==void 0&&(e[n]=yc(r));return e}return t}const v4=wM,qS=m.forwardRef(({className:t,...e},n)=>l.jsx(bS,{ref:n,className:se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));qS.displayName=bS.displayName;const y4=Qc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),KS=m.forwardRef(({className:t,variant:e,...n},r)=>l.jsx(ES,{ref:r,className:se(y4({variant:e}),t),...n}));KS.displayName=ES.displayName;const x4=m.forwardRef(({className:t,...e},n)=>l.jsx(TS,{ref:n,className:se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));x4.displayName=TS.displayName;const QS=m.forwardRef(({className:t,...e},n)=>l.jsx(NS,{ref:n,className:se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(af,{className:"h-4 w-4"})}));QS.displayName=NS.displayName;const YS=m.forwardRef(({className:t,...e},n)=>l.jsx(CS,{ref:n,className:se("text-sm font-semibold",t),...e}));YS.displayName=CS.displayName;const XS=m.forwardRef(({className:t,...e},n)=>l.jsx(SS,{ref:n,className:se("text-sm opacity-90",t),...e}));XS.displayName=SS.displayName;function w4(){const{toasts:t}=Rj();return l.jsxs(v4,{children:[t.map(function({id:e,title:n,description:r,action:s,...o}){return l.jsxs(KS,{...o,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(YS,{children:n}),r&&l.jsx(XS,{children:r})]}),s,l.jsx(QS,{})]},e)}),l.jsx(qS,{})]})}var C1=["light","dark"],_4="(prefers-color-scheme: dark)",b4=m.createContext(void 0),E4={setTheme:t=>{},themes:[]},C4=()=>{var t;return(t=m.useContext(b4))!=null?t:E4};m.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:c})=>{let u=o==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?C1.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(x,y=!1,_=!0)=>{let b=i?i[x]:x,w=y?x+"|| ''":`'${b}'`,C="";return s&&_&&!y&&C1.includes(x)&&(C+=`d.style.colorScheme = '${x}';`),n==="class"?y||b?C+=`c.add(${w})`:C+="null":b&&(C+=`d[s](n,${w})`),C},v=t?`!function(){${h}${f(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${_4}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}${u?"":"else{"+f(o,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}else{${f(o,!1,!1)};}${p}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:v}})});var S4=t=>{switch(t){case"success":return P4;case"info":return A4;case"warning":return I4;case"error":return R4;default:return null}},T4=Array(12).fill(0),N4=({visible:t})=>Z.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Z.createElement("div",{className:"sonner-spinner"},T4.map((e,n)=>Z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),P4=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),I4=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),A4=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),R4=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),k4=()=>{let[t,e]=Z.useState(document.hidden);return Z.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},_g=1,D4=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,o=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:_g++,i=this.toasts.find(c=>c.id===o),a=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(c=>c.id===o?(this.publish({...c,...e,id:o,title:r}),{...c,...e,id:o,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:o}),o},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),o=r!==void 0;return s.then(async i=>{if(M4(i)&&!i.ok){o=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${i.status}`):n.error,c=typeof n.description=="function"?await n.description(`HTTP error! status: ${i.status}`):n.description;this.create({id:r,type:"error",message:a,description:c})}else if(n.success!==void 0){o=!1;let a=typeof n.success=="function"?await n.success(i):n.success,c=typeof n.description=="function"?await n.description(i):n.description;this.create({id:r,type:"success",message:a,description:c})}}).catch(async i=>{if(n.error!==void 0){o=!1;let a=typeof n.error=="function"?await n.error(i):n.error,c=typeof n.description=="function"?await n.description(i):n.description;this.create({id:r,type:"error",message:a,description:c})}}).finally(()=>{var i;o&&(this.dismiss(r),r=void 0),(i=n.finally)==null||i.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||_g++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},Sn=new D4,j4=(t,e)=>{let n=(e==null?void 0:e.id)||_g++;return Sn.addToast({title:t,...e,id:n}),n},M4=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",O4=j4,L4=()=>Sn.toasts;Object.assign(O4,{success:Sn.success,info:Sn.info,warning:Sn.warning,error:Sn.error,custom:Sn.custom,message:Sn.message,promise:Sn.promise,dismiss:Sn.dismiss,loading:Sn.loading},{getHistory:L4});function F4(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}F4(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Xu(t){return t.label!==void 0}var V4=3,$4="32px",U4=4e3,B4=356,z4=14,W4=20,H4=200;function G4(...t){return t.filter(Boolean).join(" ")}var q4=t=>{var e,n,r,s,o,i,a,c,u,h;let{invert:p,toast:f,unstyled:v,interacting:x,setHeights:y,visibleToasts:_,heights:b,index:w,toasts:C,expanded:A,removeToast:j,defaultRichColors:O,closeButton:N,style:S,cancelButtonStyle:P,actionButtonStyle:T,className:R="",descriptionClassName:D="",duration:k,position:H,gap:ee,loadingIcon:Q,expandByDefault:U,classNames:M,icons:F,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:$,cn:W}=t,[X,ve]=Z.useState(!1),[De,fe]=Z.useState(!1),[ne,Ee]=Z.useState(!1),[Ie,xe]=Z.useState(!1),[Te,Se]=Z.useState(0),[dt,xt]=Z.useState(0),nn=Z.useRef(null),re=Z.useRef(null),pt=w===0,Vr=w+1<=_,tt=f.type,On=f.dismissible!==!1,pu=f.className||"",Jf=f.descriptionClassName||"",gs=Z.useMemo(()=>b.findIndex(pe=>pe.toastId===f.id)||0,[b,f.id]),Xa=Z.useMemo(()=>{var pe;return(pe=f.closeButton)!=null?pe:N},[f.closeButton,N]),Ja=Z.useMemo(()=>f.duration||k||U4,[f.duration,k]),mt=Z.useRef(0),at=Z.useRef(0),No=Z.useRef(0),$r=Z.useRef(null),[Za,Zf]=H.split("-"),vs=Z.useMemo(()=>b.reduce((pe,ze,Ve)=>Ve>=gs?pe:pe+ze.height,0),[b,gs]),el=k4(),mu=f.invert||p,Po=tt==="loading";at.current=Z.useMemo(()=>gs*ee+vs,[gs,vs]),Z.useEffect(()=>{ve(!0)},[]),Z.useLayoutEffect(()=>{if(!X)return;let pe=re.current,ze=pe.style.height;pe.style.height="auto";let Ve=pe.getBoundingClientRect().height;pe.style.height=ze,xt(Ve),y(zt=>zt.find(pn=>pn.toastId===f.id)?zt.map(pn=>pn.toastId===f.id?{...pn,height:Ve}:pn):[{toastId:f.id,height:Ve,position:f.position},...zt])},[X,f.title,f.description,y,f.id]);let pr=Z.useCallback(()=>{fe(!0),Se(at.current),y(pe=>pe.filter(ze=>ze.toastId!==f.id)),setTimeout(()=>{j(f)},H4)},[f,j,y,at]);Z.useEffect(()=>{if(f.promise&&tt==="loading"||f.duration===1/0||f.type==="loading")return;let pe,ze=Ja;return A||x||$&&el?(()=>{if(No.current<mt.current){let Ve=new Date().getTime()-mt.current;ze=ze-Ve}No.current=new Date().getTime()})():ze!==1/0&&(mt.current=new Date().getTime(),pe=setTimeout(()=>{var Ve;(Ve=f.onAutoClose)==null||Ve.call(f,f),pr()},ze)),()=>clearTimeout(pe)},[A,x,U,f,Ja,pr,f.promise,tt,$,el]),Z.useEffect(()=>{let pe=re.current;if(pe){let ze=pe.getBoundingClientRect().height;return xt(ze),y(Ve=>[{toastId:f.id,height:ze,position:f.position},...Ve]),()=>y(Ve=>Ve.filter(zt=>zt.toastId!==f.id))}},[y,f.id]),Z.useEffect(()=>{f.delete&&pr()},[pr,f.delete]);function ep(){return F!=null&&F.loading?Z.createElement("div",{className:"sonner-loader","data-visible":tt==="loading"},F.loading):Q?Z.createElement("div",{className:"sonner-loader","data-visible":tt==="loading"},Q):Z.createElement(N4,{visible:tt==="loading"})}return Z.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:re,className:W(R,pu,M==null?void 0:M.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[tt],(n=f==null?void 0:f.classNames)==null?void 0:n[tt]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:O,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":X,"data-promise":!!f.promise,"data-removed":De,"data-visible":Vr,"data-y-position":Za,"data-x-position":Zf,"data-index":w,"data-front":pt,"data-swiping":ne,"data-dismissible":On,"data-type":tt,"data-invert":mu,"data-swipe-out":Ie,"data-expanded":!!(A||U&&X),style:{"--index":w,"--toasts-before":w,"--z-index":C.length-w,"--offset":`${De?Te:at.current}px`,"--initial-height":U?"auto":`${dt}px`,...S,...f.style},onPointerDown:pe=>{Po||!On||(nn.current=new Date,Se(at.current),pe.target.setPointerCapture(pe.pointerId),pe.target.tagName!=="BUTTON"&&(Ee(!0),$r.current={x:pe.clientX,y:pe.clientY}))},onPointerUp:()=>{var pe,ze,Ve,zt;if(Ie||!On)return;$r.current=null;let pn=Number(((pe=re.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ys=new Date().getTime()-((ze=nn.current)==null?void 0:ze.getTime()),Ur=Math.abs(pn)/ys;if(Math.abs(pn)>=W4||Ur>.11){Se(at.current),(Ve=f.onDismiss)==null||Ve.call(f,f),pr(),xe(!0);return}(zt=re.current)==null||zt.style.setProperty("--swipe-amount","0px"),Ee(!1)},onPointerMove:pe=>{var ze;if(!$r.current||!On)return;let Ve=pe.clientY-$r.current.y,zt=pe.clientX-$r.current.x,pn=(Za==="top"?Math.min:Math.max)(0,Ve),ys=pe.pointerType==="touch"?10:2;Math.abs(pn)>ys?(ze=re.current)==null||ze.style.setProperty("--swipe-amount",`${Ve}px`):Math.abs(zt)>ys&&($r.current=null)}},Xa&&!f.jsx?Z.createElement("button",{"aria-label":Y,"data-disabled":Po,"data-close-button":!0,onClick:Po||!On?()=>{}:()=>{var pe;pr(),(pe=f.onDismiss)==null||pe.call(f,f)},className:W(M==null?void 0:M.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||Z.isValidElement(f.title)?f.jsx||f.title:Z.createElement(Z.Fragment,null,tt||f.icon||f.promise?Z.createElement("div",{"data-icon":"",className:W(M==null?void 0:M.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||ep():null,f.type!=="loading"?f.icon||(F==null?void 0:F[tt])||S4(tt):null):null,Z.createElement("div",{"data-content":"",className:W(M==null?void 0:M.content,(i=f==null?void 0:f.classNames)==null?void 0:i.content)},Z.createElement("div",{"data-title":"",className:W(M==null?void 0:M.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?Z.createElement("div",{"data-description":"",className:W(D,Jf,M==null?void 0:M.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),Z.isValidElement(f.cancel)?f.cancel:f.cancel&&Xu(f.cancel)?Z.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||P,onClick:pe=>{var ze,Ve;Xu(f.cancel)&&On&&((Ve=(ze=f.cancel).onClick)==null||Ve.call(ze,pe),pr())},className:W(M==null?void 0:M.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,Z.isValidElement(f.action)?f.action:f.action&&Xu(f.action)?Z.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||T,onClick:pe=>{var ze,Ve;Xu(f.action)&&(pe.defaultPrevented||((Ve=(ze=f.action).onClick)==null||Ve.call(ze,pe),pr()))},className:W(M==null?void 0:M.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function S1(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var K4=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:o,className:i,offset:a,theme:c="light",richColors:u,duration:h,style:p,visibleToasts:f=V4,toastOptions:v,dir:x=S1(),gap:y=z4,loadingIcon:_,icons:b,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:C,cn:A=G4}=t,[j,O]=Z.useState([]),N=Z.useMemo(()=>Array.from(new Set([n].concat(j.filter($=>$.position).map($=>$.position)))),[j,n]),[S,P]=Z.useState([]),[T,R]=Z.useState(!1),[D,k]=Z.useState(!1),[H,ee]=Z.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q=Z.useRef(null),U=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=Z.useRef(null),F=Z.useRef(!1),Y=Z.useCallback($=>{var W;(W=j.find(X=>X.id===$.id))!=null&&W.delete||Sn.dismiss($.id),O(X=>X.filter(({id:ve})=>ve!==$.id))},[j]);return Z.useEffect(()=>Sn.subscribe($=>{if($.dismiss){O(W=>W.map(X=>X.id===$.id?{...X,delete:!0}:X));return}setTimeout(()=>{sS.flushSync(()=>{O(W=>{let X=W.findIndex(ve=>ve.id===$.id);return X!==-1?[...W.slice(0,X),{...W[X],...$},...W.slice(X+1)]:[$,...W]})})})}),[]),Z.useEffect(()=>{if(c!=="system"){ee(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:$})=>{ee($?"dark":"light")})},[c]),Z.useEffect(()=>{j.length<=1&&R(!1)},[j]),Z.useEffect(()=>{let $=W=>{var X,ve;r.every(De=>W[De]||W.code===De)&&(R(!0),(X=Q.current)==null||X.focus()),W.code==="Escape"&&(document.activeElement===Q.current||(ve=Q.current)!=null&&ve.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[r]),Z.useEffect(()=>{if(Q.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,F.current=!1)}},[Q.current]),j.length?Z.createElement("section",{"aria-label":`${w} ${U}`,tabIndex:-1},N.map(($,W)=>{var X;let[ve,De]=$.split("-");return Z.createElement("ol",{key:$,dir:x==="auto"?S1():x,tabIndex:-1,ref:Q,className:i,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":ve,"data-x-position":De,style:{"--front-toast-height":`${((X=S[0])==null?void 0:X.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||$4,"--width":`${B4}px`,"--gap":`${y}px`,...p},onBlur:fe=>{F.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(F.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||F.current||(F.current=!0,M.current=fe.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{D||R(!1)},onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||k(!0)},onPointerUp:()=>k(!1)},j.filter(fe=>!fe.position&&W===0||fe.position===$).map((fe,ne)=>{var Ee,Ie;return Z.createElement(q4,{key:fe.id,icons:b,index:ne,toast:fe,defaultRichColors:u,duration:(Ee=v==null?void 0:v.duration)!=null?Ee:h,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:e,visibleToasts:f,closeButton:(Ie=v==null?void 0:v.closeButton)!=null?Ie:o,interacting:D,position:$,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:Y,toasts:j.filter(xe=>xe.position==fe.position),heights:S.filter(xe=>xe.position==fe.position),setHeights:P,expandByDefault:s,gap:y,loadingIcon:_,expanded:T,pauseWhenPageIsHidden:C,cn:A})}))})):null};const Q4=({...t})=>{const{theme:e="system"}=C4();return l.jsx(K4,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Y4=tE.useId||(()=>{}),X4=0;function ar(t){const[e,n]=m.useState(Y4());return kt(()=>{n(r=>r??String(X4++))},[t]),e?`radix-${e}`:""}const J4=["top","right","bottom","left"],no=Math.min,Nn=Math.max,oh=Math.round,Ju=Math.floor,ro=t=>({x:t,y:t}),Z4={left:"right",right:"left",bottom:"top",top:"bottom"},eO={start:"end",end:"start"};function bg(t,e,n){return Nn(t,no(e,n))}function ls(t,e){return typeof t=="function"?t(e):t}function cs(t){return t.split("-")[0]}function Va(t){return t.split("-")[1]}function py(t){return t==="x"?"y":"x"}function my(t){return t==="y"?"height":"width"}function so(t){return["top","bottom"].includes(cs(t))?"y":"x"}function gy(t){return py(so(t))}function tO(t,e,n){n===void 0&&(n=!1);const r=Va(t),s=gy(t),o=my(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=ih(i)),[i,ih(i)]}function nO(t){const e=ih(t);return[Eg(t),e,Eg(e)]}function Eg(t){return t.replace(/start|end/g,e=>eO[e])}function rO(t,e,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?o:i;default:return[]}}function sO(t,e,n,r){const s=Va(t);let o=rO(cs(t),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(Eg)))),o}function ih(t){return t.replace(/left|right|bottom|top/g,e=>Z4[e])}function oO(t){return{top:0,right:0,bottom:0,left:0,...t}}function JS(t){return typeof t!="number"?oO(t):{top:t,right:t,bottom:t,left:t}}function ah(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function T1(t,e,n){let{reference:r,floating:s}=t;const o=so(e),i=gy(e),a=my(i),c=cs(e),u=o==="y",h=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let v;switch(c){case"top":v={x:h,y:r.y-s.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:p};break;case"left":v={x:r.x-s.width,y:p};break;default:v={x:r.x,y:r.y}}switch(Va(e)){case"start":v[i]-=f*(n&&u?-1:1);break;case"end":v[i]+=f*(n&&u?-1:1);break}return v}const iO=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let u=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:p}=T1(u,r,c),f=r,v={},x=0;for(let y=0;y<a.length;y++){const{name:_,fn:b}=a[y],{x:w,y:C,data:A,reset:j}=await b({x:h,y:p,initialPlacement:r,placement:f,strategy:s,middlewareData:v,rects:u,platform:i,elements:{reference:t,floating:e}});h=w??h,p=C??p,v={...v,[_]:{...v[_],...A}},j&&x<=50&&(x++,typeof j=="object"&&(j.placement&&(f=j.placement),j.rects&&(u=j.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):j.rects),{x:h,y:p}=T1(u,f,c)),y=-1)}return{x:h,y:p,placement:f,strategy:s,middlewareData:v}};async function xc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:f=!1,padding:v=0}=ls(e,t),x=JS(v),_=a[f?p==="floating"?"reference":"floating":p],b=ah(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:c})),w=p==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),A=await(o.isElement==null?void 0:o.isElement(C))?await(o.getScale==null?void 0:o.getScale(C))||{x:1,y:1}:{x:1,y:1},j=ah(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:C,strategy:c}):w);return{top:(b.top-j.top+x.top)/A.y,bottom:(j.bottom-b.bottom+x.bottom)/A.y,left:(b.left-j.left+x.left)/A.x,right:(j.right-b.right+x.right)/A.x}}const aO=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=e,{element:u,padding:h=0}=ls(t,e)||{};if(u==null)return{};const p=JS(h),f={x:n,y:r},v=gy(s),x=my(v),y=await i.getDimensions(u),_=v==="y",b=_?"top":"left",w=_?"bottom":"right",C=_?"clientHeight":"clientWidth",A=o.reference[x]+o.reference[v]-f[v]-o.floating[x],j=f[v]-o.reference[v],O=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let N=O?O[C]:0;(!N||!await(i.isElement==null?void 0:i.isElement(O)))&&(N=a.floating[C]||o.floating[x]);const S=A/2-j/2,P=N/2-y[x]/2-1,T=no(p[b],P),R=no(p[w],P),D=T,k=N-y[x]-R,H=N/2-y[x]/2+S,ee=bg(D,H,k),Q=!c.arrow&&Va(s)!=null&&H!==ee&&o.reference[x]/2-(H<D?T:R)-y[x]/2<0,U=Q?H<D?H-D:H-k:0;return{[v]:f[v]+U,data:{[v]:ee,centerOffset:H-ee-U,...Q&&{alignmentOffset:U}},reset:Q}}}),lO=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,..._}=ls(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const b=cs(s),w=so(a),C=cs(a)===a,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=f||(C||!y?[ih(a)]:nO(a)),O=x!=="none";!f&&O&&j.push(...sO(a,y,x,A));const N=[a,...j],S=await xc(e,_),P=[];let T=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&P.push(S[b]),p){const H=tO(s,i,A);P.push(S[H[0]],S[H[1]])}if(T=[...T,{placement:s,overflows:P}],!P.every(H=>H<=0)){var R,D;const H=(((R=o.flip)==null?void 0:R.index)||0)+1,ee=N[H];if(ee)return{data:{index:H,overflows:T},reset:{placement:ee}};let Q=(D=T.filter(U=>U.overflows[0]<=0).sort((U,M)=>U.overflows[1]-M.overflows[1])[0])==null?void 0:D.placement;if(!Q)switch(v){case"bestFit":{var k;const U=(k=T.filter(M=>{if(O){const F=so(M.placement);return F===w||F==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(F=>F>0).reduce((F,Y)=>F+Y,0)]).sort((M,F)=>M[1]-F[1])[0])==null?void 0:k[0];U&&(Q=U);break}case"initialPlacement":Q=a;break}if(s!==Q)return{reset:{placement:Q}}}return{}}}};function N1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function P1(t){return J4.some(e=>t[e]>=0)}const cO=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ls(t,e);switch(r){case"referenceHidden":{const o=await xc(e,{...s,elementContext:"reference"}),i=N1(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:P1(i)}}}case"escaped":{const o=await xc(e,{...s,altBoundary:!0}),i=N1(o,n.floating);return{data:{escapedOffsets:i,escaped:P1(i)}}}default:return{}}}}};async function uO(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=cs(n),a=Va(n),c=so(n)==="y",u=["left","top"].includes(i)?-1:1,h=o&&c?-1:1,p=ls(e,t);let{mainAxis:f,crossAxis:v,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof x=="number"&&(v=a==="end"?x*-1:x),c?{x:v*h,y:f*u}:{x:f*u,y:v*h}}const dO=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=e,c=await uO(e,t);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},hO=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:_=>{let{x:b,y:w}=_;return{x:b,y:w}}},...c}=ls(t,e),u={x:n,y:r},h=await xc(e,c),p=so(cs(s)),f=py(p);let v=u[f],x=u[p];if(o){const _=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=v+h[_],C=v-h[b];v=bg(w,v,C)}if(i){const _=p==="y"?"top":"left",b=p==="y"?"bottom":"right",w=x+h[_],C=x-h[b];x=bg(w,x,C)}const y=a.fn({...e,[f]:v,[p]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[f]:o,[p]:i}}}}}},fO=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=ls(t,e),h={x:n,y:r},p=so(s),f=py(p);let v=h[f],x=h[p];const y=ls(a,e),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const C=f==="y"?"height":"width",A=o.reference[f]-o.floating[C]+_.mainAxis,j=o.reference[f]+o.reference[C]-_.mainAxis;v<A?v=A:v>j&&(v=j)}if(u){var b,w;const C=f==="y"?"width":"height",A=["top","left"].includes(cs(s)),j=o.reference[p]-o.floating[C]+(A&&((b=i.offset)==null?void 0:b[p])||0)+(A?0:_.crossAxis),O=o.reference[p]+o.reference[C]+(A?0:((w=i.offset)==null?void 0:w[p])||0)-(A?_.crossAxis:0);x<j?x=j:x>O&&(x=O)}return{[f]:v,[p]:x}}}},pO=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:i,elements:a}=e,{apply:c=()=>{},...u}=ls(t,e),h=await xc(e,u),p=cs(s),f=Va(s),v=so(s)==="y",{width:x,height:y}=o.floating;let _,b;p==="top"||p==="bottom"?(_=p,b=f===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(b=p,_=f==="end"?"top":"bottom");const w=y-h.top-h.bottom,C=x-h.left-h.right,A=no(y-h[_],w),j=no(x-h[b],C),O=!e.middlewareData.shift;let N=A,S=j;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=w),O&&!f){const T=Nn(h.left,0),R=Nn(h.right,0),D=Nn(h.top,0),k=Nn(h.bottom,0);v?S=x-2*(T!==0||R!==0?T+R:Nn(h.left,h.right)):N=y-2*(D!==0||k!==0?D+k:Nn(h.top,h.bottom))}await c({...e,availableWidth:S,availableHeight:N});const P=await i.getDimensions(a.floating);return x!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function lf(){return typeof window<"u"}function $a(t){return ZS(t)?(t.nodeName||"").toLowerCase():"#document"}function Rn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Lr(t){var e;return(e=(ZS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ZS(t){return lf()?t instanceof Node||t instanceof Rn(t).Node:!1}function ur(t){return lf()?t instanceof Element||t instanceof Rn(t).Element:!1}function Dr(t){return lf()?t instanceof HTMLElement||t instanceof Rn(t).HTMLElement:!1}function I1(t){return!lf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Rn(t).ShadowRoot}function Yc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=dr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function mO(t){return["table","td","th"].includes($a(t))}function cf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function vy(t){const e=yy(),n=ur(t)?dr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function gO(t){let e=oo(t);for(;Dr(e)&&!wa(e);){if(vy(e))return e;if(cf(e))return null;e=oo(e)}return null}function yy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wa(t){return["html","body","#document"].includes($a(t))}function dr(t){return Rn(t).getComputedStyle(t)}function uf(t){return ur(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function oo(t){if($a(t)==="html")return t;const e=t.assignedSlot||t.parentNode||I1(t)&&t.host||Lr(t);return I1(e)?e.host:e}function eT(t){const e=oo(t);return wa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Dr(e)&&Yc(e)?e:eT(e)}function wc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=eT(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),i=Rn(s);if(o){const a=Cg(i);return e.concat(i,i.visualViewport||[],Yc(s)?s:[],a&&n?wc(a):[])}return e.concat(s,wc(s,[],n))}function Cg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function tT(t){const e=dr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Dr(t),o=s?t.offsetWidth:n,i=s?t.offsetHeight:r,a=oh(n)!==o||oh(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function xy(t){return ur(t)?t:t.contextElement}function Xi(t){const e=xy(t);if(!Dr(e))return ro(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=tT(e);let i=(o?oh(n.width):n.width)/r,a=(o?oh(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const vO=ro(0);function nT(t){const e=Rn(t);return!yy()||!e.visualViewport?vO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yO(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Rn(t)?!1:e}function ri(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=xy(t);let i=ro(1);e&&(r?ur(r)&&(i=Xi(r)):i=Xi(t));const a=yO(o,n,r)?nT(o):ro(0);let c=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,h=s.width/i.x,p=s.height/i.y;if(o){const f=Rn(o),v=r&&ur(r)?Rn(r):r;let x=f,y=Cg(x);for(;y&&r&&v!==x;){const _=Xi(y),b=y.getBoundingClientRect(),w=dr(y),C=b.left+(y.clientLeft+parseFloat(w.paddingLeft))*_.x,A=b.top+(y.clientTop+parseFloat(w.paddingTop))*_.y;c*=_.x,u*=_.y,h*=_.x,p*=_.y,c+=C,u+=A,x=Rn(y),y=Cg(x)}}return ah({width:h,height:p,x:c,y:u})}function xO(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",i=Lr(r),a=e?cf(e.floating):!1;if(r===i||a&&o)return n;let c={scrollLeft:0,scrollTop:0},u=ro(1);const h=ro(0),p=Dr(r);if((p||!p&&!o)&&(($a(r)!=="body"||Yc(i))&&(c=uf(r)),Dr(r))){const f=ri(r);u=Xi(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x,y:n.y*u.y-c.scrollTop*u.y+h.y}}function wO(t){return Array.from(t.getClientRects())}function Sg(t,e){const n=uf(t).scrollLeft;return e?e.left+n:ri(Lr(t)).left+n}function _O(t){const e=Lr(t),n=uf(t),r=t.ownerDocument.body,s=Nn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Nn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Sg(t);const a=-n.scrollTop;return dr(r).direction==="rtl"&&(i+=Nn(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function bO(t,e){const n=Rn(t),r=Lr(t),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const u=yy();(!u||u&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:a,y:c}}function EO(t,e){const n=ri(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Dr(t)?Xi(t):ro(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:a,x:c,y:u}}function A1(t,e,n){let r;if(e==="viewport")r=bO(t,n);else if(e==="document")r=_O(Lr(t));else if(ur(e))r=EO(e,n);else{const s=nT(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return ah(r)}function rT(t,e){const n=oo(t);return n===e||!ur(n)||wa(n)?!1:dr(n).position==="fixed"||rT(n,e)}function CO(t,e){const n=e.get(t);if(n)return n;let r=wc(t,[],!1).filter(a=>ur(a)&&$a(a)!=="body"),s=null;const o=dr(t).position==="fixed";let i=o?oo(t):t;for(;ur(i)&&!wa(i);){const a=dr(i),c=vy(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Yc(i)&&!c&&rT(t,i))?r=r.filter(h=>h!==i):s=a,i=oo(i)}return e.set(t,r),r}function SO(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?cf(e)?[]:CO(e,this._c):[].concat(n),r],a=i[0],c=i.reduce((u,h)=>{const p=A1(e,h,s);return u.top=Nn(p.top,u.top),u.right=no(p.right,u.right),u.bottom=no(p.bottom,u.bottom),u.left=Nn(p.left,u.left),u},A1(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function TO(t){const{width:e,height:n}=tT(t);return{width:e,height:n}}function NO(t,e,n){const r=Dr(e),s=Lr(e),o=n==="fixed",i=ri(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const c=ro(0);if(r||!r&&!o)if(($a(e)!=="body"||Yc(s))&&(a=uf(e)),r){const v=ri(e,!0,o,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else s&&(c.x=Sg(s));let u=0,h=0;if(s&&!r&&!o){const v=s.getBoundingClientRect();h=v.top+a.scrollTop,u=v.left+a.scrollLeft-Sg(s,v)}const p=i.left+a.scrollLeft-c.x-u,f=i.top+a.scrollTop-c.y-h;return{x:p,y:f,width:i.width,height:i.height}}function Wp(t){return dr(t).position==="static"}function R1(t,e){if(!Dr(t)||dr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Lr(t)===n&&(n=n.ownerDocument.body),n}function sT(t,e){const n=Rn(t);if(cf(t))return n;if(!Dr(t)){let s=oo(t);for(;s&&!wa(s);){if(ur(s)&&!Wp(s))return s;s=oo(s)}return n}let r=R1(t,e);for(;r&&mO(r)&&Wp(r);)r=R1(r,e);return r&&wa(r)&&Wp(r)&&!vy(r)?n:r||gO(t)||n}const PO=async function(t){const e=this.getOffsetParent||sT,n=this.getDimensions,r=await n(t.floating);return{reference:NO(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function IO(t){return dr(t).direction==="rtl"}const AO={convertOffsetParentRelativeRectToViewportRelativeRect:xO,getDocumentElement:Lr,getClippingRect:SO,getOffsetParent:sT,getElementRects:PO,getClientRects:wO,getDimensions:TO,getScale:Xi,isElement:ur,isRTL:IO};function RO(t,e){let n=null,r;const s=Lr(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const{left:u,top:h,width:p,height:f}=t.getBoundingClientRect();if(a||e(),!p||!f)return;const v=Ju(h),x=Ju(s.clientWidth-(u+p)),y=Ju(s.clientHeight-(h+f)),_=Ju(u),w={rootMargin:-v+"px "+-x+"px "+-y+"px "+-_+"px",threshold:Nn(0,no(1,c))||1};let C=!0;function A(j){const O=j[0].intersectionRatio;if(O!==c){if(!C)return i();O?i(!1,O):r=setTimeout(()=>{i(!1,1e-7)},1e3)}C=!1}try{n=new IntersectionObserver(A,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,w)}n.observe(t)}return i(!0),o}function kO(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=xy(t),h=s||o?[...u?wc(u):[],...wc(e)]:[];h.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const p=u&&a?RO(u,n):null;let f=-1,v=null;i&&(v=new ResizeObserver(b=>{let[w]=b;w&&w.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var C;(C=v)==null||C.observe(e)})),n()}),u&&!c&&v.observe(u),v.observe(e));let x,y=c?ri(t):null;c&&_();function _(){const b=ri(t);y&&(b.x!==y.x||b.y!==y.y||b.width!==y.width||b.height!==y.height)&&n(),y=b,x=requestAnimationFrame(_)}return n(),()=>{var b;h.forEach(w=>{s&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),p==null||p(),(b=v)==null||b.disconnect(),v=null,c&&cancelAnimationFrame(x)}}const DO=dO,jO=hO,MO=lO,OO=pO,LO=cO,k1=aO,FO=fO,VO=(t,e,n)=>{const r=new Map,s={platform:AO,...n},o={...s.platform,_c:r};return iO(t,e,{...s,platform:o})};var Cd=typeof document<"u"?m.useLayoutEffect:m.useEffect;function lh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!lh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!lh(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function oT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function D1(t,e){const n=oT(t);return Math.round(e*n)/n}function Hp(t){const e=m.useRef(t);return Cd(()=>{e.current=t}),e}function $O(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[h,p]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,v]=m.useState(r);lh(f,r)||v(r);const[x,y]=m.useState(null),[_,b]=m.useState(null),w=m.useCallback(M=>{M!==O.current&&(O.current=M,y(M))},[]),C=m.useCallback(M=>{M!==N.current&&(N.current=M,b(M))},[]),A=o||x,j=i||_,O=m.useRef(null),N=m.useRef(null),S=m.useRef(h),P=c!=null,T=Hp(c),R=Hp(s),D=Hp(u),k=m.useCallback(()=>{if(!O.current||!N.current)return;const M={placement:e,strategy:n,middleware:f};R.current&&(M.platform=R.current),VO(O.current,N.current,M).then(F=>{const Y={...F,isPositioned:D.current!==!1};H.current&&!lh(S.current,Y)&&(S.current=Y,hi.flushSync(()=>{p(Y)}))})},[f,e,n,R,D]);Cd(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,p(M=>({...M,isPositioned:!1})))},[u]);const H=m.useRef(!1);Cd(()=>(H.current=!0,()=>{H.current=!1}),[]),Cd(()=>{if(A&&(O.current=A),j&&(N.current=j),A&&j){if(T.current)return T.current(A,j,k);k()}},[A,j,k,T,P]);const ee=m.useMemo(()=>({reference:O,floating:N,setReference:w,setFloating:C}),[w,C]),Q=m.useMemo(()=>({reference:A,floating:j}),[A,j]),U=m.useMemo(()=>{const M={position:n,left:0,top:0};if(!Q.floating)return M;const F=D1(Q.floating,h.x),Y=D1(Q.floating,h.y);return a?{...M,transform:"translate("+F+"px, "+Y+"px)",...oT(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:Y}},[n,a,Q.floating,h.x,h.y]);return m.useMemo(()=>({...h,update:k,refs:ee,elements:Q,floatingStyles:U}),[h,k,ee,Q,U])}const UO=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?k1({element:r.current,padding:s}).fn(n):{}:r?k1({element:r,padding:s}).fn(n):{}}}},BO=(t,e)=>({...DO(t),options:[t,e]}),zO=(t,e)=>({...jO(t),options:[t,e]}),WO=(t,e)=>({...FO(t),options:[t,e]}),HO=(t,e)=>({...MO(t),options:[t,e]}),GO=(t,e)=>({...OO(t),options:[t,e]}),qO=(t,e)=>({...LO(t),options:[t,e]}),KO=(t,e)=>({...UO(t),options:[t,e]});var QO="Arrow",iT=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return l.jsx(ae.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});iT.displayName=QO;var YO=iT;function XO(t,e=[]){let n=[];function r(o,i){const a=m.createContext(i),c=n.length;n=[...n,i];function u(p){const{scope:f,children:v,...x}=p,y=(f==null?void 0:f[t][c])||a,_=m.useMemo(()=>x,Object.values(x));return l.jsx(y.Provider,{value:_,children:v})}function h(p,f){const v=(f==null?void 0:f[t][c])||a,x=m.useContext(v);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,h]}const s=()=>{const o=n.map(i=>m.createContext(i));return function(a){const c=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,JO(s,...e)]}function JO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const p=c(o)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function aT(t){const[e,n]=m.useState(void 0);return kt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,a=u.blockSize}else i=t.offsetWidth,a=t.offsetHeight;n({width:i,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var wy="Popper",[lT,Fr]=XO(wy),[ZO,cT]=lT(wy),uT=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return l.jsx(ZO,{scope:e,anchor:r,onAnchorChange:s,children:n})};uT.displayName=wy;var dT="PopperAnchor",hT=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=cT(dT,n),i=m.useRef(null),a=Ne(e,i);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:l.jsx(ae.div,{...s,ref:a})});hT.displayName=dT;var _y="PopperContent",[e5,t5]=lT(_y),fT=m.forwardRef((t,e)=>{var ne,Ee,Ie,xe,Te,Se;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:v="optimized",onPlaced:x,...y}=t,_=cT(_y,n),[b,w]=m.useState(null),C=Ne(e,dt=>w(dt)),[A,j]=m.useState(null),O=aT(A),N=(O==null?void 0:O.width)??0,S=(O==null?void 0:O.height)??0,P=r+(o!=="center"?"-"+o:""),T=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},R=Array.isArray(u)?u:[u],D=R.length>0,k={padding:T,boundary:R.filter(r5),altBoundary:D},{refs:H,floatingStyles:ee,placement:Q,isPositioned:U,middlewareData:M}=$O({strategy:"fixed",placement:P,whileElementsMounted:(...dt)=>kO(...dt,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[BO({mainAxis:s+S,alignmentAxis:i}),c&&zO({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?WO():void 0,...k}),c&&HO({...k}),GO({...k,apply:({elements:dt,rects:xt,availableWidth:nn,availableHeight:re})=>{const{width:pt,height:Vr}=xt.reference,tt=dt.floating.style;tt.setProperty("--radix-popper-available-width",`${nn}px`),tt.setProperty("--radix-popper-available-height",`${re}px`),tt.setProperty("--radix-popper-anchor-width",`${pt}px`),tt.setProperty("--radix-popper-anchor-height",`${Vr}px`)}}),A&&KO({element:A,padding:a}),s5({arrowWidth:N,arrowHeight:S}),f&&qO({strategy:"referenceHidden",...k})]}),[F,Y]=gT(Q),$=Ut(x);kt(()=>{U&&($==null||$())},[U,$]);const W=(ne=M.arrow)==null?void 0:ne.x,X=(Ee=M.arrow)==null?void 0:Ee.y,ve=((Ie=M.arrow)==null?void 0:Ie.centerOffset)!==0,[De,fe]=m.useState();return kt(()=>{b&&fe(window.getComputedStyle(b).zIndex)},[b]),l.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:U?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[(xe=M.transformOrigin)==null?void 0:xe.x,(Te=M.transformOrigin)==null?void 0:Te.y].join(" "),...((Se=M.hide)==null?void 0:Se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(e5,{scope:n,placedSide:F,onArrowChange:j,arrowX:W,arrowY:X,shouldHideArrow:ve,children:l.jsx(ae.div,{"data-side":F,"data-align":Y,...y,ref:C,style:{...y.style,animation:U?void 0:"none"}})})})});fT.displayName=_y;var pT="PopperArrow",n5={top:"bottom",right:"left",bottom:"top",left:"right"},mT=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=t5(pT,r),i=n5[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(YO,{...s,ref:n,style:{...s.style,display:"block"}})})});mT.displayName=pT;function r5(t){return t!==null}var s5=t=>({name:"transformOrigin",options:t,fn(e){var _,b,w;const{placement:n,rects:r,middlewareData:s}=e,i=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[u,h]=gT(n),p={start:"0%",center:"50%",end:"100%"}[h],f=(((b=s.arrow)==null?void 0:b.x)??0)+a/2,v=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let x="",y="";return u==="bottom"?(x=i?p:`${f}px`,y=`${-c}px`):u==="top"?(x=i?p:`${f}px`,y=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,y=i?p:`${v}px`):u==="left"&&(x=`${r.floating.width+c}px`,y=i?p:`${v}px`),{data:{x,y}}}});function gT(t){const[e,n="center"]=t.split("-");return[e,n]}var df=uT,Ua=hT,Xc=fT,Jc=mT,[hf,SH]=Qn("Tooltip",[Fr]),by=Fr(),vT="TooltipProvider",o5=700,j1="tooltip.open",[i5,yT]=hf(vT),xT=t=>{const{__scopeTooltip:e,delayDuration:n=o5,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=t,[i,a]=m.useState(!0),c=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),l.jsx(i5,{scope:e,isOpenDelayed:i,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:o})};xT.displayName=vT;var wT="Tooltip",[TH,ff]=hf(wT),Tg="TooltipTrigger",a5=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=ff(Tg,n),o=yT(Tg,n),i=by(n),a=m.useRef(null),c=Ne(e,a,s.onTriggerChange),u=m.useRef(!1),h=m.useRef(!1),p=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),l.jsx(Ua,{asChild:!0,...i,children:l.jsx(ae.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:K(t.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:K(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:K(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:K(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:K(t.onBlur,s.onClose),onClick:K(t.onClick,s.onClose)})})});a5.displayName=Tg;var l5="TooltipPortal",[NH,c5]=hf(l5,{forceMount:void 0}),_a="TooltipContent",_T=m.forwardRef((t,e)=>{const n=c5(_a,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=t,i=ff(_a,t.__scopeTooltip);return l.jsx(bn,{present:r||i.open,children:i.disableHoverableContent?l.jsx(bT,{side:s,...o,ref:e}):l.jsx(u5,{side:s,...o,ref:e})})}),u5=m.forwardRef((t,e)=>{const n=ff(_a,t.__scopeTooltip),r=yT(_a,t.__scopeTooltip),s=m.useRef(null),o=Ne(e,s),[i,a]=m.useState(null),{trigger:c,onClose:u}=n,h=s.current,{onPointerInTransitChange:p}=r,f=m.useCallback(()=>{a(null),p(!1)},[p]),v=m.useCallback((x,y)=>{const _=x.currentTarget,b={x:x.clientX,y:x.clientY},w=p5(b,_.getBoundingClientRect()),C=m5(b,w),A=g5(y.getBoundingClientRect()),j=y5([...C,...A]);a(j),p(!0)},[p]);return m.useEffect(()=>()=>f(),[f]),m.useEffect(()=>{if(c&&h){const x=_=>v(_,h),y=_=>v(_,c);return c.addEventListener("pointerleave",x),h.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",x),h.removeEventListener("pointerleave",y)}}},[c,h,v,f]),m.useEffect(()=>{if(i){const x=y=>{const _=y.target,b={x:y.clientX,y:y.clientY},w=(c==null?void 0:c.contains(_))||(h==null?void 0:h.contains(_)),C=!v5(b,i);w?f():C&&(f(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,h,i,u,f]),l.jsx(bT,{...t,ref:o})}),[d5,h5]=hf(wT,{isInside:!1}),bT=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=t,c=ff(_a,n),u=by(n),{onClose:h}=c;return m.useEffect(()=>(document.addEventListener(j1,h),()=>document.removeEventListener(j1,h)),[h]),m.useEffect(()=>{if(c.trigger){const p=f=>{const v=f.target;v!=null&&v.contains(c.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,h]),l.jsx(vo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:l.jsxs(Xc,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(iy,{children:r}),l.jsx(d5,{scope:n,isInside:!0,children:l.jsx(nM,{id:c.contentId,role:"tooltip",children:s||r})})]})})});_T.displayName=_a;var ET="TooltipArrow",f5=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=by(n);return h5(ET,n).isInside?null:l.jsx(Jc,{...s,...r,ref:e})});f5.displayName=ET;function p5(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function m5(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function g5(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function v5(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o].x,c=e[o].y,u=e[i].x,h=e[i].y;c>r!=h>r&&n<(u-a)*(r-c)/(h-c)+a&&(s=!s)}return s}function y5(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),x5(e)}function x5(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var w5=xT,CT=_T;const _5=w5,b5=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(CT,{ref:r,sideOffset:e,className:se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));b5.displayName=CT.displayName;var pf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mf=typeof window>"u"||"Deno"in globalThis;function er(){}function E5(t,e){return typeof t=="function"?t(e):t}function C5(t){return typeof t=="number"&&t>=0&&t!==1/0}function S5(t,e){return Math.max(t+(e||0)-Date.now(),0)}function M1(t,e){return typeof t=="function"?t(e):t}function T5(t,e){return typeof t=="function"?t(e):t}function O1(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=t;if(i){if(r){if(e.queryHash!==Ey(i,e.options))return!1}else if(!bc(e.queryKey,i))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||o&&!o(e))}function L1(t,e){const{exact:n,status:r,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(_c(e.options.mutationKey)!==_c(o))return!1}else if(!bc(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ey(t,e){return((e==null?void 0:e.queryKeyHashFn)||_c)(t)}function _c(t){return JSON.stringify(t,(e,n)=>Ng(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function bc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!bc(t[n],e[n])):!1}function ST(t,e){if(t===e)return t;const n=F1(t)&&F1(e);if(n||Ng(t)&&Ng(e)){const r=n?t:Object.keys(t),s=r.length,o=n?e:Object.keys(e),i=o.length,a=n?[]:{};let c=0;for(let u=0;u<i;u++){const h=n?u:o[u];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=ST(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&c++)}return s===i&&c===s?t:a}return e}function F1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ng(t){if(!V1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!V1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function V1(t){return Object.prototype.toString.call(t)==="[object Object]"}function N5(t){return new Promise(e=>{setTimeout(e,t)})}function P5(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ST(t,e):e}function I5(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function A5(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Cy=Symbol();function TT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Cy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Uo,ks,ra,Ob,R5=(Ob=class extends pf{constructor(){super();Le(this,Uo);Le(this,ks);Le(this,ra);be(this,ra,e=>{if(!mf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,ks)||this.setEventListener(z(this,ra))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,ks))==null||e.call(this),be(this,ks,void 0))}setEventListener(e){var n;be(this,ra,e),(n=z(this,ks))==null||n.call(this),be(this,ks,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,Uo)!==e&&(be(this,Uo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,Uo)=="boolean"?z(this,Uo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Uo=new WeakMap,ks=new WeakMap,ra=new WeakMap,Ob),NT=new R5,sa,Ds,oa,Lb,k5=(Lb=class extends pf{constructor(){super();Le(this,sa,!0);Le(this,Ds);Le(this,oa);be(this,oa,e=>{if(!mf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,Ds)||this.setEventListener(z(this,oa))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Ds))==null||e.call(this),be(this,Ds,void 0))}setEventListener(e){var n;be(this,oa,e),(n=z(this,Ds))==null||n.call(this),be(this,Ds,e(this.setOnline.bind(this)))}setOnline(e){z(this,sa)!==e&&(be(this,sa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,sa)}},sa=new WeakMap,Ds=new WeakMap,oa=new WeakMap,Lb),ch=new k5;function D5(){let t,e;const n=new Promise((s,o)=>{t=s,e=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function j5(t){return Math.min(1e3*2**t,3e4)}function PT(t){return(t??"online")==="online"?ch.isOnline():!0}var IT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Gp(t){return t instanceof IT}function AT(t){let e=!1,n=0,r=!1,s;const o=D5(),i=y=>{var _;r||(f(new IT(y)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>NT.isFocused()&&(t.networkMode==="always"||ch.isOnline())&&t.canRun(),h=()=>PT(t.networkMode)&&t.canRun(),p=y=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,y),s==null||s(),o.resolve(y))},f=y=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,y),s==null||s(),o.reject(y))},v=()=>new Promise(y=>{var _;s=b=>{(r||u())&&y(b)},(_=t.onPause)==null||_.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),x=()=>{if(r)return;let y;const _=n===0?t.initialPromise:void 0;try{y=_??t.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(p).catch(b=>{var O;if(r)return;const w=t.retry??(mf?0:3),C=t.retryDelay??j5,A=typeof C=="function"?C(n,b):C,j=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,b);if(e||!j){f(b);return}n++,(O=t.onFail)==null||O.call(t,n,b),N5(A).then(()=>u()?void 0:v()).then(()=>{e?f(b):x()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:c,canStart:h,start:()=>(h()?x():v().then(x),o)}}function M5(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const o=a=>{e?t.push(a):s(()=>{n(a)})},i=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ln=M5(),Bo,Fb,RT=(Fb=class{constructor(){Le(this,Bo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),C5(this.gcTime)&&be(this,Bo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(mf?1/0:5*60*1e3))}clearGcTimeout(){z(this,Bo)&&(clearTimeout(z(this,Bo)),be(this,Bo,void 0))}},Bo=new WeakMap,Fb),ia,aa,Ln,Xt,Uc,zo,tr,qr,Vb,O5=(Vb=class extends RT{constructor(n){super();Le(this,tr);Le(this,ia);Le(this,aa);Le(this,Ln);Le(this,Xt);Le(this,Uc);Le(this,zo);be(this,zo,!1),be(this,Uc,n.defaultOptions),this.setOptions(n.options),this.observers=[],be(this,Ln,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,be(this,ia,F5(this.options)),this.state=n.state??z(this,ia),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,Xt))==null?void 0:n.promise}setOptions(n){this.options={...z(this,Uc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Ln).remove(this)}setData(n,r){const s=P5(this.state.data,n,this.options);return Gt(this,tr,qr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Gt(this,tr,qr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,o;const r=(s=z(this,Xt))==null?void 0:s.promise;return(o=z(this,Xt))==null||o.cancel(n),r?r.then(er).catch(er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,ia))}isActive(){return this.observers.some(n=>T5(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Cy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!S5(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Xt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Xt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,Ln).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,Xt)&&(z(this,zo)?z(this,Xt).cancel({revert:!0}):z(this,Xt).cancelRetry()),this.scheduleGc()),z(this,Ln).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Gt(this,tr,qr).call(this,{type:"invalidate"})}fetch(n,r){var u,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,Xt))return z(this,Xt).continueRetry(),z(this,Xt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(v=>v.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,o=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(be(this,zo,!0),s.signal)})},i=()=>{const f=TT(this.options,r),v={queryKey:this.queryKey,meta:this.meta};return o(v),be(this,zo,!1),this.options.persister?this.options.persister(f,v,this):f(v)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};o(a),(u=this.options.behavior)==null||u.onFetch(a,this),be(this,aa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&Gt(this,tr,qr).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const c=f=>{var v,x,y,_;Gp(f)&&f.silent||Gt(this,tr,qr).call(this,{type:"error",error:f}),Gp(f)||((x=(v=z(this,Ln).config).onError)==null||x.call(v,f,this),(_=(y=z(this,Ln).config).onSettled)==null||_.call(y,this.state.data,f,this)),this.scheduleGc()};return be(this,Xt,AT({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var v,x,y,_;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){c(b);return}(x=(v=z(this,Ln).config).onSuccess)==null||x.call(v,f,this),(_=(y=z(this,Ln).config).onSettled)==null||_.call(y,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,v)=>{Gt(this,tr,qr).call(this,{type:"failed",failureCount:f,error:v})},onPause:()=>{Gt(this,tr,qr).call(this,{type:"pause"})},onContinue:()=>{Gt(this,tr,qr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,Xt).start()}},ia=new WeakMap,aa=new WeakMap,Ln=new WeakMap,Xt=new WeakMap,Uc=new WeakMap,zo=new WeakMap,tr=new WeakSet,qr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...L5(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=n.error;return Gp(o)&&o.revert&&z(this,aa)?{...z(this,aa),fetchStatus:"idle"}:{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),ln.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),z(this,Ln).notify({query:this,type:"updated",action:n})})},Vb);function L5(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function F5(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var yr,$b,V5=($b=class extends pf{constructor(e={}){super();Le(this,yr);this.config=e,be(this,yr,new Map)}build(e,n,r){const s=n.queryKey,o=n.queryHash??Ey(s,n);let i=this.get(o);return i||(i=new O5({cache:this,queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){z(this,yr).has(e.queryHash)||(z(this,yr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,yr).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,yr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,yr).get(e)}getAll(){return[...z(this,yr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>O1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>O1(e,r)):n}notify(e){ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ln.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ln.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},yr=new WeakMap,$b),xr,sn,Wo,wr,Ts,Ub,$5=(Ub=class extends RT{constructor(n){super();Le(this,wr);Le(this,xr);Le(this,sn);Le(this,Wo);this.mutationId=n.mutationId,be(this,sn,n.mutationCache),be(this,xr,[]),this.state=n.state||U5(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,xr).includes(n)||(z(this,xr).push(n),this.clearGcTimeout(),z(this,sn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){be(this,xr,z(this,xr).filter(r=>r!==n)),this.scheduleGc(),z(this,sn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,xr).length||(this.state.status==="pending"?this.scheduleGc():z(this,sn).remove(this))}continue(){var n;return((n=z(this,Wo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,i,a,c,u,h,p,f,v,x,y,_,b,w,C,A,j,O,N,S;be(this,Wo,AT({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,T)=>{Gt(this,wr,Ts).call(this,{type:"failed",failureCount:P,error:T})},onPause:()=>{Gt(this,wr,Ts).call(this,{type:"pause"})},onContinue:()=>{Gt(this,wr,Ts).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,sn).canRun(this)}));const r=this.state.status==="pending",s=!z(this,Wo).canStart();try{if(!r){Gt(this,wr,Ts).call(this,{type:"pending",variables:n,isPaused:s}),await((i=(o=z(this,sn).config).onMutate)==null?void 0:i.call(o,n,this));const T=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,n));T!==this.state.context&&Gt(this,wr,Ts).call(this,{type:"pending",context:T,variables:n,isPaused:s})}const P=await z(this,Wo).start();return await((h=(u=z(this,sn).config).onSuccess)==null?void 0:h.call(u,P,n,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,P,n,this.state.context)),await((x=(v=z(this,sn).config).onSettled)==null?void 0:x.call(v,P,null,this.state.variables,this.state.context,this)),await((_=(y=this.options).onSettled)==null?void 0:_.call(y,P,null,n,this.state.context)),Gt(this,wr,Ts).call(this,{type:"success",data:P}),P}catch(P){try{throw await((w=(b=z(this,sn).config).onError)==null?void 0:w.call(b,P,n,this.state.context,this)),await((A=(C=this.options).onError)==null?void 0:A.call(C,P,n,this.state.context)),await((O=(j=z(this,sn).config).onSettled)==null?void 0:O.call(j,void 0,P,this.state.variables,this.state.context,this)),await((S=(N=this.options).onSettled)==null?void 0:S.call(N,void 0,P,n,this.state.context)),P}finally{Gt(this,wr,Ts).call(this,{type:"error",error:P})}}finally{z(this,sn).runNext(this)}}},xr=new WeakMap,sn=new WeakMap,Wo=new WeakMap,wr=new WeakSet,Ts=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ln.batch(()=>{z(this,xr).forEach(s=>{s.onMutationUpdate(n)}),z(this,sn).notify({mutation:this,type:"updated",action:n})})},Ub);function U5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Cn,Bc,Bb,B5=(Bb=class extends pf{constructor(e={}){super();Le(this,Cn);Le(this,Bc);this.config=e,be(this,Cn,new Map),be(this,Bc,Date.now())}build(e,n,r){const s=new $5({mutationCache:this,mutationId:++Ru(this,Bc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Zu(e),r=z(this,Cn).get(n)??[];r.push(e),z(this,Cn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Zu(e);if(z(this,Cn).has(n)){const s=(r=z(this,Cn).get(n))==null?void 0:r.filter(o=>o!==e);s&&(s.length===0?z(this,Cn).delete(n):z(this,Cn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=z(this,Cn).get(Zu(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=z(this,Cn).get(Zu(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...z(this,Cn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>L1(n,r))}findAll(e={}){return this.getAll().filter(n=>L1(e,n))}notify(e){ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ln.batch(()=>Promise.all(e.map(n=>n.continue().catch(er))))}},Cn=new WeakMap,Bc=new WeakMap,Bb);function Zu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function $1(t){return{onFetch:(e,n)=>{var h,p,f,v,x;const r=e.options,s=(f=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:f.direction,o=((v=e.state.data)==null?void 0:v.pages)||[],i=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const _=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},b=TT(e.options,e.fetchOptions),w=async(C,A,j)=>{if(y)return Promise.reject();if(A==null&&C.pages.length)return Promise.resolve(C);const O={queryKey:e.queryKey,pageParam:A,direction:j?"backward":"forward",meta:e.options.meta};_(O);const N=await b(O),{maxPages:S}=e.options,P=j?A5:I5;return{pages:P(C.pages,N,S),pageParams:P(C.pageParams,A,S)}};if(s&&o.length){const C=s==="backward",A=C?z5:U1,j={pages:o,pageParams:i},O=A(r,j);a=await w(j,O,C)}else{const C=t??o.length;do{const A=c===0?i[0]??r.initialPageParam:U1(r,a);if(c>0&&A==null)break;a=await w(a,A),c++}while(c<C)}return a};e.options.persister?e.fetchFn=()=>{var y,_;return(_=(y=e.options).persister)==null?void 0:_.call(y,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function U1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function z5(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ct,js,Ms,la,ca,Os,ua,da,zb,W5=(zb=class{constructor(t={}){Le(this,ct);Le(this,js);Le(this,Ms);Le(this,la);Le(this,ca);Le(this,Os);Le(this,ua);Le(this,da);be(this,ct,t.queryCache||new V5),be(this,js,t.mutationCache||new B5),be(this,Ms,t.defaultOptions||{}),be(this,la,new Map),be(this,ca,new Map),be(this,Os,0)}mount(){Ru(this,Os)._++,z(this,Os)===1&&(be(this,ua,NT.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,ct).onFocus())})),be(this,da,ch.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,ct).onOnline())})))}unmount(){var t,e;Ru(this,Os)._--,z(this,Os)===0&&((t=z(this,ua))==null||t.call(this),be(this,ua,void 0),(e=z(this,da))==null||e.call(this),be(this,da,void 0))}isFetching(t){return z(this,ct).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,js).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,ct).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=z(this,ct).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(M1(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return z(this,ct).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=z(this,ct).get(r.queryHash),o=s==null?void 0:s.state.data,i=E5(e,o);if(i!==void 0)return z(this,ct).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(t,e,n){return ln.batch(()=>z(this,ct).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,ct).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,ct);ln.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,ct),r={type:"active",...t};return ln.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=ln.batch(()=>z(this,ct).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(er).catch(er)}invalidateQueries(t={},e={}){return ln.batch(()=>{if(z(this,ct).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=ln.batch(()=>z(this,ct).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(er)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(er)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,ct).build(this,e);return n.isStaleByTime(M1(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(er).catch(er)}fetchInfiniteQuery(t){return t.behavior=$1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(er).catch(er)}ensureInfiniteQueryData(t){return t.behavior=$1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ch.isOnline()?z(this,js).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,ct)}getMutationCache(){return z(this,js)}getDefaultOptions(){return z(this,Ms)}setDefaultOptions(t){be(this,Ms,t)}setQueryDefaults(t,e){z(this,la).set(_c(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,la).values()];let n={};return e.forEach(r=>{bc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){z(this,ca).set(_c(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,ca).values()];let n={};return e.forEach(r=>{bc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,Ms).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ey(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Cy&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,Ms).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,ct).clear(),z(this,js).clear()}},ct=new WeakMap,js=new WeakMap,Ms=new WeakMap,la=new WeakMap,ca=new WeakMap,Os=new WeakMap,ua=new WeakMap,da=new WeakMap,zb),H5=m.createContext(void 0),G5=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(H5.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ec(){return Ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ec.apply(this,arguments)}var Vs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vs||(Vs={}));const B1="popstate";function q5(t){t===void 0&&(t={});function e(r,s){let{pathname:o,search:i,hash:a}=r.location;return Pg("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:DT(s)}return Q5(e,n,null,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function K5(){return Math.random().toString(36).substr(2,8)}function z1(t,e){return{usr:t.state,key:t.key,idx:e}}function Pg(t,e,n,r){return n===void 0&&(n=null),Ec({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ba(e):e,{state:n,key:e&&e.key||r||K5()})}function DT(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ba(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Q5(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=Vs.Pop,c=null,u=h();u==null&&(u=0,i.replaceState(Ec({},i.state,{idx:u}),""));function h(){return(i.state||{idx:null}).idx}function p(){a=Vs.Pop;let _=h(),b=_==null?null:_-u;u=_,c&&c({action:a,location:y.location,delta:b})}function f(_,b){a=Vs.Push;let w=Pg(y.location,_,b);u=h()+1;let C=z1(w,u),A=y.createHref(w);try{i.pushState(C,"",A)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(A)}o&&c&&c({action:a,location:y.location,delta:1})}function v(_,b){a=Vs.Replace;let w=Pg(y.location,_,b);u=h();let C=z1(w,u),A=y.createHref(w);i.replaceState(C,"",A),o&&c&&c({action:a,location:y.location,delta:0})}function x(_){let b=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof _=="string"?_:DT(_);return w=w.replace(/ $/,"%20"),Ct(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let y={get action(){return a},get location(){return t(s,i)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(B1,p),c=_,()=>{s.removeEventListener(B1,p),c=null}},createHref(_){return e(s,_)},createURL:x,encodeLocation(_){let b=x(_);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:v,go(_){return i.go(_)}};return y}var W1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(W1||(W1={}));function Y5(t,e,n){return n===void 0&&(n="/"),X5(t,e,n,!1)}function X5(t,e,n,r){let s=typeof e=="string"?Ba(e):e,o=OT(s.pathname||"/",n);if(o==null)return null;let i=jT(t);J5(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let u=cL(o);a=aL(i[c],u,r)}return a}function jT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Ct(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=qo([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(Ct(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jT(o.children,e,h,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:oL(u,o.index),routesMeta:h})};return t.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of MT(o.path))s(o,i,c)}),e}function MT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=MT(r.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function J5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Z5=/^:[\w-]+$/,eL=3,tL=2,nL=1,rL=10,sL=-2,H1=t=>t==="*";function oL(t,e){let n=t.split("/"),r=n.length;return n.some(H1)&&(r+=sL),e&&(r+=tL),n.filter(s=>!H1(s)).reduce((s,o)=>s+(Z5.test(o)?eL:o===""?nL:rL),r)}function iL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function aL(t,e,n){let{routesMeta:r}=t,s={},o="/",i=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",p=G1({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),f=c.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=G1({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(s,p.params),i.push({params:s,pathname:qo([o,p.pathname]),pathnameBase:mL(qo([o,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(o=qo([o,p.pathnameBase]))}return i}function G1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lL(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,h,p)=>{let{paramName:f,isOptional:v}=h;if(f==="*"){let y=a[p]||"";i=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const x=a[p];return v&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:t}}function lL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),kT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function cL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function OT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function uL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ba(t):t;return{pathname:n?n.startsWith("/")?n:dL(n,e):e,search:gL(r),hash:vL(s)}}function dL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function qp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fL(t,e){let n=hL(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function pL(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ba(t):(s=Ec({},t),Ct(!s.pathname||!s.pathname.includes("?"),qp("?","pathname","search",s)),Ct(!s.pathname||!s.pathname.includes("#"),qp("#","pathname","hash",s)),Ct(!s.search||!s.search.includes("#"),qp("#","search","hash",s)));let o=t===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let p=e.length-1;if(!r&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),p-=1;s.pathname=f.join("/")}a=p>=0?e[p]:"/"}let c=uL(s,a),u=i&&i!=="/"&&i.endsWith("/"),h=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const qo=t=>t.join("/").replace(/\/\/+/g,"/"),mL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const LT=["post","put","patch","delete"];new Set(LT);const xL=["get",...LT];new Set(xL);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cc(){return Cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cc.apply(this,arguments)}const Sy=m.createContext(null),wL=m.createContext(null),gf=m.createContext(null),vf=m.createContext(null),fi=m.createContext({outlet:null,matches:[],isDataRoute:!1}),FT=m.createContext(null);function yf(){return m.useContext(vf)!=null}function Ty(){return yf()||Ct(!1),m.useContext(vf).location}function VT(t){m.useContext(gf).static||m.useLayoutEffect(t)}function $T(){let{isDataRoute:t}=m.useContext(fi);return t?jL():_L()}function _L(){yf()||Ct(!1);let t=m.useContext(Sy),{basename:e,future:n,navigator:r}=m.useContext(gf),{matches:s}=m.useContext(fi),{pathname:o}=Ty(),i=JSON.stringify(fL(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return VT(()=>{a.current=!0}),m.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let p=pL(u,JSON.parse(i),o,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:qo([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,i,o,t])}function bL(){let{matches:t}=m.useContext(fi),e=t[t.length-1];return e?e.params:{}}function EL(t,e){return CL(t,e)}function CL(t,e,n,r){yf()||Ct(!1);let{navigator:s}=m.useContext(gf),{matches:o}=m.useContext(fi),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Ty(),h;if(e){var p;let _=typeof e=="string"?Ba(e):e;c==="/"||(p=_.pathname)!=null&&p.startsWith(c)||Ct(!1),h=_}else h=u;let f=h.pathname||"/",v=f;if(c!=="/"){let _=c.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=Y5(t,{pathname:v}),y=IL(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:qo([c,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:qo([c,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&y?m.createElement(vf.Provider,{value:{location:Cc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Vs.Pop}},y):y}function SL(){let t=DL(),e=yL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const TL=m.createElement(SL,null);class NL extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(fi.Provider,{value:this.props.routeContext},m.createElement(FT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PL(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(Sy);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(fi.Provider,{value:e},r)}function IL(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||Ct(!1),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:f,errors:v}=n,x=p.route.loader&&f[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||x){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,p,f)=>{let v,x=!1,y=null,_=null;n&&(v=a&&p.route.id?a[p.route.id]:void 0,y=p.route.errorElement||TL,c&&(u<0&&f===0?(x=!0,_=null):u===f&&(x=!0,_=p.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,f+1)),w=()=>{let C;return v?C=y:x?C=_:p.route.Component?C=m.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=h,m.createElement(PL,{match:p,routeContext:{outlet:h,matches:b,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?m.createElement(NL,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var UT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(UT||{}),uh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(uh||{});function AL(t){let e=m.useContext(Sy);return e||Ct(!1),e}function RL(t){let e=m.useContext(wL);return e||Ct(!1),e}function kL(t){let e=m.useContext(fi);return e||Ct(!1),e}function BT(t){let e=kL(),n=e.matches[e.matches.length-1];return n.route.id||Ct(!1),n.route.id}function DL(){var t;let e=m.useContext(FT),n=RL(uh.UseRouteError),r=BT(uh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function jL(){let{router:t}=AL(UT.UseNavigateStable),e=BT(uh.UseNavigateStable),n=m.useRef(!1);return VT(()=>{n.current=!0}),m.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Cc({fromRouteId:e},o)))},[t,e])}function Pl(t){Ct(!1)}function ML(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Vs.Pop,navigator:o,static:i=!1,future:a}=t;yf()&&Ct(!1);let c=e.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:o,static:i,future:Cc({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof r=="string"&&(r=Ba(r));let{pathname:h="/",search:p="",hash:f="",state:v=null,key:x="default"}=r,y=m.useMemo(()=>{let _=OT(h,c);return _==null?null:{location:{pathname:_,search:p,hash:f,state:v,key:x},navigationType:s}},[c,h,p,f,v,x,s]);return y==null?null:m.createElement(gf.Provider,{value:u},m.createElement(vf.Provider,{children:n,value:y}))}function OL(t){let{children:e,location:n}=t;return EL(Ig(e),n)}new Promise(()=>{});function Ig(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,s)=>{if(!m.isValidElement(r))return;let o=[...e,s];if(r.type===m.Fragment){n.push.apply(n,Ig(r.props.children,o));return}r.type!==Pl&&Ct(!1),!r.props.index||!r.props.children||Ct(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Ig(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const LL="6";try{window.__reactRouterVersion=LL}catch{}const FL="startTransition",q1=tE[FL];function VL(t){let{basename:e,children:n,future:r,window:s}=t,o=m.useRef();o.current==null&&(o.current=q5({window:s,v5Compat:!0}));let i=o.current,[a,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},h=m.useCallback(p=>{u&&q1?q1(()=>c(p)):c(p)},[c,u]);return m.useLayoutEffect(()=>i.listen(h),[i,h]),m.createElement(ML,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var K1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(K1||(K1={}));var Q1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Q1||(Q1={}));const Qt={NEW_MOON:{name:"新月",emoji:"🌑"},WAXING_CRESCENT:{name:"峨眉月",emoji:"🌒"},FIRST_QUARTER:{name:"上弦月",emoji:"🌓"},WAXING_GIBBOUS:{name:"盈凸月",emoji:"🌔"},FULL_MOON:{name:"满月",emoji:"🌕"},WANING_GIBBOUS:{name:"亏凸月",emoji:"🌖"},LAST_QUARTER:{name:"下弦月",emoji:"🌗"},WANING_CRESCENT:{name:"残月",emoji:"🌘"}},Ny=()=>{const[t,e]=m.useState(null),[n,r]=m.useState(null);return m.useEffect(()=>{const s=()=>{const i=new Date,a=Math.floor((i.getTime()-new Date("2024-01-11").getTime())/(1e3*60*60*24))%29.5;let c,u;a<1?(c={...Qt.NEW_MOON,illumination:0},u={...Qt.FIRST_QUARTER,illumination:50,nextDate:new Date(i.getTime()+6048e5)}):a<7?(c={...Qt.WAXING_CRESCENT,illumination:a/7*50},u={...Qt.FIRST_QUARTER,illumination:50,nextDate:new Date(i.getTime()+(7-a)*24*60*60*1e3)}):a<8?(c={...Qt.FIRST_QUARTER,illumination:50},u={...Qt.FULL_MOON,illumination:100,nextDate:new Date(i.getTime()+6048e5)}):a<14?(c={...Qt.WAXING_GIBBOUS,illumination:50+(a-7)/7*50},u={...Qt.FULL_MOON,illumination:100,nextDate:new Date(i.getTime()+(14-a)*24*60*60*1e3)}):a<15?(c={...Qt.FULL_MOON,illumination:100},u={...Qt.LAST_QUARTER,illumination:50,nextDate:new Date(i.getTime()+6048e5)}):a<21?(c={...Qt.WANING_GIBBOUS,illumination:100-(a-14)/7*50},u={...Qt.LAST_QUARTER,illumination:50,nextDate:new Date(i.getTime()+(21-a)*24*60*60*1e3)}):a<22?(c={...Qt.LAST_QUARTER,illumination:50},u={...Qt.NEW_MOON,illumination:0,nextDate:new Date(i.getTime()+6048e5)}):(c={...Qt.WANING_CRESCENT,illumination:50-(a-21)/8*50},u={...Qt.NEW_MOON,illumination:0,nextDate:new Date(i.getTime()+(29.5-a)*24*60*60*1e3)}),e(c),r(u)};s();const o=setInterval(s,6e4);return()=>clearInterval(o)},[]),{currentPhase:t,nextSignificantPhase:n}},Sc=Qc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-light tracking-wide ring-offset-background transition-all duration-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-40 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary/20 text-primary-foreground hover:bg-primary/30",destructive:"bg-destructive/20 text-destructive-foreground hover:bg-destructive/30",outline:"border border-border/30 bg-background/5 hover:bg-accent/10 hover:text-accent-foreground",secondary:"bg-secondary/20 text-secondary-foreground hover:bg-secondary/30",ghost:"hover:bg-accent/10 hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ue=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const i=r?os:"button";return l.jsx(i,{className:se(Sc({variant:e,size:n,className:t})),ref:o,...s})});ue.displayName="Button";var Kp,Py="HoverCard",[zT,AH]=Qn(Py,[Fr]),xf=Fr(),[$L,Iy]=zT(Py),WT=t=>{const{__scopeHoverCard:e,children:n,open:r,defaultOpen:s,onOpenChange:o,openDelay:i=700,closeDelay:a=300}=t,c=xf(e),u=m.useRef(0),h=m.useRef(0),p=m.useRef(!1),f=m.useRef(!1),[v=!1,x]=kr({prop:r,defaultProp:s,onChange:o}),y=m.useCallback(()=>{clearTimeout(h.current),u.current=window.setTimeout(()=>x(!0),i)},[i,x]),_=m.useCallback(()=>{clearTimeout(u.current),!p.current&&!f.current&&(h.current=window.setTimeout(()=>x(!1),a))},[a,x]),b=m.useCallback(()=>x(!1),[x]);return m.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(h.current)},[]),l.jsx($L,{scope:e,open:v,onOpenChange:x,onOpen:y,onClose:_,onDismiss:b,hasSelectionRef:p,isPointerDownOnContentRef:f,children:l.jsx(df,{...c,children:n})})};WT.displayName=Py;var HT="HoverCardTrigger",GT=m.forwardRef((t,e)=>{const{__scopeHoverCard:n,...r}=t,s=Iy(HT,n),o=xf(n);return l.jsx(Ua,{asChild:!0,...o,children:l.jsx(ae.a,{"data-state":s.open?"open":"closed",...r,ref:e,onPointerEnter:K(t.onPointerEnter,hh(s.onOpen)),onPointerLeave:K(t.onPointerLeave,hh(s.onClose)),onFocus:K(t.onFocus,s.onOpen),onBlur:K(t.onBlur,s.onClose),onTouchStart:K(t.onTouchStart,i=>i.preventDefault())})})});GT.displayName=HT;var UL="HoverCardPortal",[RH,BL]=zT(UL,{forceMount:void 0}),dh="HoverCardContent",qT=m.forwardRef((t,e)=>{const n=BL(dh,t.__scopeHoverCard),{forceMount:r=n.forceMount,...s}=t,o=Iy(dh,t.__scopeHoverCard);return l.jsx(bn,{present:r||o.open,children:l.jsx(zL,{"data-state":o.open?"open":"closed",...s,onPointerEnter:K(t.onPointerEnter,hh(o.onOpen)),onPointerLeave:K(t.onPointerLeave,hh(o.onClose)),ref:e})})});qT.displayName=dh;var zL=m.forwardRef((t,e)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,...a}=t,c=Iy(dh,n),u=xf(n),h=m.useRef(null),p=Ne(e,h),[f,v]=m.useState(!1);return m.useEffect(()=>{if(f){const x=document.body;return Kp=x.style.userSelect||x.style.webkitUserSelect,x.style.userSelect="none",x.style.webkitUserSelect="none",()=>{x.style.userSelect=Kp,x.style.webkitUserSelect=Kp}}},[f]),m.useEffect(()=>{if(h.current){const x=()=>{v(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var _;((_=document.getSelection())==null?void 0:_.toString())!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",x),()=>{document.removeEventListener("pointerup",x),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),m.useEffect(()=>{h.current&&GL(h.current).forEach(y=>y.setAttribute("tabindex","-1"))}),l.jsx(vo,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:i,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:K(o,x=>{x.preventDefault()}),onDismiss:c.onDismiss,children:l.jsx(Xc,{...u,...a,onPointerDown:K(a.onPointerDown,x=>{x.currentTarget.contains(x.target)&&v(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:p,style:{...a.style,userSelect:f?"text":void 0,WebkitUserSelect:f?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),WL="HoverCardArrow",HL=m.forwardRef((t,e)=>{const{__scopeHoverCard:n,...r}=t,s=xf(n);return l.jsx(Jc,{...s,...r,ref:e})});HL.displayName=WL;function hh(t){return e=>e.pointerType==="touch"?void 0:t()}function GL(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)e.push(n.currentNode);return e}var qL=WT,KL=GT,KT=qT;const Ay=qL,Ry=KL,wf=m.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>l.jsx(KT,{ref:s,align:e,sideOffset:n,className:se("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));wf.displayName=KT.displayName;const QL=()=>{var r;const{currentPhase:t,nextSignificantPhase:e}=Ny();if(!t||!e)return null;const n=s=>{switch(s){case"新月":return"新月是开始新项目和设定新目标的理想时机。这是一个充满可能性的时刻。";case"上弦月":return"上弦月是行动和突破的时刻。适合克服障碍，推进项目。";case"满月":return"满月是收获和庆祝的时刻。适合回顾进展，完成项目，进行反思。";case"下弦月":return"下弦月是释放和净化的时刻。适合放下不再需要的事物，为新的周期做准备。";default:return"关注月相变化，调整你的节奏。"}};return l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-foreground/10 backdrop-blur-sm flex items-center justify-center",children:l.jsx("span",{className:"text-3xl filter drop-shadow-lg",children:t.emoji})}),l.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 rounded-full bg-foreground/5 backdrop-blur-sm flex items-center justify-center",children:l.jsx(as,{className:"w-4 h-4 text-foreground/70"})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-xl font-light tracking-wide",children:t.name}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground/70",children:[l.jsxs("span",{children:["月相能量: ",Math.round(t.illumination*100),"%"]}),l.jsxs(Ay,{children:[l.jsx(Ry,{asChild:!0,children:l.jsx(ue,{variant:"ghost",size:"icon",className:"w-6 h-6",children:l.jsx(OS,{className:"w-4 h-4"})})}),l.jsx(wf,{className:"w-80 bg-background/95 backdrop-blur-xl border-border/20",children:l.jsx("p",{className:"text-sm text-foreground/70",children:n(t.name)})})]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-4 bg-foreground/5 backdrop-blur-sm rounded-lg p-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"text-sm text-foreground/70",children:"下一个重要月相"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:e.emoji}),l.jsx("span",{className:"font-light",children:e.name}),l.jsx("span",{className:"text-sm text-foreground/50",children:(r=e.nextDate)==null?void 0:r.toLocaleDateString()})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ue,{variant:"ghost",size:"icon",className:"hover:bg-foreground/10",children:l.jsx(dy,{className:"h-4 w-4"})}),l.jsx(ue,{variant:"ghost",size:"icon",className:"hover:bg-foreground/10",children:l.jsx(sf,{className:"h-4 w-4"})})]})]})]})},_f=()=>{const[t,e]=m.useState([]);return m.useEffect(()=>{const o=localStorage.getItem("moonPhaseProjects");if(o){const a=JSON.parse(o).map(c=>({...c,startDate:new Date(c.startDate),targetDate:c.targetDate?new Date(c.targetDate):void 0}));e(a)}else{const i=[{id:"1",title:"学习塔罗牌占卜",description:"系统学习塔罗牌的含义和占卜技巧，提升直觉力",moonPhase:"新月",startDate:new Date("2024-01-11"),targetDate:new Date("2024-03-11"),progress:45,status:"active",tarotRecords:["tarot-1","tarot-2"]},{id:"2",title:"冥想练习计划",description:"每日冥想30分钟，培养内在平静与觉察力",moonPhase:"满月",startDate:new Date("2024-01-25"),targetDate:new Date("2024-04-25"),progress:72,status:"active",tarotRecords:["tarot-3"]},{id:"3",title:"月相日记项目",description:"记录每个月相周期的感受和洞察",moonPhase:"上弦月",startDate:new Date("2024-02-02"),progress:100,status:"completed"}];e(i),localStorage.setItem("moonPhaseProjects",JSON.stringify(i))}},[]),{projects:t,addProject:o=>{const i={...o,id:Date.now().toString()},a=[...t,i];e(a),localStorage.setItem("moonPhaseProjects",JSON.stringify(a))},updateProject:(o,i)=>{const a=t.map(c=>c.id===o?{...c,...i}:c);e(a),localStorage.setItem("moonPhaseProjects",JSON.stringify(a))},deleteProject:o=>{const i=t.filter(a=>a.id!==o);e(i),localStorage.setItem("moonPhaseProjects",JSON.stringify(i))}}},YL=Qc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ot({className:t,variant:e,...n}){return l.jsx("div",{className:se(YL({variant:e}),t),...n})}function ba(t){"@babel/helpers - typeof";return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ba(t)}function Tt(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function le(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function we(t){le(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||ba(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function an(t,e){le(2,arguments);var n=we(t),r=Tt(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Dn(t,e){le(2,arguments);var n=we(t),r=Tt(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var i=o.getDate();return s>=i?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function XL(t,e){le(2,arguments);var n=we(t).getTime(),r=Tt(e);return new Date(n+r)}var JL={};function yo(){return JL}function jr(t,e){var n,r,s,o,i,a,c,u;le(1,arguments);var h=yo(),p=Tt((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(a=i.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=we(t),v=f.getDay(),x=(v<p?7:0)+v-p;return f.setDate(f.getDate()-x),f.setHours(0,0,0,0),f}function si(t){return le(1,arguments),jr(t,{weekStartsOn:1})}function ZL(t){le(1,arguments);var e=we(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var s=si(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var i=si(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=i.getTime()?n:n-1}function e3(t){le(1,arguments);var e=ZL(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=si(n);return r}function Tc(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Ea(t){le(1,arguments);var e=we(t);return e.setHours(0,0,0,0),e}var t3=864e5;function Zr(t,e){le(2,arguments);var n=Ea(t),r=Ea(e),s=n.getTime()-Tc(n),o=r.getTime()-Tc(r);return Math.round((s-o)/t3)}function Ag(t,e){le(2,arguments);var n=Tt(e),r=n*7;return an(t,r)}function n3(t,e){le(2,arguments);var n=Tt(e);return Dn(t,n*12)}function r3(t){le(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(ba(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var s=we(r);(n===void 0||n<s||isNaN(Number(s)))&&(n=s)}),n||new Date(NaN)}function s3(t){le(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(ba(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var s=we(r);(n===void 0||n>s||isNaN(s.getDate()))&&(n=s)}),n||new Date(NaN)}function Ft(t,e){le(2,arguments);var n=Ea(t),r=Ea(e);return n.getTime()===r.getTime()}function ky(t){return le(1,arguments),t instanceof Date||ba(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function o3(t){if(le(1,arguments),!ky(t)&&typeof t!="number")return!1;var e=we(t);return!isNaN(Number(e))}function Nc(t,e){le(2,arguments);var n=we(t),r=we(e),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}var i3=6048e5;function a3(t,e,n){le(2,arguments);var r=jr(t,n),s=jr(e,n),o=r.getTime()-Tc(r),i=s.getTime()-Tc(s);return Math.round((o-i)/i3)}function bf(t){le(1,arguments);var e=we(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function l3(t,e){var n;le(1,arguments);var r=t||{},s=we(r.start),o=we(r.end),i=o.getTime();if(!(s.getTime()<=i))throw new RangeError("Invalid interval");var a=[],c=s;c.setHours(0,0,0,0);var u=Number((n=void 0)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=i;)a.push(we(c)),c.setDate(c.getDate()+u),c.setHours(0,0,0,0);return a}function un(t){le(1,arguments);var e=we(t);return e.setDate(1),e.setHours(0,0,0,0),e}function c3(t){le(1,arguments);var e=we(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Dy(t,e){var n,r,s,o,i,a,c,u;le(1,arguments);var h=yo(),p=Tt((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(a=i.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=we(t),v=f.getDay(),x=(v<p?-7:0)+6-(v-p);return f.setDate(f.getDate()+x),f.setHours(23,59,59,999),f}function QT(t){return le(1,arguments),Dy(t,{weekStartsOn:1})}function u3(t,e){le(2,arguments);var n=Tt(e);return XL(t,-n)}var d3=864e5;function h3(t){le(1,arguments);var e=we(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/d3)+1}function fh(t){le(1,arguments);var e=1,n=we(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function YT(t){le(1,arguments);var e=we(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=fh(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var i=fh(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=i.getTime()?n:n-1}function f3(t){le(1,arguments);var e=YT(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=fh(n);return r}var p3=6048e5;function m3(t){le(1,arguments);var e=we(t),n=fh(e).getTime()-f3(e).getTime();return Math.round(n/p3)+1}function ph(t,e){var n,r,s,o,i,a,c,u;le(1,arguments);var h=yo(),p=Tt((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(a=i.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=we(t),v=f.getUTCDay(),x=(v<p?7:0)+v-p;return f.setUTCDate(f.getUTCDate()-x),f.setUTCHours(0,0,0,0),f}function XT(t,e){var n,r,s,o,i,a,c,u;le(1,arguments);var h=we(t),p=h.getUTCFullYear(),f=yo(),v=Tt((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(a=i.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setUTCFullYear(p+1,0,v),x.setUTCHours(0,0,0,0);var y=ph(x,e),_=new Date(0);_.setUTCFullYear(p,0,v),_.setUTCHours(0,0,0,0);var b=ph(_,e);return h.getTime()>=y.getTime()?p+1:h.getTime()>=b.getTime()?p:p-1}function g3(t,e){var n,r,s,o,i,a,c,u;le(1,arguments);var h=yo(),p=Tt((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(a=i.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=XT(t,e),v=new Date(0);v.setUTCFullYear(f,0,p),v.setUTCHours(0,0,0,0);var x=ph(v,e);return x}var v3=6048e5;function y3(t,e){le(1,arguments);var n=we(t),r=ph(n,e).getTime()-g3(n,e).getTime();return Math.round(r/v3)+1}function $e(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Ss={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return $e(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):$e(r+1,2)},d:function(e,n){return $e(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return $e(e.getUTCHours()%12||12,n.length)},H:function(e,n){return $e(e.getUTCHours(),n.length)},m:function(e,n){return $e(e.getUTCMinutes(),n.length)},s:function(e,n){return $e(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),o=Math.floor(s*Math.pow(10,r-3));return $e(o,n.length)}},Ci={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},x3={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return Ss.y(e,n)},Y:function(e,n,r,s){var o=XT(e,s),i=o>0?o:1-o;if(n==="YY"){var a=i%100;return $e(a,2)}return n==="Yo"?r.ordinalNumber(i,{unit:"year"}):$e(i,n.length)},R:function(e,n){var r=YT(e);return $e(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return $e(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return $e(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return $e(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return Ss.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return $e(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var o=y3(e,s);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):$e(o,n.length)},I:function(e,n,r){var s=m3(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):$e(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ss.d(e,n)},D:function(e,n,r){var s=h3(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):$e(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var o=e.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return $e(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var o=e.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return $e(i,n.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),o=s===0?7:s;switch(n){case"i":return String(o);case"ii":return $e(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),o=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),o;switch(s===12?o=Ci.noon:s===0?o=Ci.midnight:o=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),o;switch(s>=17?o=Ci.evening:s>=12?o=Ci.afternoon:s>=4?o=Ci.morning:o=Ci.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Ss.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Ss.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):$e(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):$e(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Ss.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Ss.s(e,n)},S:function(e,n){return Ss.S(e,n)},X:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return X1(i);case"XXXX":case"XX":return jo(i);case"XXXXX":case"XXX":default:return jo(i,":")}},x:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();switch(n){case"x":return X1(i);case"xxxx":case"xx":return jo(i);case"xxxxx":case"xxx":default:return jo(i,":")}},O:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Y1(i,":");case"OOOO":default:return"GMT"+jo(i,":")}},z:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Y1(i,":");case"zzzz":default:return"GMT"+jo(i,":")}},t:function(e,n,r,s){var o=s._originalDate||e,i=Math.floor(o.getTime()/1e3);return $e(i,n.length)},T:function(e,n,r,s){var o=s._originalDate||e,i=o.getTime();return $e(i,n.length)}};function Y1(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),o=r%60;if(o===0)return n+String(s);var i=e;return n+String(s)+i+$e(o,2)}function X1(t,e){if(t%60===0){var n=t>0?"-":"+";return n+$e(Math.abs(t)/60,2)}return jo(t,e)}function jo(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),o=$e(Math.floor(s/60),2),i=$e(s%60,2);return r+o+n+i}var J1=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},JT=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},w3=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return J1(e,n);var i;switch(s){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",J1(s,n)).replace("{{time}}",JT(o,n))},_3={p:JT,P:w3},b3=["D","DD"],E3=["YY","YYYY"];function C3(t){return b3.indexOf(t)!==-1}function S3(t){return E3.indexOf(t)!==-1}function Z1(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var T3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},N3=function(e,n,r){var s,o=T3[e];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Qp(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var P3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},I3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},A3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},R3={date:Qp({formats:P3,defaultWidth:"full"}),time:Qp({formats:I3,defaultWidth:"full"}),dateTime:Qp({formats:A3,defaultWidth:"full"})},k3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},D3=function(e,n,r,s){return k3[e]};function bl(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,i=n!=null&&n.width?String(n.width):o;s=t.formattingValues[i]||t.formattingValues[o]}else{var a=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return s[u]}}var j3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},M3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},O3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},L3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},F3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},V3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$3=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},U3={ordinalNumber:$3,era:bl({values:j3,defaultWidth:"wide"}),quarter:bl({values:M3,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:bl({values:O3,defaultWidth:"wide"}),day:bl({values:L3,defaultWidth:"wide"}),dayPeriod:bl({values:F3,defaultWidth:"wide",formattingValues:V3,defaultFormattingWidth:"wide"})};function El(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;var i=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?z3(a,function(p){return p.test(i)}):B3(a,function(p){return p.test(i)}),u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var h=e.slice(i.length);return{value:u,rest:h}}}function B3(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function z3(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function W3(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],o=e.match(t.parsePattern);if(!o)return null;var i=t.valueCallback?t.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;var a=e.slice(s.length);return{value:i,rest:a}}}var H3=/^(\d+)(th|st|nd|rd)?/i,G3=/\d+/i,q3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},K3={any:[/^b/i,/^(a|c)/i]},Q3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Y3={any:[/1/i,/2/i,/3/i,/4/i]},X3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},J3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Z3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},e6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},t6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},n6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},r6={ordinalNumber:W3({matchPattern:H3,parsePattern:G3,valueCallback:function(e){return parseInt(e,10)}}),era:El({matchPatterns:q3,defaultMatchWidth:"wide",parsePatterns:K3,defaultParseWidth:"any"}),quarter:El({matchPatterns:Q3,defaultMatchWidth:"wide",parsePatterns:Y3,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:El({matchPatterns:X3,defaultMatchWidth:"wide",parsePatterns:J3,defaultParseWidth:"any"}),day:El({matchPatterns:Z3,defaultMatchWidth:"wide",parsePatterns:e6,defaultParseWidth:"any"}),dayPeriod:El({matchPatterns:t6,defaultMatchWidth:"any",parsePatterns:n6,defaultParseWidth:"any"})},ZT={code:"en-US",formatDistance:N3,formatLong:R3,formatRelative:D3,localize:U3,match:r6,options:{weekStartsOn:0,firstWeekContainsDate:1}},s6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,o6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,i6=/^'([^]*?)'?$/,a6=/''/g,l6=/[a-zA-Z]/;function Oe(t,e,n){var r,s,o,i,a,c,u,h,p,f,v,x,y,_,b,w,C,A;le(2,arguments);var j=String(e),O=yo(),N=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:O.locale)!==null&&r!==void 0?r:ZT,S=Tt((o=(i=(a=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:O.firstWeekContainsDate)!==null&&i!==void 0?i:(p=O.locale)===null||p===void 0||(f=p.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=Tt((v=(x=(y=(_=n==null?void 0:n.weekStartsOn)!==null&&_!==void 0?_:n==null||(b=n.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&y!==void 0?y:O.weekStartsOn)!==null&&x!==void 0?x:(C=O.locale)===null||C===void 0||(A=C.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&v!==void 0?v:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!N.localize)throw new RangeError("locale must contain localize property");if(!N.formatLong)throw new RangeError("locale must contain formatLong property");var T=we(t);if(!o3(T))throw new RangeError("Invalid time value");var R=Tc(T),D=u3(T,R),k={firstWeekContainsDate:S,weekStartsOn:P,locale:N,_originalDate:T},H=j.match(o6).map(function(ee){var Q=ee[0];if(Q==="p"||Q==="P"){var U=_3[Q];return U(ee,N.formatLong)}return ee}).join("").match(s6).map(function(ee){if(ee==="''")return"'";var Q=ee[0];if(Q==="'")return c6(ee);var U=x3[Q];if(U)return!(n!=null&&n.useAdditionalWeekYearTokens)&&S3(ee)&&Z1(ee,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&C3(ee)&&Z1(ee,e,String(t)),U(D,ee,N.localize,k);if(Q.match(l6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");return ee}).join("");return H}function c6(t){var e=t.match(i6);return e?e[1].replace(a6,"'"):t}function u6(t){le(1,arguments);var e=we(t),n=e.getFullYear(),r=e.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}var d6=6048e5;function h6(t){le(1,arguments);var e=we(t),n=si(e).getTime()-e3(e).getTime();return Math.round(n/d6)+1}function f6(t){le(1,arguments);var e=we(t),n=e.getTime();return n}function p6(t){return le(1,arguments),Math.floor(f6(t)/1e3)}function m6(t,e){var n,r,s,o,i,a,c,u;le(1,arguments);var h=we(t),p=h.getFullYear(),f=yo(),v=Tt((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(a=i.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setFullYear(p+1,0,v),x.setHours(0,0,0,0);var y=jr(x,e),_=new Date(0);_.setFullYear(p,0,v),_.setHours(0,0,0,0);var b=jr(_,e);return h.getTime()>=y.getTime()?p+1:h.getTime()>=b.getTime()?p:p-1}function g6(t,e){var n,r,s,o,i,a,c,u;le(1,arguments);var h=yo(),p=Tt((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(a=i.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=m6(t,e),v=new Date(0);v.setFullYear(f,0,p),v.setHours(0,0,0,0);var x=jr(v,e);return x}var v6=6048e5;function y6(t,e){le(1,arguments);var n=we(t),r=jr(n,e).getTime()-g6(n,e).getTime();return Math.round(r/v6)+1}function x6(t){le(1,arguments);var e=we(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function w6(t,e){return le(1,arguments),a3(x6(t),un(t),e)+1}function Rg(t,e){le(2,arguments);var n=we(t),r=we(e);return n.getTime()>r.getTime()}function eN(t,e){le(2,arguments);var n=we(t),r=we(e);return n.getTime()<r.getTime()}function Pc(t,e){le(2,arguments);var n=we(t),r=we(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function _6(t,e){le(2,arguments);var n=we(t),r=we(e);return n.getFullYear()===r.getFullYear()}function b6(t){return le(1,arguments),Ft(t,Date.now())}function Yp(t,e){le(2,arguments);var n=Tt(e);return an(t,-n)}function Xp(t,e){le(2,arguments);var n=we(t),r=Tt(e),s=n.getFullYear(),o=n.getDate(),i=new Date(0);i.setFullYear(s,r,15),i.setHours(0,0,0,0);var a=u6(i);return n.setMonth(r,Math.min(o,a)),n}function e_(t,e){le(2,arguments);var n=we(t),r=Tt(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function E6(t,e){le(2,arguments);var n=Tt(e);return Dn(t,-n)}function C6(t,e=[]){let n=[];function r(o,i){const a=m.createContext(i),c=n.length;n=[...n,i];function u(p){const{scope:f,children:v,...x}=p,y=(f==null?void 0:f[t][c])||a,_=m.useMemo(()=>x,Object.values(x));return l.jsx(y.Provider,{value:_,children:v})}function h(p,f){const v=(f==null?void 0:f[t][c])||a,x=m.useContext(v);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,h]}const s=()=>{const o=n.map(i=>m.createContext(i));return function(a){const c=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,S6(s,...e)]}function S6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const p=c(o)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var jy="Progress",My=100,[T6,kH]=C6(jy),[N6,P6]=T6(jy),tN=m.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=I6,...i}=t;(s||s===0)&&!t_(s)&&console.error(A6(`${s}`,"Progress"));const a=t_(s)?s:My;r!==null&&!n_(r,a)&&console.error(R6(`${r}`,"Progress"));const c=n_(r,a)?r:null,u=mh(c)?o(c,a):void 0;return l.jsx(N6,{scope:n,value:c,max:a,children:l.jsx(ae.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":mh(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":sN(c,a),"data-value":c??void 0,"data-max":a,...i,ref:e})})});tN.displayName=jy;var nN="ProgressIndicator",rN=m.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=P6(nN,n);return l.jsx(ae.div,{"data-state":sN(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});rN.displayName=nN;function I6(t,e){return`${Math.round(t/e*100)}%`}function sN(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function mh(t){return typeof t=="number"}function t_(t){return mh(t)&&!isNaN(t)&&t>0}function n_(t,e){return mh(t)&&!isNaN(t)&&t<=e&&t>=0}function A6(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${My}\`.`}function R6(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${My} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var oN=tN,k6=rN;const iN=m.forwardRef(({className:t,value:e,...n},r)=>l.jsx(oN,{ref:r,className:se("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:l.jsx(k6,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));iN.displayName=oN.displayName;const D6=()=>{const{projects:t}=_f();if(!t.length)return l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-foreground/5 backdrop-blur-sm flex items-center justify-center",children:l.jsx(_1,{className:"w-8 h-8 text-foreground/30"})}),l.jsx("p",{className:"text-foreground/70 font-light",children:"还没有创建任何项目"}),l.jsx("p",{className:"text-sm text-foreground/50 mt-2",children:'点击"新建项目"开始你的月相之旅'})]});const e=r=>{switch(r){case"active":return"bg-foreground/15 text-foreground";case"completed":return"bg-foreground/10 text-foreground/70";default:return"bg-foreground/5 text-foreground/50"}},n=r=>{switch(r){case"新月":return"🌑";case"上弦月":return"🌓";case"满月":return"🌕";case"下弦月":return"🌗";default:return"🌙"}};return l.jsx("div",{className:"space-y-4",children:t.map(r=>l.jsxs(Ay,{children:[l.jsx(Ry,{asChild:!0,children:l.jsxs("div",{className:"group bg-background/30 backdrop-blur-sm rounded-lg border border-border/10 p-4 hover:bg-background/40 transition-all duration-200 cursor-pointer",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-foreground/10 flex items-center justify-center",children:l.jsx(_1,{className:"h-4 w-4 text-foreground/70"})}),l.jsx("h3",{className:"font-light text-lg group-hover:text-foreground/90 transition-colors",children:r.title})]}),l.jsx("p",{className:"text-sm text-foreground/70 line-clamp-2",children:r.description})]}),l.jsx(Ot,{className:`${e(r.status)} font-light`,children:r.status==="active"?"进行中":"已完成"})]}),l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-foreground/70",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(is,{className:"h-4 w-4"}),l.jsxs("span",{children:[Oe(r.startDate,"MM/dd"),r.targetDate&&l.jsxs(l.Fragment,{children:[l.jsx(RS,{className:"inline h-4 w-4 mx-1"}),Oe(r.targetDate,"MM/dd")]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(as,{className:"h-4 w-4"}),l.jsx("span",{children:r.moonPhase}),l.jsx("span",{className:"text-lg filter drop-shadow-sm",children:n(r.moonPhase)})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(iN,{value:r.progress,className:"flex-grow"}),l.jsxs("span",{className:"text-sm text-foreground/70 min-w-[3ch]",children:[r.progress,"%"]})]})]})]})}),l.jsx(wf,{className:"w-80 bg-background/95 backdrop-blur-xl border-border/20",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-medium",children:r.title}),l.jsx("p",{className:"text-sm text-foreground/70",children:r.description}),l.jsx("div",{className:"pt-2 border-t border-border/10",children:l.jsxs("div",{className:"text-sm text-foreground/70",children:["创建于 ",Oe(r.startDate,"yyyy年MM月dd日"),l.jsx("br",{}),r.moonPhase,"期间"]})})]})})]},r.id))})},Oy=()=>{const[t,e]=m.useState([]);return m.useEffect(()=>{const o=localStorage.getItem("tarotRecords");if(o){const a=JSON.parse(o).map(c=>({...c,date:new Date(c.date)}));e(a)}else{const i=[{id:"tarot-1",date:new Date("2024-01-11"),moonPhase:"新月",question:"我在学习塔罗的道路上应该注意什么？",cards:["愚者","魔术师","女祭司"],interpretation:"愚者代表新的开始，魔术师象征着你拥有实现目标的所有工具，女祭司提醒你要相信内在的直觉。这个组合表明你正处于学习的最佳时机。",projectId:"1"},{id:"tarot-2",date:new Date("2024-01-25"),moonPhase:"满月",question:"我的冥想练习如何能更深入？",cards:["隐者","星星","月亮"],interpretation:"隐者指引你向内寻找智慧，星星带来希望和指引，月亮提醒你要拥抱潜意识的智慧。建议在满月能量下进行深度冥想。",projectId:"2"},{id:"tarot-3",date:new Date("2024-02-09"),moonPhase:"新月",question:"新的月相周期我应该设定什么意图？",cards:["太阳","世界","审判"],interpretation:"太阳带来积极的能量，世界代表完成和成就，审判象征着重生和新的觉醒。这是一个非常有力的组合，预示着重大的积极转变。"}];e(i),localStorage.setItem("tarotRecords",JSON.stringify(i))}},[]),{tarotRecords:t,addTarotRecord:o=>{const a=[{...o,id:"tarot-"+Date.now().toString()},...t];e(a),localStorage.setItem("tarotRecords",JSON.stringify(a))},updateTarotRecord:(o,i)=>{const a=t.map(c=>c.id===o?{...c,...i}:c);e(a),localStorage.setItem("tarotRecords",JSON.stringify(a))},deleteTarotRecord:o=>{const i=t.filter(a=>a.id!==o);e(i),localStorage.setItem("tarotRecords",JSON.stringify(i))}}};var j6=m.createContext(void 0);function Ef(t){const e=m.useContext(j6);return t||e||"ltr"}var Jp=0;function Cf(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??r_()),document.body.insertAdjacentElement("beforeend",t[1]??r_()),Jp++,()=>{Jp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Jp--}},[])}function r_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Zp="focusScope.autoFocusOnMount",em="focusScope.autoFocusOnUnmount",s_={bubbles:!1,cancelable:!0},M6="FocusScope",Zc=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[a,c]=m.useState(null),u=Ut(s),h=Ut(o),p=m.useRef(null),f=Ne(e,y=>c(y)),v=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(C){if(v.paused||!a)return;const A=C.target;a.contains(A)?p.current=A:Ns(p.current,{select:!0})},_=function(C){if(v.paused||!a)return;const A=C.relatedTarget;A!==null&&(a.contains(A)||Ns(p.current,{select:!0}))},b=function(C){if(document.activeElement===document.body)for(const j of C)j.removedNodes.length>0&&Ns(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const w=new MutationObserver(b);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),w.disconnect()}}},[r,a,v.paused]),m.useEffect(()=>{if(a){i_.add(v);const y=document.activeElement;if(!a.contains(y)){const b=new CustomEvent(Zp,s_);a.addEventListener(Zp,u),a.dispatchEvent(b),b.defaultPrevented||(O6(U6(aN(a)),{select:!0}),document.activeElement===y&&Ns(a))}return()=>{a.removeEventListener(Zp,u),setTimeout(()=>{const b=new CustomEvent(em,s_);a.addEventListener(em,h),a.dispatchEvent(b),b.defaultPrevented||Ns(y??document.body,{select:!0}),a.removeEventListener(em,h),i_.remove(v)},0)}}},[a,u,h,v]);const x=m.useCallback(y=>{if(!n&&!r||v.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,b=document.activeElement;if(_&&b){const w=y.currentTarget,[C,A]=L6(w);C&&A?!y.shiftKey&&b===A?(y.preventDefault(),n&&Ns(C,{select:!0})):y.shiftKey&&b===C&&(y.preventDefault(),n&&Ns(A,{select:!0})):b===w&&y.preventDefault()}},[n,r,v.paused]);return l.jsx(ae.div,{tabIndex:-1,...i,ref:f,onKeyDown:x})});Zc.displayName=M6;function O6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ns(r,{select:e}),document.activeElement!==n)return}function L6(t){const e=aN(t),n=o_(e,t),r=o_(e.reverse(),t);return[n,r]}function aN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function o_(t,e){for(const n of t)if(!F6(n,{upTo:e}))return n}function F6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function V6(t){return t instanceof HTMLInputElement&&"select"in t}function Ns(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&V6(t)&&e&&t.select()}}var i_=$6();function $6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=a_(t,e),t.unshift(e)},remove(e){var n;t=a_(t,e),(n=t[0])==null||n.resume()}}}function a_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function U6(t){return t.filter(e=>e.tagName!=="A")}function B6(t,e=[]){let n=[];function r(o,i){const a=m.createContext(i),c=n.length;n=[...n,i];function u(p){const{scope:f,children:v,...x}=p,y=(f==null?void 0:f[t][c])||a,_=m.useMemo(()=>x,Object.values(x));return l.jsx(y.Provider,{value:_,children:v})}function h(p,f){const v=(f==null?void 0:f[t][c])||a,x=m.useContext(v);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,h]}const s=()=>{const o=n.map(i=>m.createContext(i));return function(a){const c=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,z6(s,...e)]}function z6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const p=c(o)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var tm="rovingFocusGroup.onEntryFocus",W6={bubbles:!1,cancelable:!0},Sf="RovingFocusGroup",[kg,lN,H6]=tf(Sf),[G6,Tf]=B6(Sf,[H6]),[q6,K6]=G6(Sf),cN=m.forwardRef((t,e)=>l.jsx(kg.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(kg.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Q6,{...t,ref:e})})}));cN.displayName=Sf;var Q6=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...p}=t,f=m.useRef(null),v=Ne(e,f),x=Ef(o),[y=null,_]=kr({prop:i,defaultProp:a,onChange:c}),[b,w]=m.useState(!1),C=Ut(u),A=lN(n),j=m.useRef(!1),[O,N]=m.useState(0);return m.useEffect(()=>{const S=f.current;if(S)return S.addEventListener(tm,C),()=>S.removeEventListener(tm,C)},[C]),l.jsx(q6,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:y,onItemFocus:m.useCallback(S=>_(S),[_]),onItemShiftTab:m.useCallback(()=>w(!0),[]),onFocusableItemAdd:m.useCallback(()=>N(S=>S+1),[]),onFocusableItemRemove:m.useCallback(()=>N(S=>S-1),[]),children:l.jsx(ae.div,{tabIndex:b||O===0?-1:0,"data-orientation":r,...p,ref:v,style:{outline:"none",...t.style},onMouseDown:K(t.onMouseDown,()=>{j.current=!0}),onFocus:K(t.onFocus,S=>{const P=!j.current;if(S.target===S.currentTarget&&P&&!b){const T=new CustomEvent(tm,W6);if(S.currentTarget.dispatchEvent(T),!T.defaultPrevented){const R=A().filter(Q=>Q.focusable),D=R.find(Q=>Q.active),k=R.find(Q=>Q.id===y),ee=[D,k,...R].filter(Boolean).map(Q=>Q.ref.current);hN(ee,h)}}j.current=!1}),onBlur:K(t.onBlur,()=>w(!1))})})}),uN="RovingFocusGroupItem",dN=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,...i}=t,a=ar(),c=o||a,u=K6(uN,n),h=u.currentTabStopId===c,p=lN(n),{onFocusableItemAdd:f,onFocusableItemRemove:v}=u;return m.useEffect(()=>{if(r)return f(),()=>v()},[r,f,v]),l.jsx(kg.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:l.jsx(ae.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...i,ref:e,onMouseDown:K(t.onMouseDown,x=>{r?u.onItemFocus(c):x.preventDefault()}),onFocus:K(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:K(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=J6(x,u.orientation,u.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=p().filter(w=>w.focusable).map(w=>w.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const w=b.indexOf(x.currentTarget);b=u.loop?Z6(b,w+1):b.slice(w+1)}setTimeout(()=>hN(b))}})})})});dN.displayName=uN;var Y6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function X6(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function J6(t,e,n){const r=X6(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Y6[r]}function hN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Z6(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var fN=cN,pN=dN,eF=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Si=new WeakMap,ed=new WeakMap,td={},nm=0,mN=function(t){return t&&(t.host||mN(t.parentNode))},tF=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=mN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},nF=function(t,e,n,r){var s=tF(e,Array.isArray(t)?t:[t]);td[n]||(td[n]=new WeakMap);var o=td[n],i=[],a=new Set,c=new Set(s),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};s.forEach(u);var h=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(f){if(a.has(f))h(f);else try{var v=f.getAttribute(r),x=v!==null&&v!=="false",y=(Si.get(f)||0)+1,_=(o.get(f)||0)+1;Si.set(f,y),o.set(f,_),i.push(f),y===1&&x&&ed.set(f,!0),_===1&&f.setAttribute(n,"true"),x||f.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return h(e),a.clear(),nm++,function(){i.forEach(function(p){var f=Si.get(p)-1,v=o.get(p)-1;Si.set(p,f),o.set(p,v),f||(ed.has(p)||p.removeAttribute(r),ed.delete(p)),v||p.removeAttribute(n)}),nm--,nm||(Si=new WeakMap,Si=new WeakMap,ed=new WeakMap,td={})}},Nf=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=eF(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),nF(r,s,n,"aria-hidden")):function(){return null}},Cr=function(){return Cr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Cr.apply(this,arguments)};function gN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function rF(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Sd="right-scroll-bar-position",Td="width-before-scroll-bar",sF="with-scroll-bars-hidden",oF="--removed-body-scroll-bar-size";function rm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function iF(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var aF=typeof window<"u"?m.useLayoutEffect:m.useEffect,l_=new WeakMap;function lF(t,e){var n=iF(null,function(r){return t.forEach(function(s){return rm(s,r)})});return aF(function(){var r=l_.get(n);if(r){var s=new Set(r),o=new Set(t),i=n.current;s.forEach(function(a){o.has(a)||rm(a,null)}),o.forEach(function(a){s.has(a)||rm(a,i)})}l_.set(n,t)},[t]),n}function cF(t){return t}function uF(t,e){e===void 0&&(e=cF);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var i=e(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var c=function(){var h=i;i=[],h.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){i.push(h),u()},filter:function(h){return i=i.filter(h),n}}}};return s}function dF(t){t===void 0&&(t={});var e=uF(null);return e.options=Cr({async:!0,ssr:!1},t),e}var vN=function(t){var e=t.sideCar,n=gN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Cr({},n))};vN.isSideCarExport=!0;function hF(t,e){return t.useMedium(e),vN}var yN=dF(),sm=function(){},Pf=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:sm,onWheelCapture:sm,onTouchMoveCapture:sm}),s=r[0],o=r[1],i=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,p=t.shards,f=t.sideCar,v=t.noIsolation,x=t.inert,y=t.allowPinchZoom,_=t.as,b=_===void 0?"div":_,w=t.gapMode,C=gN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=f,j=lF([n,e]),O=Cr(Cr({},C),s);return m.createElement(m.Fragment,null,h&&m.createElement(A,{sideCar:yN,removeScrollBar:u,shards:p,noIsolation:v,inert:x,setCallbacks:o,allowPinchZoom:!!y,lockRef:n,gapMode:w}),i?m.cloneElement(m.Children.only(a),Cr(Cr({},O),{ref:j})):m.createElement(b,Cr({},O,{className:c,ref:j}),a))});Pf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pf.classNames={fullWidth:Td,zeroRight:Sd};var fF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=fF();return e&&t.setAttribute("nonce",e),t}function mF(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function gF(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var vF=function(){var t=0,e=null;return{add:function(n){t==0&&(e=pF())&&(mF(e,n),gF(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},yF=function(){var t=vF();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},xN=function(){var t=yF(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},xF={left:0,top:0,right:0,gap:0},om=function(t){return parseInt(t||"",10)||0},wF=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[om(n),om(r),om(s)]},_F=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return xF;var e=wF(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},bF=xN(),Ji="data-scroll-locked",EF=function(t,e,n,r){var s=t.left,o=t.top,i=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(sF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ji,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Td,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sd," .").concat(Sd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Td," .").concat(Td,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ji,`] {
    `).concat(oF,": ").concat(a,`px;
  }
`)},c_=function(){var t=parseInt(document.body.getAttribute(Ji)||"0",10);return isFinite(t)?t:0},CF=function(){m.useEffect(function(){return document.body.setAttribute(Ji,(c_()+1).toString()),function(){var t=c_()-1;t<=0?document.body.removeAttribute(Ji):document.body.setAttribute(Ji,t.toString())}},[])},SF=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;CF();var o=m.useMemo(function(){return _F(s)},[s]);return m.createElement(bF,{styles:EF(o,!e,s,n?"":"!important")})},Dg=!1;if(typeof window<"u")try{var nd=Object.defineProperty({},"passive",{get:function(){return Dg=!0,!0}});window.addEventListener("test",nd,nd),window.removeEventListener("test",nd,nd)}catch{Dg=!1}var Ti=Dg?{passive:!1}:!1,TF=function(t){return t.tagName==="TEXTAREA"},wN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!TF(t)&&n[e]==="visible")},NF=function(t){return wN(t,"overflowY")},PF=function(t){return wN(t,"overflowX")},u_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=_N(t,r);if(s){var o=bN(t,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},IF=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},AF=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},_N=function(t,e){return t==="v"?NF(e):PF(e)},bN=function(t,e){return t==="v"?IF(e):AF(e)},RF=function(t,e){return t==="h"&&e==="rtl"?-1:1},kF=function(t,e,n,r,s){var o=RF(t,window.getComputedStyle(e).direction),i=o*r,a=n.target,c=e.contains(a),u=!1,h=i>0,p=0,f=0;do{var v=bN(t,a),x=v[0],y=v[1],_=v[2],b=y-_-o*x;(x||b)&&_N(t,a)&&(p+=b,f+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&(Math.abs(p)<1||!s)||!h&&(Math.abs(f)<1||!s))&&(u=!0),u},rd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},d_=function(t){return[t.deltaX,t.deltaY]},h_=function(t){return t&&"current"in t?t.current:t},DF=function(t,e){return t[0]===e[0]&&t[1]===e[1]},jF=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},MF=0,Ni=[];function OF(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(MF++)[0],o=m.useState(xN)[0],i=m.useRef(t);m.useEffect(function(){i.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=rF([t.lockRef.current],(t.shards||[]).map(h_),!0).filter(Boolean);return y.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(y,_){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var b=rd(y),w=n.current,C="deltaX"in y?y.deltaX:w[0]-b[0],A="deltaY"in y?y.deltaY:w[1]-b[1],j,O=y.target,N=Math.abs(C)>Math.abs(A)?"h":"v";if("touches"in y&&N==="h"&&O.type==="range")return!1;var S=u_(N,O);if(!S)return!0;if(S?j=N:(j=N==="v"?"h":"v",S=u_(N,O)),!S)return!1;if(!r.current&&"changedTouches"in y&&(C||A)&&(r.current=j),!j)return!0;var P=r.current||j;return kF(P,_,y,P==="h"?C:A,!0)},[]),c=m.useCallback(function(y){var _=y;if(!(!Ni.length||Ni[Ni.length-1]!==o)){var b="deltaY"in _?d_(_):rd(_),w=e.current.filter(function(j){return j.name===_.type&&(j.target===_.target||_.target===j.shadowParent)&&DF(j.delta,b)})[0];if(w&&w.should){_.cancelable&&_.preventDefault();return}if(!w){var C=(i.current.shards||[]).map(h_).filter(Boolean).filter(function(j){return j.contains(_.target)}),A=C.length>0?a(_,C[0]):!i.current.noIsolation;A&&_.cancelable&&_.preventDefault()}}},[]),u=m.useCallback(function(y,_,b,w){var C={name:y,delta:_,target:b,should:w,shadowParent:LF(b)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(A){return A!==C})},1)},[]),h=m.useCallback(function(y){n.current=rd(y),r.current=void 0},[]),p=m.useCallback(function(y){u(y.type,d_(y),y.target,a(y,t.lockRef.current))},[]),f=m.useCallback(function(y){u(y.type,rd(y),y.target,a(y,t.lockRef.current))},[]);m.useEffect(function(){return Ni.push(o),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Ti),document.addEventListener("touchmove",c,Ti),document.addEventListener("touchstart",h,Ti),function(){Ni=Ni.filter(function(y){return y!==o}),document.removeEventListener("wheel",c,Ti),document.removeEventListener("touchmove",c,Ti),document.removeEventListener("touchstart",h,Ti)}},[]);var v=t.removeScrollBar,x=t.inert;return m.createElement(m.Fragment,null,x?m.createElement(o,{styles:jF(s)}):null,v?m.createElement(SF,{gapMode:t.gapMode}):null)}function LF(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const FF=hF(yN,OF);var eu=m.forwardRef(function(t,e){return m.createElement(Pf,Cr({},t,{ref:e,sideCar:FF}))});eu.classNames=Pf.classNames;var jg=["Enter"," "],VF=["ArrowDown","PageUp","Home"],EN=["ArrowUp","PageDown","End"],$F=[...VF,...EN],UF={ltr:[...jg,"ArrowRight"],rtl:[...jg,"ArrowLeft"]},BF={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tu="Menu",[Ic,zF,WF]=tf(tu),[pi,CN]=Qn(tu,[WF,Fr,Tf]),If=Fr(),SN=Tf(),[HF,mi]=pi(tu),[GF,nu]=pi(tu),TN=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=t,a=If(e),[c,u]=m.useState(null),h=m.useRef(!1),p=Ut(o),f=Ef(s);return m.useEffect(()=>{const v=()=>{h.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>h.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),l.jsx(df,{...a,children:l.jsx(HF,{scope:e,open:n,onOpenChange:p,content:c,onContentChange:u,children:l.jsx(GF,{scope:e,onClose:m.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:h,dir:f,modal:i,children:r})})})};TN.displayName=tu;var qF="MenuAnchor",Ly=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=If(n);return l.jsx(Ua,{...s,...r,ref:e})});Ly.displayName=qF;var Fy="MenuPortal",[KF,NN]=pi(Fy,{forceMount:void 0}),PN=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,o=mi(Fy,e);return l.jsx(KF,{scope:e,forceMount:n,children:l.jsx(bn,{present:n||o.open,children:l.jsx(La,{asChild:!0,container:s,children:r})})})};PN.displayName=Fy;var Gn="MenuContent",[QF,Vy]=pi(Gn),IN=m.forwardRef((t,e)=>{const n=NN(Gn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=mi(Gn,t.__scopeMenu),i=nu(Gn,t.__scopeMenu);return l.jsx(Ic.Provider,{scope:t.__scopeMenu,children:l.jsx(bn,{present:r||o.open,children:l.jsx(Ic.Slot,{scope:t.__scopeMenu,children:i.modal?l.jsx(YF,{...s,ref:e}):l.jsx(XF,{...s,ref:e})})})})}),YF=m.forwardRef((t,e)=>{const n=mi(Gn,t.__scopeMenu),r=m.useRef(null),s=Ne(e,r);return m.useEffect(()=>{const o=r.current;if(o)return Nf(o)},[]),l.jsx($y,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:K(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),XF=m.forwardRef((t,e)=>{const n=mi(Gn,t.__scopeMenu);return l.jsx($y,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),$y=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:f,onDismiss:v,disableOutsideScroll:x,...y}=t,_=mi(Gn,n),b=nu(Gn,n),w=If(n),C=SN(n),A=zF(n),[j,O]=m.useState(null),N=m.useRef(null),S=Ne(e,N,_.onContentChange),P=m.useRef(0),T=m.useRef(""),R=m.useRef(0),D=m.useRef(null),k=m.useRef("right"),H=m.useRef(0),ee=x?eu:m.Fragment,Q=x?{as:os,allowPinchZoom:!0}:void 0,U=F=>{var ne,Ee;const Y=T.current+F,$=A().filter(Ie=>!Ie.disabled),W=document.activeElement,X=(ne=$.find(Ie=>Ie.ref.current===W))==null?void 0:ne.textValue,ve=$.map(Ie=>Ie.textValue),De=cV(ve,Y,X),fe=(Ee=$.find(Ie=>Ie.textValue===De))==null?void 0:Ee.ref.current;(function Ie(xe){T.current=xe,window.clearTimeout(P.current),xe!==""&&(P.current=window.setTimeout(()=>Ie(""),1e3))})(Y),fe&&setTimeout(()=>fe.focus())};m.useEffect(()=>()=>window.clearTimeout(P.current),[]),Cf();const M=m.useCallback(F=>{var $,W;return k.current===(($=D.current)==null?void 0:$.side)&&dV(F,(W=D.current)==null?void 0:W.area)},[]);return l.jsx(QF,{scope:n,searchRef:T,onItemEnter:m.useCallback(F=>{M(F)&&F.preventDefault()},[M]),onItemLeave:m.useCallback(F=>{var Y;M(F)||((Y=N.current)==null||Y.focus(),O(null))},[M]),onTriggerLeave:m.useCallback(F=>{M(F)&&F.preventDefault()},[M]),pointerGraceTimerRef:R,onPointerGraceIntentChange:m.useCallback(F=>{D.current=F},[]),children:l.jsx(ee,{...Q,children:l.jsx(Zc,{asChild:!0,trapped:s,onMountAutoFocus:K(o,F=>{var Y;F.preventDefault(),(Y=N.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:l.jsx(vo,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:f,onDismiss:v,children:l.jsx(fN,{asChild:!0,...C,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:O,onEntryFocus:K(c,F=>{b.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(Xc,{role:"menu","aria-orientation":"vertical","data-state":HN(_.open),"data-radix-menu-content":"",dir:b.dir,...w,...y,ref:S,style:{outline:"none",...y.style},onKeyDown:K(y.onKeyDown,F=>{const $=F.target.closest("[data-radix-menu-content]")===F.currentTarget,W=F.ctrlKey||F.altKey||F.metaKey,X=F.key.length===1;$&&(F.key==="Tab"&&F.preventDefault(),!W&&X&&U(F.key));const ve=N.current;if(F.target!==ve||!$F.includes(F.key))return;F.preventDefault();const fe=A().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);EN.includes(F.key)&&fe.reverse(),aV(fe)}),onBlur:K(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(P.current),T.current="")}),onPointerMove:K(t.onPointerMove,Ac(F=>{const Y=F.target,$=H.current!==F.clientX;if(F.currentTarget.contains(Y)&&$){const W=F.clientX>H.current?"right":"left";k.current=W,H.current=F.clientX}}))})})})})})})});IN.displayName=Gn;var JF="MenuGroup",Uy=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(ae.div,{role:"group",...r,ref:e})});Uy.displayName=JF;var ZF="MenuLabel",AN=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(ae.div,{...r,ref:e})});AN.displayName=ZF;var gh="MenuItem",f_="menu.itemSelect",Af=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,o=m.useRef(null),i=nu(gh,t.__scopeMenu),a=Vy(gh,t.__scopeMenu),c=Ne(e,o),u=m.useRef(!1),h=()=>{const p=o.current;if(!n&&p){const f=new CustomEvent(f_,{bubbles:!0,cancelable:!0});p.addEventListener(f_,v=>r==null?void 0:r(v),{once:!0}),ay(p,f),f.defaultPrevented?u.current=!1:i.onClose()}};return l.jsx(RN,{...s,ref:c,disabled:n,onClick:K(t.onClick,h),onPointerDown:p=>{var f;(f=t.onPointerDown)==null||f.call(t,p),u.current=!0},onPointerUp:K(t.onPointerUp,p=>{var f;u.current||(f=p.currentTarget)==null||f.click()}),onKeyDown:K(t.onKeyDown,p=>{const f=a.searchRef.current!=="";n||f&&p.key===" "||jg.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Af.displayName=gh;var RN=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=t,i=Vy(gh,n),a=SN(n),c=m.useRef(null),u=Ne(e,c),[h,p]=m.useState(!1),[f,v]=m.useState("");return m.useEffect(()=>{const x=c.current;x&&v((x.textContent??"").trim())},[o.children]),l.jsx(Ic.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:l.jsx(pN,{asChild:!0,...a,focusable:!r,children:l.jsx(ae.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:K(t.onPointerMove,Ac(x=>{r?i.onItemLeave(x):(i.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:K(t.onPointerLeave,Ac(x=>i.onItemLeave(x))),onFocus:K(t.onFocus,()=>p(!0)),onBlur:K(t.onBlur,()=>p(!1))})})})}),eV="MenuCheckboxItem",kN=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return l.jsx(LN,{scope:t.__scopeMenu,checked:n,children:l.jsx(Af,{role:"menuitemcheckbox","aria-checked":vh(n)?"mixed":n,...s,ref:e,"data-state":zy(n),onSelect:K(s.onSelect,()=>r==null?void 0:r(vh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});kN.displayName=eV;var DN="MenuRadioGroup",[tV,nV]=pi(DN,{value:void 0,onValueChange:()=>{}}),jN=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,o=Ut(r);return l.jsx(tV,{scope:t.__scopeMenu,value:n,onValueChange:o,children:l.jsx(Uy,{...s,ref:e})})});jN.displayName=DN;var MN="MenuRadioItem",ON=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=nV(MN,t.__scopeMenu),o=n===s.value;return l.jsx(LN,{scope:t.__scopeMenu,checked:o,children:l.jsx(Af,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":zy(o),onSelect:K(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});ON.displayName=MN;var By="MenuItemIndicator",[LN,rV]=pi(By,{checked:!1}),FN=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,o=rV(By,n);return l.jsx(bn,{present:r||vh(o.checked)||o.checked===!0,children:l.jsx(ae.span,{...s,ref:e,"data-state":zy(o.checked)})})});FN.displayName=By;var sV="MenuSeparator",VN=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(ae.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});VN.displayName=sV;var oV="MenuArrow",$N=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=If(n);return l.jsx(Jc,{...s,...r,ref:e})});$N.displayName=oV;var iV="MenuSub",[DH,UN]=pi(iV),Il="MenuSubTrigger",BN=m.forwardRef((t,e)=>{const n=mi(Il,t.__scopeMenu),r=nu(Il,t.__scopeMenu),s=UN(Il,t.__scopeMenu),o=Vy(Il,t.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,u={__scopeMenu:t.__scopeMenu},h=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>h,[h]),m.useEffect(()=>{const p=a.current;return()=>{window.clearTimeout(p),c(null)}},[a,c]),l.jsx(Ly,{asChild:!0,...u,children:l.jsx(RN,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":HN(n.open),...t,ref:ef(e,s.onTriggerChange),onClick:p=>{var f;(f=t.onClick)==null||f.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:K(t.onPointerMove,Ac(p=>{o.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:K(t.onPointerLeave,Ac(p=>{var v,x;h();const f=(v=n.content)==null?void 0:v.getBoundingClientRect();if(f){const y=(x=n.content)==null?void 0:x.dataset.side,_=y==="right",b=_?-5:5,w=f[_?"left":"right"],C=f[_?"right":"left"];o.onPointerGraceIntentChange({area:[{x:p.clientX+b,y:p.clientY},{x:w,y:f.top},{x:C,y:f.top},{x:C,y:f.bottom},{x:w,y:f.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(p),p.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:K(t.onKeyDown,p=>{var v;const f=o.searchRef.current!=="";t.disabled||f&&p.key===" "||UF[r.dir].includes(p.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),p.preventDefault())})})})});BN.displayName=Il;var zN="MenuSubContent",WN=m.forwardRef((t,e)=>{const n=NN(Gn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=mi(Gn,t.__scopeMenu),i=nu(Gn,t.__scopeMenu),a=UN(zN,t.__scopeMenu),c=m.useRef(null),u=Ne(e,c);return l.jsx(Ic.Provider,{scope:t.__scopeMenu,children:l.jsx(bn,{present:r||o.open,children:l.jsx(Ic.Slot,{scope:t.__scopeMenu,children:l.jsx($y,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var p;i.isUsingKeyboardRef.current&&((p=c.current)==null||p.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:K(t.onFocusOutside,h=>{h.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:K(t.onEscapeKeyDown,h=>{i.onClose(),h.preventDefault()}),onKeyDown:K(t.onKeyDown,h=>{var v;const p=h.currentTarget.contains(h.target),f=BF[i.dir].includes(h.key);p&&f&&(o.onOpenChange(!1),(v=a.trigger)==null||v.focus(),h.preventDefault())})})})})})});WN.displayName=zN;function HN(t){return t?"open":"closed"}function vh(t){return t==="indeterminate"}function zy(t){return vh(t)?"indeterminate":t?"checked":"unchecked"}function aV(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function lV(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function cV(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let i=lV(t,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function uV(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o].x,c=e[o].y,u=e[i].x,h=e[i].y;c>r!=h>r&&n<(u-a)*(r-c)/(h-c)+a&&(s=!s)}return s}function dV(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return uV(n,e)}function Ac(t){return e=>e.pointerType==="mouse"?t(e):void 0}var hV=TN,fV=Ly,pV=PN,mV=IN,gV=Uy,vV=AN,yV=Af,xV=kN,wV=jN,_V=ON,bV=FN,EV=VN,CV=$N,SV=BN,TV=WN,Wy="DropdownMenu",[NV,jH]=Qn(Wy,[CN]),fn=CN(),[PV,GN]=NV(Wy),qN=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=t,c=fn(e),u=m.useRef(null),[h=!1,p]=kr({prop:s,defaultProp:o,onChange:i});return l.jsx(PV,{scope:e,triggerId:ar(),triggerRef:u,contentId:ar(),open:h,onOpenChange:p,onOpenToggle:m.useCallback(()=>p(f=>!f),[p]),modal:a,children:l.jsx(hV,{...c,open:h,onOpenChange:p,dir:r,modal:a,children:n})})};qN.displayName=Wy;var KN="DropdownMenuTrigger",QN=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,o=GN(KN,n),i=fn(n);return l.jsx(fV,{asChild:!0,...i,children:l.jsx(ae.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:ef(e,o.triggerRef),onPointerDown:K(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:K(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});QN.displayName=KN;var IV="DropdownMenuPortal",YN=t=>{const{__scopeDropdownMenu:e,...n}=t,r=fn(e);return l.jsx(pV,{...r,...n})};YN.displayName=IV;var XN="DropdownMenuContent",JN=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=GN(XN,n),o=fn(n),i=m.useRef(!1);return l.jsx(mV,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:e,onCloseAutoFocus:K(t.onCloseAutoFocus,a=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:K(t.onInteractOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!s.modal||h)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JN.displayName=XN;var AV="DropdownMenuGroup",RV=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return l.jsx(gV,{...s,...r,ref:e})});RV.displayName=AV;var kV="DropdownMenuLabel",ZN=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return l.jsx(vV,{...s,...r,ref:e})});ZN.displayName=kV;var DV="DropdownMenuItem",e2=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return l.jsx(yV,{...s,...r,ref:e})});e2.displayName=DV;var jV="DropdownMenuCheckboxItem",t2=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return l.jsx(xV,{...s,...r,ref:e})});t2.displayName=jV;var MV="DropdownMenuRadioGroup",OV=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return l.jsx(wV,{...s,...r,ref:e})});OV.displayName=MV;var LV="DropdownMenuRadioItem",n2=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return l.jsx(_V,{...s,...r,ref:e})});n2.displayName=LV;var FV="DropdownMenuItemIndicator",r2=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return l.jsx(bV,{...s,...r,ref:e})});r2.displayName=FV;var VV="DropdownMenuSeparator",s2=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return l.jsx(EV,{...s,...r,ref:e})});s2.displayName=VV;var $V="DropdownMenuArrow",UV=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return l.jsx(CV,{...s,...r,ref:e})});UV.displayName=$V;var BV="DropdownMenuSubTrigger",o2=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return l.jsx(SV,{...s,...r,ref:e})});o2.displayName=BV;var zV="DropdownMenuSubContent",i2=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return l.jsx(TV,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});i2.displayName=zV;var WV=qN,HV=QN,GV=YN,a2=JN,l2=ZN,c2=e2,u2=t2,d2=n2,h2=r2,f2=s2,p2=o2,m2=i2;const Mg=WV,Og=HV,qV=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>l.jsxs(p2,{ref:s,className:se("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,l.jsx(sf,{className:"ml-auto h-4 w-4"})]}));qV.displayName=p2.displayName;const KV=m.forwardRef(({className:t,...e},n)=>l.jsx(m2,{ref:n,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));KV.displayName=m2.displayName;const yh=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(GV,{children:l.jsx(a2,{ref:r,sideOffset:e,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));yh.displayName=a2.displayName;const Yr=m.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(c2,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Yr.displayName=c2.displayName;const QV=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>l.jsxs(u2,{ref:s,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(h2,{children:l.jsx(sh,{className:"h-4 w-4"})})}),e]}));QV.displayName=u2.displayName;const YV=m.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(d2,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(h2,{children:l.jsx(NM,{className:"h-2 w-2 fill-current"})})}),e]}));YV.displayName=d2.displayName;const XV=m.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(l2,{ref:r,className:se("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));XV.displayName=l2.displayName;const g2=m.forwardRef(({className:t,...e},n)=>l.jsx(f2,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",t),...e}));g2.displayName=f2.displayName;var Hy="Dialog",[v2,y2]=Qn(Hy),[JV,fr]=v2(Hy),x2=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,a=m.useRef(null),c=m.useRef(null),[u=!1,h]=kr({prop:r,defaultProp:s,onChange:o});return l.jsx(JV,{scope:e,triggerRef:a,contentRef:c,contentId:ar(),titleId:ar(),descriptionId:ar(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),modal:i,children:n})};x2.displayName=Hy;var w2="DialogTrigger",_2=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(w2,n),o=Ne(e,s.triggerRef);return l.jsx(ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ky(s.open),...r,ref:o,onClick:K(t.onClick,s.onOpenToggle)})});_2.displayName=w2;var Gy="DialogPortal",[ZV,b2]=v2(Gy,{forceMount:void 0}),E2=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=fr(Gy,e);return l.jsx(ZV,{scope:e,forceMount:n,children:m.Children.map(r,i=>l.jsx(bn,{present:n||o.open,children:l.jsx(La,{asChild:!0,container:s,children:i})}))})};E2.displayName=Gy;var xh="DialogOverlay",C2=m.forwardRef((t,e)=>{const n=b2(xh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=fr(xh,t.__scopeDialog);return o.modal?l.jsx(bn,{present:r||o.open,children:l.jsx(e9,{...s,ref:e})}):null});C2.displayName=xh;var e9=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(xh,n);return l.jsx(eu,{as:os,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(ae.div,{"data-state":Ky(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),oi="DialogContent",S2=m.forwardRef((t,e)=>{const n=b2(oi,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=fr(oi,t.__scopeDialog);return l.jsx(bn,{present:r||o.open,children:o.modal?l.jsx(t9,{...s,ref:e}):l.jsx(n9,{...s,ref:e})})});S2.displayName=oi;var t9=m.forwardRef((t,e)=>{const n=fr(oi,t.__scopeDialog),r=m.useRef(null),s=Ne(e,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return Nf(o)},[]),l.jsx(T2,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:K(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:K(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:K(t.onFocusOutside,o=>o.preventDefault())})}),n9=m.forwardRef((t,e)=>{const n=fr(oi,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return l.jsx(T2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),T2=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,a=fr(oi,n),c=m.useRef(null),u=Ne(e,c);return Cf(),l.jsxs(l.Fragment,{children:[l.jsx(Zc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(vo,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Ky(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(s9,{titleId:a.titleId}),l.jsx(i9,{contentRef:c,descriptionId:a.descriptionId})]})]})}),qy="DialogTitle",N2=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(qy,n);return l.jsx(ae.h2,{id:s.titleId,...r,ref:e})});N2.displayName=qy;var P2="DialogDescription",I2=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(P2,n);return l.jsx(ae.p,{id:s.descriptionId,...r,ref:e})});I2.displayName=P2;var A2="DialogClose",R2=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(A2,n);return l.jsx(ae.button,{type:"button",...r,ref:e,onClick:K(t.onClick,()=>s.onOpenChange(!1))})});R2.displayName=A2;function Ky(t){return t?"open":"closed"}var k2="DialogTitleWarning",[r9,D2]=Fj(k2,{contentName:oi,titleName:qy,docsSlug:"dialog"}),s9=({titleId:t})=>{const e=D2(k2),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},o9="DialogDescriptionWarning",i9=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${D2(o9).contentName}}.`;return m.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},j2=x2,M2=_2,O2=E2,Qy=C2,Yy=S2,Xy=N2,Jy=I2,Zy=R2,L2="AlertDialog",[a9,MH]=Qn(L2,[y2]),ms=y2(),F2=t=>{const{__scopeAlertDialog:e,...n}=t,r=ms(e);return l.jsx(j2,{...r,...n,modal:!0})};F2.displayName=L2;var l9="AlertDialogTrigger",V2=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ms(n);return l.jsx(M2,{...s,...r,ref:e})});V2.displayName=l9;var c9="AlertDialogPortal",$2=t=>{const{__scopeAlertDialog:e,...n}=t,r=ms(e);return l.jsx(O2,{...r,...n})};$2.displayName=c9;var u9="AlertDialogOverlay",U2=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ms(n);return l.jsx(Qy,{...s,...r,ref:e})});U2.displayName=u9;var Zi="AlertDialogContent",[d9,h9]=a9(Zi),B2=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,o=ms(n),i=m.useRef(null),a=Ne(e,i),c=m.useRef(null);return l.jsx(r9,{contentName:Zi,titleName:z2,docsSlug:"alert-dialog",children:l.jsx(d9,{scope:n,cancelRef:c,children:l.jsxs(Yy,{role:"alertdialog",...o,...s,ref:a,onOpenAutoFocus:K(s.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(iy,{children:r}),l.jsx(p9,{contentRef:i})]})})})});B2.displayName=Zi;var z2="AlertDialogTitle",W2=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ms(n);return l.jsx(Xy,{...s,...r,ref:e})});W2.displayName=z2;var H2="AlertDialogDescription",G2=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ms(n);return l.jsx(Jy,{...s,...r,ref:e})});G2.displayName=H2;var f9="AlertDialogAction",q2=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ms(n);return l.jsx(Zy,{...s,...r,ref:e})});q2.displayName=f9;var K2="AlertDialogCancel",Q2=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=h9(K2,n),o=ms(n),i=Ne(e,s);return l.jsx(Zy,{...o,...r,ref:i})});Q2.displayName=K2;var p9=({contentRef:t})=>{const e=`\`${Zi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Zi}\` by passing a \`${H2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Zi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},m9=F2,g9=V2,v9=$2,Y2=U2,X2=B2,J2=q2,Z2=Q2,eP=W2,tP=G2;const nP=m9,y9=g9,x9=v9,rP=m.forwardRef(({className:t,...e},n)=>l.jsx(Y2,{className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));rP.displayName=Y2.displayName;const e0=m.forwardRef(({className:t,...e},n)=>l.jsxs(x9,{children:[l.jsx(rP,{}),l.jsx(X2,{ref:n,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));e0.displayName=X2.displayName;const t0=({className:t,...e})=>l.jsx("div",{className:se("flex flex-col space-y-2 text-center sm:text-left",t),...e});t0.displayName="AlertDialogHeader";const n0=({className:t,...e})=>l.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});n0.displayName="AlertDialogFooter";const r0=m.forwardRef(({className:t,...e},n)=>l.jsx(eP,{ref:n,className:se("text-lg font-semibold",t),...e}));r0.displayName=eP.displayName;const s0=m.forwardRef(({className:t,...e},n)=>l.jsx(tP,{ref:n,className:se("text-sm text-muted-foreground",t),...e}));s0.displayName=tP.displayName;const o0=m.forwardRef(({className:t,...e},n)=>l.jsx(J2,{ref:n,className:se(Sc(),t),...e}));o0.displayName=J2.displayName;const i0=m.forwardRef(({className:t,...e},n)=>l.jsx(Z2,{ref:n,className:se(Sc({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));i0.displayName=Z2.displayName;const w9=({onEditRecord:t})=>{const{tarotRecords:e,deleteTarotRecord:n}=Oy(),[r,s]=m.useState(!1),[o,i]=m.useState(null),a=e.slice(0,5);if(!a.length)return l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-foreground/5 backdrop-blur-sm flex items-center justify-center",children:l.jsx(Hn,{className:"w-8 h-8 text-foreground/30"})}),l.jsx("p",{className:"text-foreground/70 font-light",children:"还没有塔罗记录"}),l.jsx("p",{className:"text-sm text-foreground/50 mt-2",children:'点击"塔罗记录"开始你的占卜之旅'})]});const c=f=>{switch(f){case"新月":return"🌑";case"上弦月":return"🌓";case"满月":return"🌕";case"下弦月":return"🌗";default:return"🌙"}},u=f=>{i(f),s(!0)},h=()=>{o&&(n(o.id),s(!1),i(null))},p=f=>{t&&t(f)};return l.jsxs("div",{className:"space-y-4",children:[a.map(f=>l.jsxs(Ay,{children:[l.jsx(Ry,{asChild:!0,children:l.jsx("div",{className:"group bg-background/30 backdrop-blur-sm rounded-lg border border-border/10 p-4 hover:bg-background/40 transition-all duration-200 cursor-pointer",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-foreground/10 flex items-center justify-center",children:l.jsx(Hn,{className:"h-5 w-5 text-foreground/70"})}),l.jsxs("div",{className:"flex-grow space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground/70",children:[l.jsx(is,{className:"h-4 w-4"}),l.jsx("span",{children:Oe(f.date,"MM/dd HH:mm")}),l.jsx("span",{className:"w-1 h-1 rounded-full bg-foreground/30"}),l.jsx(as,{className:"h-4 w-4"}),l.jsx("span",{children:f.moonPhase}),l.jsx("span",{className:"text-lg filter drop-shadow-sm",children:c(f.moonPhase)})]}),l.jsxs(Mg,{children:[l.jsx(Og,{asChild:!0,children:l.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",onClick:v=>v.stopPropagation(),children:l.jsx(MS,{className:"h-4 w-4"})})}),l.jsxs(yh,{align:"end",children:[l.jsxs(Yr,{onClick:()=>p(f),children:[l.jsx(FS,{className:"h-4 w-4 mr-2"}),"编辑"]}),l.jsxs(Yr,{onClick:()=>u(f),className:"text-red-600 focus:text-red-600",children:[l.jsx(hy,{className:"h-4 w-4 mr-2"}),"删除"]})]})]})]}),l.jsx("h3",{className:"font-light text-lg group-hover:text-foreground/90 transition-colors",children:f.question}),l.jsx("div",{className:"flex flex-wrap gap-2",children:f.cards.map((v,x)=>l.jsx(Ot,{variant:"outline",className:"bg-background/20 border-border/20 font-light",children:v},x))}),l.jsx("p",{className:"text-sm text-foreground/70 line-clamp-2",children:f.interpretation})]})]})})}),l.jsx(wf,{className:"w-80 bg-background/95 backdrop-blur-xl border-border/20",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground/70",children:[l.jsx(is,{className:"h-4 w-4"}),l.jsx("span",{children:Oe(f.date,"yyyy年MM月dd日 HH:mm")})]}),l.jsx("h4",{className:"font-medium",children:f.question}),l.jsx("div",{className:"flex flex-wrap gap-2",children:f.cards.map((v,x)=>l.jsx(Ot,{variant:"outline",className:"bg-background/20 border-border/20 font-light",children:v},x))}),l.jsx("p",{className:"text-sm text-foreground/70 mt-2",children:f.interpretation})]})})]},f.id)),l.jsx(nP,{open:r,onOpenChange:s,children:l.jsxs(e0,{children:[l.jsxs(t0,{children:[l.jsx(r0,{children:"确认删除"}),l.jsx(s0,{children:"确定要删除这条塔罗记录吗？此操作无法撤销。"})]}),l.jsxs(n0,{children:[l.jsx(i0,{onClick:()=>s(!1),children:"取消"}),l.jsx(o0,{onClick:h,children:"删除"})]})]})})]})};var a0=(t=>(t.NORTHERN="Northern",t.SOUTHERN="Southern",t))(a0||{}),sP=(t=>(t.NEW="🌑",t.WAXING_CRESCENT="🌒",t.FIRST_QUARTER="🌓",t.WAXING_GIBBOUS="🌔",t.FULL="🌕",t.WANING_GIBBOUS="🌖",t.LAST_QUARTER="🌗",t.WANING_CRESCENT="🌘",t))(sP||{}),oP=(t=>(t.NEW="🌑",t.WAXING_CRESCENT="🌘",t.FIRST_QUARTER="🌗",t.WAXING_GIBBOUS="🌖",t.FULL="🌕",t.WANING_GIBBOUS="🌔",t.LAST_QUARTER="🌓",t.WANING_CRESCENT="🌒",t))(oP||{}),Nt=(t=>(t.NEW="New",t.WAXING_CRESCENT="Waxing Crescent",t.FIRST_QUARTER="First Quarter",t.WAXING_GIBBOUS="Waxing Gibbous",t.FULL="Full",t.WANING_GIBBOUS="Waning Gibbous",t.LAST_QUARTER="Last Quarter",t.WANING_CRESCENT="Waning Crescent",t))(Nt||{});const p_=24405875e-1,_9=2.4234366115277777e6,b9=27.55454988,im=29.53058770576;class am{static fromDate(e=new Date){return e.getTime()/864e5-e.getTimezoneOffset()/1440+p_}static toDate(e){const n=new Date;return n.setTime((e-p_+n.getTimezoneOffset()/1440)*864e5),n}}const lm={hemisphere:a0.NORTHERN},m_=t=>(t-=Math.floor(t),t<0&&(t+=1),t);class Fn{static lunarAge(e=new Date){return Fn.lunarAgePercent(e)*im}static lunarAgePercent(e=new Date){return m_((am.fromDate(e)-24515501e-1)/im)}static lunationNumber(e=new Date){return Math.round((am.fromDate(e)-_9)/im)+1}static lunarDistance(e=new Date){const n=am.fromDate(e),r=Fn.lunarAgePercent(e)*2*Math.PI,s=2*Math.PI*m_((n-24515622e-1)/b9);return 60.4-3.3*Math.cos(s)-.6*Math.cos(2*r-s)-.5*Math.cos(2*r)}static lunarPhase(e=new Date,n){n={...lm,...n};const r=Fn.lunarAge(e);return r<1.84566173161?Nt.NEW:r<5.53698519483?Nt.WAXING_CRESCENT:r<9.22830865805?Nt.FIRST_QUARTER:r<12.91963212127?Nt.WAXING_GIBBOUS:r<16.61095558449?Nt.FULL:r<20.30227904771?Nt.WANING_GIBBOUS:r<23.99360251093?Nt.LAST_QUARTER:r<27.68492597415?Nt.WANING_CRESCENT:Nt.NEW}static lunarPhaseEmoji(e=new Date,n){n={...lm,...n};const r=Fn.lunarPhase(e);return Fn.emojiForLunarPhase(r,n)}static emojiForLunarPhase(e,n){const{hemisphere:r}={...lm,...n};let s;switch(r===a0.SOUTHERN?s=oP:s=sP,e){case Nt.WANING_CRESCENT:return s.WANING_CRESCENT;case Nt.LAST_QUARTER:return s.LAST_QUARTER;case Nt.WANING_GIBBOUS:return s.WANING_GIBBOUS;case Nt.FULL:return s.FULL;case Nt.WAXING_GIBBOUS:return s.WAXING_GIBBOUS;case Nt.FIRST_QUARTER:return s.FIRST_QUARTER;case Nt.WAXING_CRESCENT:return s.WAXING_CRESCENT;default:case Nt.NEW:return s.NEW}}static isWaxing(e=new Date){return Fn.lunarAge(e)<=14.765}static isWaning(e=new Date){return Fn.lunarAge(e)>14.765}}const Hr={NEW_MOON:{name:"新月",emoji:"🌑"},WAXING_CRESCENT:{name:"峨眉月",emoji:"🌒"},FIRST_QUARTER:{name:"上弦月",emoji:"🌓"},WAXING_GIBBOUS:{name:"盈凸月",emoji:"🌔"},FULL_MOON:{name:"满月",emoji:"🌕"},WANING_GIBBOUS:{name:"亏凸月",emoji:"🌖"},LAST_QUARTER:{name:"下弦月",emoji:"🌗"},WANING_CRESCENT:{name:"残月",emoji:"🌘"}},g_={MOON_DAY:"moonDay_",MOON_CALENDAR:"moonCalendar_"},Oo=class Oo{constructor(){}static getInstance(){return Oo.instance||(Oo.instance=new Oo),Oo.instance}calculateMoonPhase(e){const n=Fn.lunarPhase(e),r=Fn.lunarAgePercent(e)*100,s=Fn.lunarPhaseEmoji(e);let o;switch(n){case"NEW":o={...Hr.NEW_MOON,illumination:r,emoji:s};break;case"WAXING_CRESCENT":o={...Hr.WAXING_CRESCENT,illumination:r,emoji:s};break;case"FIRST_QUARTER":o={...Hr.FIRST_QUARTER,illumination:r,emoji:s};break;case"WAXING_GIBBOUS":o={...Hr.WAXING_GIBBOUS,illumination:r,emoji:s};break;case"FULL":o={...Hr.FULL_MOON,illumination:r,emoji:s};break;case"WANING_GIBBOUS":o={...Hr.WANING_GIBBOUS,illumination:r,emoji:s};break;case"LAST_QUARTER":o={...Hr.LAST_QUARTER,illumination:r,emoji:s};break;case"WANING_CRESCENT":o={...Hr.WANING_CRESCENT,illumination:r,emoji:s};break;default:o={...Hr.NEW_MOON,illumination:r,emoji:s}}const i=this.getNextPhaseDate(e);return i&&(o.nextDate=i),o}async getMonthCalendar(e,n){const r=un(new Date(e,n)),s=bf(r),o=l3({start:r,end:s}),i=await Promise.all(o.map(async a=>{const c=this.calculateMoonPhase(a),u=Oe(a,"yyyy-MM-dd"),h=localStorage.getItem(`moonDay_${u}`),{projects:p=[],tarotRecords:f=[]}=h?JSON.parse(h):{};return{date:a,moonPhase:c,projects:p,tarotRecords:f}}));return{year:e,month:n,days:i}}saveDayAssociations(e,n,r){const s=Oe(e,"yyyy-MM-dd");localStorage.setItem(`moonDay_${s}`,JSON.stringify({projects:n,tarotRecords:r}))}getNextPhaseDate(e){let n=new Date(e),r=30;for(;r>0;){n.setDate(n.getDate()+1);const s=Fn.lunarPhase(n);if(["NEW","FULL","FIRST_QUARTER","LAST_QUARTER"].includes(s))return n;r--}}async cacheNextThreeMonths(){const e=new Date,n=[];for(let r=0;r<3;r++){const s=new Date(e.getFullYear(),e.getMonth()+r),o=await this.getMonthCalendar(s.getFullYear(),s.getMonth());n.push(o),localStorage.setItem(`moonCalendar_${o.year}_${o.month}`,JSON.stringify(o))}return n}};nw(Oo,"instance");let Lg=Oo;const v_=Lg.getInstance(),E9=(t,e)=>{const[n,r]=m.useState(null),[s,o]=m.useState(!0),[i,a]=m.useState(null);return m.useEffect(()=>{(async()=>{try{o(!0),a(null);const h=`${g_.MOON_CALENDAR}${t}_${e}`,p=localStorage.getItem(h);if(p){const v=JSON.parse(p),x={...v,days:v.days.map(y=>({...y,date:new Date(y.date)}))};r(x),o(!1);return}const f=await v_.getMonthCalendar(t,e);r(f),localStorage.setItem(h,JSON.stringify(f))}catch(h){a(h instanceof Error?h.message:"获取月相数据失败")}finally{o(!1)}})()},[t,e]),{calendarData:n,loading:s,error:i,updateDayAssociations:(u,h,p)=>{if(!n)return;v_.saveDayAssociations(u,h,p);const f=n.days.map(y=>y.date.toDateString()===u.toDateString()?{...y,projects:h,tarotRecords:p}:y),v={...n,days:f};r(v);const x=`${g_.MOON_CALENDAR}${t}_${e}`;localStorage.setItem(x,JSON.stringify(v))}}},C9=()=>{const[t,e]=m.useState(new Date),{calendarData:n,loading:r}=E9(t.getFullYear(),t.getMonth()),{projects:s}=_f(),{tarotRecords:o}=Oy(),i=()=>{e(u=>E6(u,1))},a=()=>{e(u=>Dn(u,1))},c=u=>{const h=s.filter(f=>Ft(new Date(f.startDate),u.date)),p=o.filter(f=>Ft(new Date(f.date),u.date));return l.jsxs("div",{className:se("min-h-[120px] h-full p-3 border border-gray-200","bg-white/60 shadow-sm",b6(u.date)&&"ring-2 ring-blue-200 ring-offset-2",!Pc(u.date,t)&&"opacity-50 bg-gray-50/30","hover:bg-white/80 hover:shadow-md transition-all duration-200"),children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:se("text-base",!Pc(u.date,t)&&"text-gray-400"),children:Oe(u.date,"dd")}),l.jsxs("span",{className:"text-xs text-gray-500",children:["农历",Oe(u.date,"MM.dd")]})]}),l.jsx("span",{className:"text-lg",title:`${u.moonPhase.name} (${Math.round(u.moonPhase.illumination*100)}%)`,children:u.moonPhase.emoji})]}),l.jsxs("div",{className:"space-y-1 mt-2",children:[h.map(f=>l.jsxs("div",{className:"text-xs px-2 py-1 bg-blue-50 text-blue-700 rounded-sm truncate hover:bg-blue-100 transition-colors cursor-pointer shadow-sm",title:f.title,children:["⭐ ",f.title]},f.id)),p.map(f=>l.jsxs("div",{className:"text-xs px-2 py-1 bg-purple-50 text-purple-700 rounded-sm truncate hover:bg-purple-100 transition-colors cursor-pointer shadow-sm",title:f.question,children:["🎴 ",f.question]},f.id))]})]})};return r?l.jsx("div",{className:"text-center py-8",children:"加载中..."}):n!=null&&n.days?l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-light",children:Oe(t,"yyyy年MM月")}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ue,{variant:"outline",size:"icon",onClick:i,className:"h-8 w-8",children:l.jsx(dy,{className:"h-4 w-4"})}),l.jsx(ue,{variant:"outline",size:"icon",onClick:a,className:"h-8 w-8",children:l.jsx(sf,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"grid grid-cols-7 mb-2",children:["日","一","二","三","四","五","六"].map(u=>l.jsx("div",{className:"text-center text-sm text-gray-500 py-2",children:u},u))}),l.jsx("div",{className:"grid grid-cols-7 gap-1",children:n.days.map((u,h)=>l.jsx("div",{children:c(u)},h))})]}):l.jsx("div",{className:"text-center py-8",children:"暂无数据"})},gi=j2,l0=M2,S9=O2,iP=m.forwardRef(({className:t,...e},n)=>l.jsx(Qy,{ref:n,className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));iP.displayName=Qy.displayName;const xo=m.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(S9,{children:[l.jsx(iP,{}),l.jsxs(Yy,{ref:r,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(Zy,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(af,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xo.displayName=Yy.displayName;const wo=({className:t,...e})=>l.jsx("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});wo.displayName="DialogHeader";const _o=m.forwardRef(({className:t,...e},n)=>l.jsx(Xy,{ref:n,className:se("text-lg font-semibold leading-none tracking-tight",t),...e}));_o.displayName=Xy.displayName;const c0=m.forwardRef(({className:t,...e},n)=>l.jsx(Jy,{ref:n,className:se("text-sm text-muted-foreground",t),...e}));c0.displayName=Jy.displayName;const At=m.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));At.displayName="Input";const Sr=m.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Sr.displayName="Textarea";var T9="Label",aP=m.forwardRef((t,e)=>l.jsx(ae.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));aP.displayName=T9;var lP=aP;const N9=Qc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ue=m.forwardRef(({className:t,...e},n)=>l.jsx(lP,{ref:n,className:se(N9(),t),...e}));Ue.displayName=lP.displayName;function y_(t,[e,n]){return Math.min(n,Math.max(e,t))}function cP(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var P9=[" ","Enter","ArrowUp","ArrowDown"],I9=[" ","Enter"],ru="Select",[Rf,kf,A9]=tf(ru),[za,OH]=Qn(ru,[A9,Fr]),Df=Fr(),[R9,bo]=za(ru),[k9,D9]=za(ru),uP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:c,dir:u,name:h,autoComplete:p,disabled:f,required:v,form:x}=t,y=Df(e),[_,b]=m.useState(null),[w,C]=m.useState(null),[A,j]=m.useState(!1),O=Ef(u),[N=!1,S]=kr({prop:r,defaultProp:s,onChange:o}),[P,T]=kr({prop:i,defaultProp:a,onChange:c}),R=m.useRef(null),D=_?x||!!_.closest("form"):!0,[k,H]=m.useState(new Set),ee=Array.from(k).map(Q=>Q.props.value).join(";");return l.jsx(df,{...y,children:l.jsxs(R9,{required:v,scope:e,trigger:_,onTriggerChange:b,valueNode:w,onValueNodeChange:C,valueNodeHasChildren:A,onValueNodeHasChildrenChange:j,contentId:ar(),value:P,onValueChange:T,open:N,onOpenChange:S,dir:O,triggerPointerDownPosRef:R,disabled:f,children:[l.jsx(Rf.Provider,{scope:e,children:l.jsx(k9,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(Q=>{H(U=>new Set(U).add(Q))},[]),onNativeOptionRemove:m.useCallback(Q=>{H(U=>{const M=new Set(U);return M.delete(Q),M})},[]),children:n})}),D?l.jsxs(MP,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:p,value:P,onChange:Q=>T(Q.target.value),disabled:f,form:x,children:[P===void 0?l.jsx("option",{value:""}):null,Array.from(k)]},ee):null]})})};uP.displayName=ru;var dP="SelectTrigger",hP=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=Df(n),i=bo(dP,n),a=i.disabled||r,c=Ne(e,i.onTriggerChange),u=kf(n),h=m.useRef("touch"),[p,f,v]=OP(y=>{const _=u().filter(C=>!C.disabled),b=_.find(C=>C.value===i.value),w=LP(_,y,b);w!==void 0&&i.onValueChange(w.value)}),x=y=>{a||(i.onOpenChange(!0),v()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return l.jsx(Ua,{asChild:!0,...o,children:l.jsx(ae.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":jP(i.value)?"":void 0,...s,ref:c,onClick:K(s.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&x(y)}),onPointerDown:K(s.onPointerDown,y=>{h.current=y.pointerType;const _=y.target;_.hasPointerCapture(y.pointerId)&&_.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:K(s.onKeyDown,y=>{const _=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(_&&y.key===" ")&&P9.includes(y.key)&&(x(),y.preventDefault())})})})});hP.displayName=dP;var fP="SelectValue",pP=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=t,c=bo(fP,n),{onValueNodeHasChildrenChange:u}=c,h=o!==void 0,p=Ne(e,c.onValueNodeChange);return kt(()=>{u(h)},[u,h]),l.jsx(ae.span,{...a,ref:p,style:{pointerEvents:"none"},children:jP(c.value)?l.jsx(l.Fragment,{children:i}):o})});pP.displayName=fP;var j9="SelectIcon",mP=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return l.jsx(ae.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});mP.displayName=j9;var M9="SelectPortal",gP=t=>l.jsx(La,{asChild:!0,...t});gP.displayName=M9;var ii="SelectContent",vP=m.forwardRef((t,e)=>{const n=bo(ii,t.__scopeSelect),[r,s]=m.useState();if(kt(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?hi.createPortal(l.jsx(yP,{scope:t.__scopeSelect,children:l.jsx(Rf.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),o):null}return l.jsx(xP,{...t,ref:e})});vP.displayName=ii;var Jn=10,[yP,Eo]=za(ii),O9="SelectContentImpl",xP=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:v,sticky:x,hideWhenDetached:y,avoidCollisions:_,...b}=t,w=bo(ii,n),[C,A]=m.useState(null),[j,O]=m.useState(null),N=Ne(e,ne=>A(ne)),[S,P]=m.useState(null),[T,R]=m.useState(null),D=kf(n),[k,H]=m.useState(!1),ee=m.useRef(!1);m.useEffect(()=>{if(C)return Nf(C)},[C]),Cf();const Q=m.useCallback(ne=>{const[Ee,...Ie]=D().map(Se=>Se.ref.current),[xe]=Ie.slice(-1),Te=document.activeElement;for(const Se of ne)if(Se===Te||(Se==null||Se.scrollIntoView({block:"nearest"}),Se===Ee&&j&&(j.scrollTop=0),Se===xe&&j&&(j.scrollTop=j.scrollHeight),Se==null||Se.focus(),document.activeElement!==Te))return},[D,j]),U=m.useCallback(()=>Q([S,C]),[Q,S,C]);m.useEffect(()=>{k&&U()},[k,U]);const{onOpenChange:M,triggerPointerDownPosRef:F}=w;m.useEffect(()=>{if(C){let ne={x:0,y:0};const Ee=xe=>{var Te,Se;ne={x:Math.abs(Math.round(xe.pageX)-(((Te=F.current)==null?void 0:Te.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((Se=F.current)==null?void 0:Se.y)??0))}},Ie=xe=>{ne.x<=10&&ne.y<=10?xe.preventDefault():C.contains(xe.target)||M(!1),document.removeEventListener("pointermove",Ee),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[C,M,F]),m.useEffect(()=>{const ne=()=>M(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[M]);const[Y,$]=OP(ne=>{const Ee=D().filter(Te=>!Te.disabled),Ie=Ee.find(Te=>Te.ref.current===document.activeElement),xe=LP(Ee,ne,Ie);xe&&setTimeout(()=>xe.ref.current.focus())}),W=m.useCallback((ne,Ee,Ie)=>{const xe=!ee.current&&!Ie;(w.value!==void 0&&w.value===Ee||xe)&&(P(ne),xe&&(ee.current=!0))},[w.value]),X=m.useCallback(()=>C==null?void 0:C.focus(),[C]),ve=m.useCallback((ne,Ee,Ie)=>{const xe=!ee.current&&!Ie;(w.value!==void 0&&w.value===Ee||xe)&&R(ne)},[w.value]),De=r==="popper"?Fg:wP,fe=De===Fg?{side:a,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:v,sticky:x,hideWhenDetached:y,avoidCollisions:_}:{};return l.jsx(yP,{scope:n,content:C,viewport:j,onViewportChange:O,itemRefCallback:W,selectedItem:S,onItemLeave:X,itemTextRefCallback:ve,focusSelectedItem:U,selectedItemText:T,position:r,isPositioned:k,searchRef:Y,children:l.jsx(eu,{as:os,allowPinchZoom:!0,children:l.jsx(Zc,{asChild:!0,trapped:w.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:K(s,ne=>{var Ee;(Ee=w.trigger)==null||Ee.focus({preventScroll:!0}),ne.preventDefault()}),children:l.jsx(vo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(De,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ne=>ne.preventDefault(),...b,...fe,onPlaced:()=>H(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:K(b.onKeyDown,ne=>{const Ee=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!Ee&&ne.key.length===1&&$(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let xe=D().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const Te=ne.target,Se=xe.indexOf(Te);xe=xe.slice(Se+1)}setTimeout(()=>Q(xe)),ne.preventDefault()}})})})})})})});xP.displayName=O9;var L9="SelectItemAlignedPosition",wP=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=bo(ii,n),i=Eo(ii,n),[a,c]=m.useState(null),[u,h]=m.useState(null),p=Ne(e,N=>h(N)),f=kf(n),v=m.useRef(!1),x=m.useRef(!0),{viewport:y,selectedItem:_,selectedItemText:b,focusSelectedItem:w}=i,C=m.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&y&&_&&b){const N=o.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),P=o.valueNode.getBoundingClientRect(),T=b.getBoundingClientRect();if(o.dir!=="rtl"){const Te=T.left-S.left,Se=P.left-Te,dt=N.left-Se,xt=N.width+dt,nn=Math.max(xt,S.width),re=window.innerWidth-Jn,pt=y_(Se,[Jn,Math.max(Jn,re-nn)]);a.style.minWidth=xt+"px",a.style.left=pt+"px"}else{const Te=S.right-T.right,Se=window.innerWidth-P.right-Te,dt=window.innerWidth-N.right-Se,xt=N.width+dt,nn=Math.max(xt,S.width),re=window.innerWidth-Jn,pt=y_(Se,[Jn,Math.max(Jn,re-nn)]);a.style.minWidth=xt+"px",a.style.right=pt+"px"}const R=f(),D=window.innerHeight-Jn*2,k=y.scrollHeight,H=window.getComputedStyle(u),ee=parseInt(H.borderTopWidth,10),Q=parseInt(H.paddingTop,10),U=parseInt(H.borderBottomWidth,10),M=parseInt(H.paddingBottom,10),F=ee+Q+k+M+U,Y=Math.min(_.offsetHeight*5,F),$=window.getComputedStyle(y),W=parseInt($.paddingTop,10),X=parseInt($.paddingBottom,10),ve=N.top+N.height/2-Jn,De=D-ve,fe=_.offsetHeight/2,ne=_.offsetTop+fe,Ee=ee+Q+ne,Ie=F-Ee;if(Ee<=ve){const Te=R.length>0&&_===R[R.length-1].ref.current;a.style.bottom="0px";const Se=u.clientHeight-y.offsetTop-y.offsetHeight,dt=Math.max(De,fe+(Te?X:0)+Se+U),xt=Ee+dt;a.style.height=xt+"px"}else{const Te=R.length>0&&_===R[0].ref.current;a.style.top="0px";const dt=Math.max(ve,ee+y.offsetTop+(Te?W:0)+fe)+Ie;a.style.height=dt+"px",y.scrollTop=Ee-ve+y.offsetTop}a.style.margin=`${Jn}px 0`,a.style.minHeight=Y+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[f,o.trigger,o.valueNode,a,u,y,_,b,o.dir,r]);kt(()=>C(),[C]);const[A,j]=m.useState();kt(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const O=m.useCallback(N=>{N&&x.current===!0&&(C(),w==null||w(),x.current=!1)},[C,w]);return l.jsx(V9,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:O,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:l.jsx(ae.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});wP.displayName=L9;var F9="SelectPopperPosition",Fg=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Jn,...o}=t,i=Df(n);return l.jsx(Xc,{...i,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Fg.displayName=F9;var[V9,u0]=za(ii,{}),Vg="SelectViewport",_P=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Eo(Vg,n),i=u0(Vg,n),a=Ne(e,o.onViewportChange),c=m.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Rf.Slot,{scope:n,children:l.jsx(ae.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:K(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=i;if(f!=null&&f.current&&p){const v=Math.abs(c.current-h.scrollTop);if(v>0){const x=window.innerHeight-Jn*2,y=parseFloat(p.style.minHeight),_=parseFloat(p.style.height),b=Math.max(y,_);if(b<x){const w=b+v,C=Math.min(x,w),A=w-C;p.style.height=C+"px",p.style.bottom==="0px"&&(h.scrollTop=A>0?A:0,p.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});_P.displayName=Vg;var bP="SelectGroup",[$9,U9]=za(bP),B9=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ar();return l.jsx($9,{scope:n,id:s,children:l.jsx(ae.div,{role:"group","aria-labelledby":s,...r,ref:e})})});B9.displayName=bP;var EP="SelectLabel",CP=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=U9(EP,n);return l.jsx(ae.div,{id:s.id,...r,ref:e})});CP.displayName=EP;var wh="SelectItem",[z9,SP]=za(wh),TP=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=t,a=bo(wh,n),c=Eo(wh,n),u=a.value===r,[h,p]=m.useState(o??""),[f,v]=m.useState(!1),x=Ne(e,w=>{var C;return(C=c.itemRefCallback)==null?void 0:C.call(c,w,r,s)}),y=ar(),_=m.useRef("touch"),b=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(z9,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:m.useCallback(w=>{p(C=>C||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(Rf.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:l.jsx(ae.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:x,onFocus:K(i.onFocus,()=>v(!0)),onBlur:K(i.onBlur,()=>v(!1)),onClick:K(i.onClick,()=>{_.current!=="mouse"&&b()}),onPointerUp:K(i.onPointerUp,()=>{_.current==="mouse"&&b()}),onPointerDown:K(i.onPointerDown,w=>{_.current=w.pointerType}),onPointerMove:K(i.onPointerMove,w=>{var C;_.current=w.pointerType,s?(C=c.onItemLeave)==null||C.call(c):_.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:K(i.onPointerLeave,w=>{var C;w.currentTarget===document.activeElement&&((C=c.onItemLeave)==null||C.call(c))}),onKeyDown:K(i.onKeyDown,w=>{var A;((A=c.searchRef)==null?void 0:A.current)!==""&&w.key===" "||(I9.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});TP.displayName=wh;var Al="SelectItemText",NP=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,i=bo(Al,n),a=Eo(Al,n),c=SP(Al,n),u=D9(Al,n),[h,p]=m.useState(null),f=Ne(e,b=>p(b),c.onItemTextChange,b=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,b,c.value,c.disabled)}),v=h==null?void 0:h.textContent,x=m.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:_}=u;return kt(()=>(y(x),()=>_(x)),[y,_,x]),l.jsxs(l.Fragment,{children:[l.jsx(ae.span,{id:c.textId,...o,ref:f}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?hi.createPortal(o.children,i.valueNode):null]})});NP.displayName=Al;var PP="SelectItemIndicator",IP=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return SP(PP,n).isSelected?l.jsx(ae.span,{"aria-hidden":!0,...r,ref:e}):null});IP.displayName=PP;var $g="SelectScrollUpButton",AP=m.forwardRef((t,e)=>{const n=Eo($g,t.__scopeSelect),r=u0($g,t.__scopeSelect),[s,o]=m.useState(!1),i=Ne(e,r.onScrollButtonChange);return kt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(kP,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});AP.displayName=$g;var Ug="SelectScrollDownButton",RP=m.forwardRef((t,e)=>{const n=Eo(Ug,t.__scopeSelect),r=u0(Ug,t.__scopeSelect),[s,o]=m.useState(!1),i=Ne(e,r.onScrollButtonChange);return kt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;o(h)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(kP,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});RP.displayName=Ug;var kP=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Eo("SelectScrollButton",n),i=m.useRef(null),a=kf(n),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),kt(()=>{var h;const u=a().find(p=>p.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),l.jsx(ae.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:K(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:K(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:K(s.onPointerLeave,()=>{c()})})}),W9="SelectSeparator",DP=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(ae.div,{"aria-hidden":!0,...r,ref:e})});DP.displayName=W9;var Bg="SelectArrow",H9=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Df(n),o=bo(Bg,n),i=Eo(Bg,n);return o.open&&i.position==="popper"?l.jsx(Jc,{...s,...r,ref:e}):null});H9.displayName=Bg;function jP(t){return t===""||t===void 0}var MP=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=m.useRef(null),o=Ne(e,s),i=cP(n);return m.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&h){const p=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(p)}},[i,n]),l.jsx(Kc,{asChild:!0,children:l.jsx("select",{...r,ref:o,defaultValue:n})})});MP.displayName="BubbleSelect";function OP(t){const e=Ut(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(i=>{const a=n.current+i;e(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),o=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function LP(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let i=G9(t,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function G9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var q9=uP,FP=hP,K9=pP,Q9=mP,Y9=gP,VP=vP,X9=_P,$P=CP,UP=TP,J9=NP,Z9=IP,BP=AP,zP=RP,WP=DP;const Rc=q9,kc=K9,Ca=m.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(FP,{ref:r,className:se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(Q9,{asChild:!0,children:l.jsx(DS,{className:"h-4 w-4 opacity-50"})})]}));Ca.displayName=FP.displayName;const HP=m.forwardRef(({className:t,...e},n)=>l.jsx(BP,{ref:n,className:se("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(SM,{className:"h-4 w-4"})}));HP.displayName=BP.displayName;const GP=m.forwardRef(({className:t,...e},n)=>l.jsx(zP,{ref:n,className:se("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(DS,{className:"h-4 w-4"})}));GP.displayName=zP.displayName;const Sa=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>l.jsx(Y9,{children:l.jsxs(VP,{ref:s,className:se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(HP,{}),l.jsx(X9,{className:se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(GP,{})]})}));Sa.displayName=VP.displayName;const e$=m.forwardRef(({className:t,...e},n)=>l.jsx($P,{ref:n,className:se("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));e$.displayName=$P.displayName;const sr=m.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(UP,{ref:r,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Z9,{children:l.jsx(sh,{className:"h-4 w-4"})})}),l.jsx(J9,{children:e})]}));sr.displayName=UP.displayName;const t$=m.forwardRef(({className:t,...e},n)=>l.jsx(WP,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",t),...e}));t$.displayName=WP.displayName;var he=function(){return he=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},he.apply(this,arguments)};function n$(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function qP(t,e,n){for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function su(t){return t.mode==="multiple"}function ou(t){return t.mode==="range"}function jf(t){return t.mode==="single"}var r$={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function s$(t,e){return Oe(t,"LLLL y",e)}function o$(t,e){return Oe(t,"d",e)}function i$(t,e){return Oe(t,"LLLL",e)}function a$(t){return"".concat(t)}function l$(t,e){return Oe(t,"cccccc",e)}function c$(t,e){return Oe(t,"yyyy",e)}var u$=Object.freeze({__proto__:null,formatCaption:s$,formatDay:o$,formatMonthCaption:i$,formatWeekNumber:a$,formatWeekdayName:l$,formatYearCaption:c$}),d$=function(t,e,n){return Oe(t,"do MMMM (EEEE)",n)},h$=function(){return"Month: "},f$=function(){return"Go to next month"},p$=function(){return"Go to previous month"},m$=function(t,e){return Oe(t,"cccc",e)},g$=function(t){return"Week n. ".concat(t)},v$=function(){return"Year: "},y$=Object.freeze({__proto__:null,labelDay:d$,labelMonthDropdown:h$,labelNext:f$,labelPrevious:p$,labelWeekNumber:g$,labelWeekday:m$,labelYearDropdown:v$});function x$(){var t="buttons",e=r$,n=ZT,r={},s={},o=1,i={},a=new Date;return{captionLayout:t,classNames:e,formatters:u$,labels:y$,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:o,styles:i,today:a,mode:"default"}}function w$(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,o=t.fromDate,i=t.toDate;return r?o=un(r):e&&(o=new Date(e,0,1)),s?i=bf(s):n&&(i=new Date(n,11,31)),{fromDate:o?Ea(o):void 0,toDate:i?Ea(i):void 0}}var KP=m.createContext(void 0);function _$(t){var e,n=t.initialProps,r=x$(),s=w$(n),o=s.fromDate,i=s.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!o||!i)&&(a="buttons");var c;(jf(n)||su(n)||ou(n))&&(c=n.onSelect);var u=he(he(he({},r),n),{captionLayout:a,classNames:he(he({},r.classNames),n.classNames),components:he({},n.components),formatters:he(he({},r.formatters),n.formatters),fromDate:o,labels:he(he({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:he(he({},r.modifiers),n.modifiers),modifiersClassNames:he(he({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:he(he({},r.styles),n.styles),toDate:i});return l.jsx(KP.Provider,{value:u,children:t.children})}function Ke(){var t=m.useContext(KP);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function QP(t){var e=Ke(),n=e.locale,r=e.classNames,s=e.styles,o=e.formatters.formatCaption;return l.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:n})})}function b$(t){return l.jsx("svg",he({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function YP(t){var e,n,r=t.onChange,s=t.value,o=t.children,i=t.caption,a=t.className,c=t.style,u=Ke(),h=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:b$;return l.jsxs("div",{className:a,style:c,children:[l.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),l.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:o}),l.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,l.jsx(h,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function E$(t){var e,n=Ke(),r=n.fromDate,s=n.toDate,o=n.styles,i=n.locale,a=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,h=n.labels.labelMonthDropdown;if(!r)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});var p=[];if(_6(r,s))for(var f=un(r),v=r.getMonth();v<=s.getMonth();v++)p.push(Xp(f,v));else for(var f=un(new Date),v=0;v<=11;v++)p.push(Xp(f,v));var x=function(_){var b=Number(_.target.value),w=Xp(un(t.displayMonth),b);t.onChange(w)},y=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:YP;return l.jsx(y,{name:"months","aria-label":h(),className:c.dropdown_month,style:o.dropdown_month,onChange:x,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:i}),children:p.map(function(_){return l.jsx("option",{value:_.getMonth(),children:a(_,{locale:i})},_.getMonth())})})}function C$(t){var e,n=t.displayMonth,r=Ke(),s=r.fromDate,o=r.toDate,i=r.locale,a=r.styles,c=r.classNames,u=r.components,h=r.formatters.formatYearCaption,p=r.labels.labelYearDropdown,f=[];if(!s)return l.jsx(l.Fragment,{});if(!o)return l.jsx(l.Fragment,{});for(var v=s.getFullYear(),x=o.getFullYear(),y=v;y<=x;y++)f.push(e_(c3(new Date),y));var _=function(w){var C=e_(un(n),Number(w.target.value));t.onChange(C)},b=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:YP;return l.jsx(b,{name:"years","aria-label":p(),className:c.dropdown_year,style:a.dropdown_year,onChange:_,value:n.getFullYear(),caption:h(n,{locale:i}),children:f.map(function(w){return l.jsx("option",{value:w.getFullYear(),children:h(w,{locale:i})},w.getFullYear())})})}function S$(t,e){var n=m.useState(t),r=n[0],s=n[1],o=e===void 0?r:e;return[o,s]}function T$(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,o=t.toDate,i=t.fromDate,a=t.numberOfMonths,c=a===void 0?1:a;if(o&&Nc(o,s)<0){var u=-1*(c-1);s=Dn(o,u)}return i&&Nc(s,i)<0&&(s=i),un(s)}function N$(){var t=Ke(),e=T$(t),n=S$(e,t.month),r=n[0],s=n[1],o=function(i){var a;if(!t.disableNavigation){var c=un(i);s(c),(a=t.onMonthChange)===null||a===void 0||a.call(t,c)}};return[r,o]}function P$(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=un(t),o=un(Dn(s,r)),i=Nc(o,s),a=[],c=0;c<i;c++){var u=Dn(s,c);a.push(u)}return n&&(a=a.reverse()),a}function I$(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,o=s===void 0?1:s,i=r?o:1,a=un(t);if(!n)return Dn(a,i);var c=Nc(n,t);if(!(c<o))return Dn(a,i)}}function A$(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,o=s===void 0?1:s,i=r?o:1,a=un(t);if(!n)return Dn(a,-i);var c=Nc(a,n);if(!(c<=0))return Dn(a,-i)}}var XP=m.createContext(void 0);function R$(t){var e=Ke(),n=N$(),r=n[0],s=n[1],o=P$(r,e),i=I$(r,e),a=A$(r,e),c=function(p){return o.some(function(f){return Pc(p,f)})},u=function(p,f){c(p)||(f&&eN(p,f)?s(Dn(p,1+e.numberOfMonths*-1)):s(p))},h={currentMonth:r,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:a,nextMonth:i,isDateDisplayed:c};return l.jsx(XP.Provider,{value:h,children:t.children})}function iu(){var t=m.useContext(XP);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function x_(t){var e,n=Ke(),r=n.classNames,s=n.styles,o=n.components,i=iu().goToMonth,a=function(h){i(Dn(h,t.displayIndex?-t.displayIndex:0))},c=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:QP,u=l.jsx(c,{id:t.id,displayMonth:t.displayMonth});return l.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[l.jsx("div",{className:r.vhidden,children:u}),l.jsx(E$,{onChange:a,displayMonth:t.displayMonth}),l.jsx(C$,{onChange:a,displayMonth:t.displayMonth})]})}function k$(t){return l.jsx("svg",he({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function D$(t){return l.jsx("svg",he({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var _h=m.forwardRef(function(t,e){var n=Ke(),r=n.classNames,s=n.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var i=o.join(" "),a=he(he({},s.button_reset),s.button);return t.style&&Object.assign(a,t.style),l.jsx("button",he({},t,{ref:e,type:"button",className:i,style:a}))});function j$(t){var e,n,r=Ke(),s=r.dir,o=r.locale,i=r.classNames,a=r.styles,c=r.labels,u=c.labelPrevious,h=c.labelNext,p=r.components;if(!t.nextMonth&&!t.previousMonth)return l.jsx(l.Fragment,{});var f=u(t.previousMonth,{locale:o}),v=[i.nav_button,i.nav_button_previous].join(" "),x=h(t.nextMonth,{locale:o}),y=[i.nav_button,i.nav_button_next].join(" "),_=(e=p==null?void 0:p.IconRight)!==null&&e!==void 0?e:D$,b=(n=p==null?void 0:p.IconLeft)!==null&&n!==void 0?n:k$;return l.jsxs("div",{className:i.nav,style:a.nav,children:[!t.hidePrevious&&l.jsx(_h,{name:"previous-month","aria-label":f,className:v,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?l.jsx(_,{className:i.nav_icon,style:a.nav_icon}):l.jsx(b,{className:i.nav_icon,style:a.nav_icon})}),!t.hideNext&&l.jsx(_h,{name:"next-month","aria-label":x,className:y,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?l.jsx(b,{className:i.nav_icon,style:a.nav_icon}):l.jsx(_,{className:i.nav_icon,style:a.nav_icon})})]})}function w_(t){var e=Ke().numberOfMonths,n=iu(),r=n.previousMonth,s=n.nextMonth,o=n.goToMonth,i=n.displayMonths,a=i.findIndex(function(x){return Pc(t.displayMonth,x)}),c=a===0,u=a===i.length-1,h=e>1&&(c||!u),p=e>1&&(u||!c),f=function(){r&&o(r)},v=function(){s&&o(s)};return l.jsx(j$,{displayMonth:t.displayMonth,hideNext:h,hidePrevious:p,nextMonth:s,previousMonth:r,onPreviousClick:f,onNextClick:v})}function M$(t){var e,n=Ke(),r=n.classNames,s=n.disableNavigation,o=n.styles,i=n.captionLayout,a=n.components,c=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:QP,u;return s?u=l.jsx(c,{id:t.id,displayMonth:t.displayMonth}):i==="dropdown"?u=l.jsx(x_,{displayMonth:t.displayMonth,id:t.id}):i==="dropdown-buttons"?u=l.jsxs(l.Fragment,{children:[l.jsx(x_,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),l.jsx(w_,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),l.jsx(w_,{displayMonth:t.displayMonth,id:t.id})]}),l.jsx("div",{className:r.caption,style:o.caption,children:u})}function O$(t){var e=Ke(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?l.jsx("tfoot",{className:s,style:r.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:n})})}):l.jsx(l.Fragment,{})}function L$(t,e,n){for(var r=n?si(new Date):jr(new Date,{locale:t,weekStartsOn:e}),s=[],o=0;o<7;o++){var i=an(r,o);s.push(i)}return s}function F$(){var t=Ke(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,o=t.weekStartsOn,i=t.ISOWeek,a=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=L$(s,o,i);return l.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&l.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(h,p){return l.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(h,{locale:s}),children:a(h,{locale:s})},p)})]})}function V$(){var t,e=Ke(),n=e.classNames,r=e.styles,s=e.components,o=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:F$;return l.jsx("thead",{style:r.head,className:n.head,children:l.jsx(o,{})})}function $$(t){var e=Ke(),n=e.locale,r=e.formatters.formatDay;return l.jsx(l.Fragment,{children:r(t.date,{locale:n})})}var d0=m.createContext(void 0);function U$(t){if(!su(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return l.jsx(d0.Provider,{value:e,children:t.children})}return l.jsx(B$,{initialProps:t.initialProps,children:t.children})}function B$(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,o=e.max,i=function(u,h,p){var f,v;(f=e.onDayClick)===null||f===void 0||f.call(e,u,h,p);var x=!!(h.selected&&s&&(r==null?void 0:r.length)===s);if(!x){var y=!!(!h.selected&&o&&(r==null?void 0:r.length)===o);if(!y){var _=r?qP([],r):[];if(h.selected){var b=_.findIndex(function(w){return Ft(u,w)});_.splice(b,1)}else _.push(u);(v=e.onSelect)===null||v===void 0||v.call(e,_,u,h,p)}}},a={disabled:[]};r&&a.disabled.push(function(u){var h=o&&r.length>o-1,p=r.some(function(f){return Ft(f,u)});return!!(h&&!p)});var c={selected:r,onDayClick:i,modifiers:a};return l.jsx(d0.Provider,{value:c,children:n})}function h0(){var t=m.useContext(d0);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function z$(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?Ft(s,t)&&Ft(r,t)?void 0:Ft(s,t)?{from:s,to:void 0}:Ft(r,t)?void 0:Rg(r,t)?{from:t,to:s}:{from:r,to:t}:s?Rg(t,s)?{from:s,to:t}:{from:t,to:s}:r?eN(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var f0=m.createContext(void 0);function W$(t){if(!ou(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(f0.Provider,{value:e,children:t.children})}return l.jsx(H$,{initialProps:t.initialProps,children:t.children})}function H$(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},o=s.from,i=s.to,a=e.min,c=e.max,u=function(v,x,y){var _,b;(_=e.onDayClick)===null||_===void 0||_.call(e,v,x,y);var w=z$(v,r);(b=e.onSelect)===null||b===void 0||b.call(e,w,v,x,y)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(h.range_start=[o],i?(h.range_end=[i],Ft(o,i)||(h.range_middle=[{after:o,before:i}])):h.range_end=[o]):i&&(h.range_start=[i],h.range_end=[i]),a&&(o&&!i&&h.disabled.push({after:Yp(o,a-1),before:an(o,a-1)}),o&&i&&h.disabled.push({after:o,before:an(o,a-1)}),!o&&i&&h.disabled.push({after:Yp(i,a-1),before:an(i,a-1)})),c){if(o&&!i&&(h.disabled.push({before:an(o,-c+1)}),h.disabled.push({after:an(o,c-1)})),o&&i){var p=Zr(i,o)+1,f=c-p;h.disabled.push({before:Yp(o,f)}),h.disabled.push({after:an(i,f)})}!o&&i&&(h.disabled.push({before:an(i,-c+1)}),h.disabled.push({after:an(i,c-1)}))}return l.jsx(f0.Provider,{value:{selected:r,onDayClick:u,modifiers:h},children:n})}function p0(){var t=m.useContext(f0);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Nd(t){return Array.isArray(t)?qP([],t):t!==void 0?[t]:[]}function G$(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=Nd(s)}),e}var hr;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(hr||(hr={}));var q$=hr.Selected,Gr=hr.Disabled,K$=hr.Hidden,Q$=hr.Today,cm=hr.RangeEnd,um=hr.RangeMiddle,dm=hr.RangeStart,Y$=hr.Outside;function X$(t,e,n){var r,s=(r={},r[q$]=Nd(t.selected),r[Gr]=Nd(t.disabled),r[K$]=Nd(t.hidden),r[Q$]=[t.today],r[cm]=[],r[um]=[],r[dm]=[],r[Y$]=[],r);return t.fromDate&&s[Gr].push({before:t.fromDate}),t.toDate&&s[Gr].push({after:t.toDate}),su(t)?s[Gr]=s[Gr].concat(e.modifiers[Gr]):ou(t)&&(s[Gr]=s[Gr].concat(n.modifiers[Gr]),s[dm]=n.modifiers[dm],s[um]=n.modifiers[um],s[cm]=n.modifiers[cm]),s}var JP=m.createContext(void 0);function J$(t){var e=Ke(),n=h0(),r=p0(),s=X$(e,n,r),o=G$(e.modifiers),i=he(he({},s),o);return l.jsx(JP.Provider,{value:i,children:t.children})}function ZP(){var t=m.useContext(JP);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Z$(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function e7(t){return!!(t&&typeof t=="object"&&"from"in t)}function t7(t){return!!(t&&typeof t=="object"&&"after"in t)}function n7(t){return!!(t&&typeof t=="object"&&"before"in t)}function r7(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function s7(t,e){var n,r=e.from,s=e.to;if(r&&s){var o=Zr(s,r)<0;o&&(n=[s,r],r=n[0],s=n[1]);var i=Zr(t,r)>=0&&Zr(s,t)>=0;return i}return s?Ft(s,t):r?Ft(r,t):!1}function o7(t){return ky(t)}function i7(t){return Array.isArray(t)&&t.every(ky)}function a7(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(o7(n))return Ft(t,n);if(i7(n))return n.includes(t);if(e7(n))return s7(t,n);if(r7(n))return n.dayOfWeek.includes(t.getDay());if(Z$(n)){var r=Zr(n.before,t),s=Zr(n.after,t),o=r>0,i=s<0,a=Rg(n.before,n.after);return a?i&&o:o||i}return t7(n)?Zr(t,n.after)>0:n7(n)?Zr(n.before,t)>0:typeof n=="function"?n(t):!1})}function m0(t,e,n){var r=Object.keys(e).reduce(function(o,i){var a=e[i];return a7(t,a)&&o.push(i),o},[]),s={};return r.forEach(function(o){return s[o]=!0}),n&&!Pc(t,n)&&(s.outside=!0),s}function l7(t,e){for(var n=un(t[0]),r=bf(t[t.length-1]),s,o,i=n;i<=r;){var a=m0(i,e),c=!a.disabled&&!a.hidden;if(!c){i=an(i,1);continue}if(a.selected)return i;a.today&&!o&&(o=i),s||(s=i),i=an(i,1)}return o||s}var c7=365;function eI(t,e){var n=e.moveBy,r=e.direction,s=e.context,o=e.modifiers,i=e.retry,a=i===void 0?{count:0,lastFocused:t}:i,c=s.weekStartsOn,u=s.fromDate,h=s.toDate,p=s.locale,f={day:an,week:Ag,month:Dn,year:n3,startOfWeek:function(_){return s.ISOWeek?si(_):jr(_,{locale:p,weekStartsOn:c})},endOfWeek:function(_){return s.ISOWeek?QT(_):Dy(_,{locale:p,weekStartsOn:c})}},v=f[n](t,r==="after"?1:-1);r==="before"&&u?v=r3([u,v]):r==="after"&&h&&(v=s3([h,v]));var x=!0;if(o){var y=m0(v,o);x=!y.disabled&&!y.hidden}return x?v:a.count>c7?a.lastFocused:eI(v,{moveBy:n,direction:r,context:s,modifiers:o,retry:he(he({},a),{count:a.count+1})})}var tI=m.createContext(void 0);function u7(t){var e=iu(),n=ZP(),r=m.useState(),s=r[0],o=r[1],i=m.useState(),a=i[0],c=i[1],u=l7(e.displayMonths,n),h=s??(a&&e.isDateDisplayed(a))?a:u,p=function(){c(s),o(void 0)},f=function(_){o(_)},v=Ke(),x=function(_,b){if(s){var w=eI(s,{moveBy:_,direction:b,context:v,modifiers:n});Ft(s,w)||(e.goToDate(w,s),f(w))}},y={focusedDay:s,focusTarget:h,blur:p,focus:f,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return l.jsx(tI.Provider,{value:y,children:t.children})}function g0(){var t=m.useContext(tI);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function d7(t,e){var n=ZP(),r=m0(t,n,e);return r}var v0=m.createContext(void 0);function h7(t){if(!jf(t.initialProps)){var e={selected:void 0};return l.jsx(v0.Provider,{value:e,children:t.children})}return l.jsx(f7,{initialProps:t.initialProps,children:t.children})}function f7(t){var e=t.initialProps,n=t.children,r=function(o,i,a){var c,u,h;if((c=e.onDayClick)===null||c===void 0||c.call(e,o,i,a),i.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,o,i,a);return}(h=e.onSelect)===null||h===void 0||h.call(e,o,o,i,a)},s={selected:e.selected,onDayClick:r};return l.jsx(v0.Provider,{value:s,children:n})}function nI(){var t=m.useContext(v0);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function p7(t,e){var n=Ke(),r=nI(),s=h0(),o=p0(),i=g0(),a=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,h=i.focusWeekBefore,p=i.blur,f=i.focus,v=i.focusMonthBefore,x=i.focusMonthAfter,y=i.focusYearBefore,_=i.focusYearAfter,b=i.focusStartOfWeek,w=i.focusEndOfWeek,C=function(U){var M,F,Y,$;jf(n)?(M=r.onDayClick)===null||M===void 0||M.call(r,t,e,U):su(n)?(F=s.onDayClick)===null||F===void 0||F.call(s,t,e,U):ou(n)?(Y=o.onDayClick)===null||Y===void 0||Y.call(o,t,e,U):($=n.onDayClick)===null||$===void 0||$.call(n,t,e,U)},A=function(U){var M;f(t),(M=n.onDayFocus)===null||M===void 0||M.call(n,t,e,U)},j=function(U){var M;p(),(M=n.onDayBlur)===null||M===void 0||M.call(n,t,e,U)},O=function(U){var M;(M=n.onDayMouseEnter)===null||M===void 0||M.call(n,t,e,U)},N=function(U){var M;(M=n.onDayMouseLeave)===null||M===void 0||M.call(n,t,e,U)},S=function(U){var M;(M=n.onDayPointerEnter)===null||M===void 0||M.call(n,t,e,U)},P=function(U){var M;(M=n.onDayPointerLeave)===null||M===void 0||M.call(n,t,e,U)},T=function(U){var M;(M=n.onDayTouchCancel)===null||M===void 0||M.call(n,t,e,U)},R=function(U){var M;(M=n.onDayTouchEnd)===null||M===void 0||M.call(n,t,e,U)},D=function(U){var M;(M=n.onDayTouchMove)===null||M===void 0||M.call(n,t,e,U)},k=function(U){var M;(M=n.onDayTouchStart)===null||M===void 0||M.call(n,t,e,U)},H=function(U){var M;(M=n.onDayKeyUp)===null||M===void 0||M.call(n,t,e,U)},ee=function(U){var M;switch(U.key){case"ArrowLeft":U.preventDefault(),U.stopPropagation(),n.dir==="rtl"?a():c();break;case"ArrowRight":U.preventDefault(),U.stopPropagation(),n.dir==="rtl"?c():a();break;case"ArrowDown":U.preventDefault(),U.stopPropagation(),u();break;case"ArrowUp":U.preventDefault(),U.stopPropagation(),h();break;case"PageUp":U.preventDefault(),U.stopPropagation(),U.shiftKey?y():v();break;case"PageDown":U.preventDefault(),U.stopPropagation(),U.shiftKey?_():x();break;case"Home":U.preventDefault(),U.stopPropagation(),b();break;case"End":U.preventDefault(),U.stopPropagation(),w();break}(M=n.onDayKeyDown)===null||M===void 0||M.call(n,t,e,U)},Q={onClick:C,onFocus:A,onBlur:j,onKeyDown:ee,onKeyUp:H,onMouseEnter:O,onMouseLeave:N,onPointerEnter:S,onPointerLeave:P,onTouchCancel:T,onTouchEnd:R,onTouchMove:D,onTouchStart:k};return Q}function m7(){var t=Ke(),e=nI(),n=h0(),r=p0(),s=jf(t)?e.selected:su(t)?n.selected:ou(t)?r.selected:void 0;return s}function g7(t){return Object.values(hr).includes(t)}function v7(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(g7(r)){var o=t.classNames["day_".concat(r)];o&&n.push(o)}}),n}function y7(t,e){var n=he({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=he(he({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function x7(t,e,n){var r,s,o,i=Ke(),a=g0(),c=d7(t,e),u=p7(t,c),h=m7(),p=!!(i.onDayClick||i.mode!=="default");m.useEffect(function(){var O;c.outside||a.focusedDay&&p&&Ft(a.focusedDay,t)&&((O=n.current)===null||O===void 0||O.focus())},[a.focusedDay,t,n,p,c.outside]);var f=v7(i,c).join(" "),v=y7(i,c),x=!!(c.outside&&!i.showOutsideDays||c.hidden),y=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:$$,_=l.jsx(y,{date:t,displayMonth:e,activeModifiers:c}),b={style:v,className:f,children:_,role:"gridcell"},w=a.focusTarget&&Ft(a.focusTarget,t)&&!c.outside,C=a.focusedDay&&Ft(a.focusedDay,t),A=he(he(he({},b),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=C||w?0:-1,r)),u),j={isButton:p,isHidden:x,activeModifiers:c,selectedDays:h,buttonProps:A,divProps:b};return j}function w7(t){var e=m.useRef(null),n=x7(t.date,t.displayMonth,e);return n.isHidden?l.jsx("div",{role:"gridcell"}):n.isButton?l.jsx(_h,he({name:"day",ref:e},n.buttonProps)):l.jsx("div",he({},n.divProps))}function _7(t){var e=t.number,n=t.dates,r=Ke(),s=r.onWeekNumberClick,o=r.styles,i=r.classNames,a=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,h=u(Number(e),{locale:a});if(!s)return l.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:h});var p=c(Number(e),{locale:a}),f=function(v){s(e,n,v)};return l.jsx(_h,{name:"week-number","aria-label":p,className:i.weeknumber,style:o.weeknumber,onClick:f,children:h})}function b7(t){var e,n,r=Ke(),s=r.styles,o=r.classNames,i=r.showWeekNumber,a=r.components,c=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:w7,u=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:_7,h;return i&&(h=l.jsx("td",{className:o.cell,style:s.cell,children:l.jsx(u,{number:t.weekNumber,dates:t.dates})})),l.jsxs("tr",{className:o.row,style:s.row,children:[h,t.dates.map(function(p){return l.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:l.jsx(c,{displayMonth:t.displayMonth,date:p})},p6(p))})]})}function __(t,e,n){for(var r=n!=null&&n.ISOWeek?QT(e):Dy(e,n),s=n!=null&&n.ISOWeek?si(t):jr(t,n),o=Zr(r,s),i=[],a=0;a<=o;a++)i.push(an(s,a));var c=i.reduce(function(u,h){var p=n!=null&&n.ISOWeek?h6(h):y6(h,n),f=u.find(function(v){return v.weekNumber===p});return f?(f.dates.push(h),u):(u.push({weekNumber:p,dates:[h]}),u)},[]);return c}function E7(t,e){var n=__(un(t),bf(t),e);if(e!=null&&e.useFixedWeeks){var r=w6(t,e);if(r<6){var s=n[n.length-1],o=s.dates[s.dates.length-1],i=Ag(o,6-r),a=__(Ag(o,1),i,e);n.push.apply(n,a)}}return n}function C7(t){var e,n,r,s=Ke(),o=s.locale,i=s.classNames,a=s.styles,c=s.hideHead,u=s.fixedWeeks,h=s.components,p=s.weekStartsOn,f=s.firstWeekContainsDate,v=s.ISOWeek,x=E7(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:v,locale:o,weekStartsOn:p,firstWeekContainsDate:f}),y=(e=h==null?void 0:h.Head)!==null&&e!==void 0?e:V$,_=(n=h==null?void 0:h.Row)!==null&&n!==void 0?n:b7,b=(r=h==null?void 0:h.Footer)!==null&&r!==void 0?r:O$;return l.jsxs("table",{id:t.id,className:i.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&l.jsx(y,{}),l.jsx("tbody",{className:i.tbody,style:a.tbody,children:x.map(function(w){return l.jsx(_,{displayMonth:t.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),l.jsx(b,{displayMonth:t.displayMonth})]})}function S7(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var T7=S7()?m.useLayoutEffect:m.useEffect,hm=!1,N7=0;function b_(){return"react-day-picker-".concat(++N7)}function P7(t){var e,n=t??(hm?b_():null),r=m.useState(n),s=r[0],o=r[1];return T7(function(){s===null&&o(b_())},[]),m.useEffect(function(){hm===!1&&(hm=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function I7(t){var e,n,r=Ke(),s=r.dir,o=r.classNames,i=r.styles,a=r.components,c=iu().displayMonths,u=P7(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),h=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,p=[o.month],f=i.month,v=t.displayIndex===0,x=t.displayIndex===c.length-1,y=!v&&!x;s==="rtl"&&(e=[v,x],x=e[0],v=e[1]),v&&(p.push(o.caption_start),f=he(he({},f),i.caption_start)),x&&(p.push(o.caption_end),f=he(he({},f),i.caption_end)),y&&(p.push(o.caption_between),f=he(he({},f),i.caption_between));var _=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:M$;return l.jsxs("div",{className:p.join(" "),style:f,children:[l.jsx(_,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),l.jsx(C7,{id:h,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function A7(t){var e=Ke(),n=e.classNames,r=e.styles;return l.jsx("div",{className:n.months,style:r.months,children:t.children})}function R7(t){var e,n,r=t.initialProps,s=Ke(),o=g0(),i=iu(),a=m.useState(!1),c=a[0],u=a[1];m.useEffect(function(){s.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,c,o.focus,o.focusTarget,o]);var h=[s.classNames.root,s.className];s.numberOfMonths>1&&h.push(s.classNames.multiple_months),s.showWeekNumber&&h.push(s.classNames.with_weeknumber);var p=he(he({},s.styles.root),s.style),f=Object.keys(r).filter(function(x){return x.startsWith("data-")}).reduce(function(x,y){var _;return he(he({},x),(_={},_[y]=r[y],_))},{}),v=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:A7;return l.jsx("div",he({className:h.join(" "),style:p,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:l.jsx(v,{children:i.displayMonths.map(function(x,y){return l.jsx(I7,{displayIndex:y,displayMonth:x},y)})})}))}function k7(t){var e=t.children,n=n$(t,["children"]);return l.jsx(_$,{initialProps:n,children:l.jsx(R$,{children:l.jsx(h7,{initialProps:n,children:l.jsx(U$,{initialProps:n,children:l.jsx(W$,{initialProps:n,children:l.jsx(J$,{children:l.jsx(u7,{children:e})})})})})})})}function D7(t){return l.jsx(k7,he({},t,{children:l.jsx(R7,{initialProps:t})}))}function rI({className:t,classNames:e,showOutsideDays:n=!0,...r}){return l.jsx(D7,{showOutsideDays:n,className:se("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:se(Sc({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:se(Sc({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>l.jsx(dy,{className:"h-4 w-4"}),IconRight:({...s})=>l.jsx(sf,{className:"h-4 w-4"})},...r})}rI.displayName="Calendar";var y0="Popover",[sI,LH]=Qn(y0,[Fr]),au=Fr(),[j7,Co]=sI(y0),oI=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!1}=t,a=au(e),c=m.useRef(null),[u,h]=m.useState(!1),[p=!1,f]=kr({prop:r,defaultProp:s,onChange:o});return l.jsx(df,{...a,children:l.jsx(j7,{scope:e,contentId:ar(),triggerRef:c,open:p,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(v=>!v),[f]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>h(!0),[]),onCustomAnchorRemove:m.useCallback(()=>h(!1),[]),modal:i,children:n})})};oI.displayName=y0;var iI="PopoverAnchor",M7=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Co(iI,n),o=au(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:a}=s;return m.useEffect(()=>(i(),()=>a()),[i,a]),l.jsx(Ua,{...o,...r,ref:e})});M7.displayName=iI;var aI="PopoverTrigger",lI=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Co(aI,n),o=au(n),i=Ne(e,s.triggerRef),a=l.jsx(ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":fI(s.open),...r,ref:i,onClick:K(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:l.jsx(Ua,{asChild:!0,...o,children:a})});lI.displayName=aI;var x0="PopoverPortal",[O7,L7]=sI(x0,{forceMount:void 0}),cI=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,o=Co(x0,e);return l.jsx(O7,{scope:e,forceMount:n,children:l.jsx(bn,{present:n||o.open,children:l.jsx(La,{asChild:!0,container:s,children:r})})})};cI.displayName=x0;var Ta="PopoverContent",uI=m.forwardRef((t,e)=>{const n=L7(Ta,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,o=Co(Ta,t.__scopePopover);return l.jsx(bn,{present:r||o.open,children:o.modal?l.jsx(F7,{...s,ref:e}):l.jsx(V7,{...s,ref:e})})});uI.displayName=Ta;var F7=m.forwardRef((t,e)=>{const n=Co(Ta,t.__scopePopover),r=m.useRef(null),s=Ne(e,r),o=m.useRef(!1);return m.useEffect(()=>{const i=r.current;if(i)return Nf(i)},[]),l.jsx(eu,{as:os,allowPinchZoom:!0,children:l.jsx(dI,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:K(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),o.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:K(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,u=a.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:K(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),V7=m.forwardRef((t,e)=>{const n=Co(Ta,t.__scopePopover),r=m.useRef(!1),s=m.useRef(!1);return l.jsx(dI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),dI=m.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:h,...p}=t,f=Co(Ta,n),v=au(n);return Cf(),l.jsx(Zc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(vo,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:h,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:l.jsx(Xc,{"data-state":fI(f.open),role:"dialog",id:f.contentId,...v,...p,ref:e,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),hI="PopoverClose",$7=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Co(hI,n);return l.jsx(ae.button,{type:"button",...r,ref:e,onClick:K(t.onClick,()=>s.onOpenChange(!1))})});$7.displayName=hI;var U7="PopoverArrow",B7=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=au(n);return l.jsx(Jc,{...s,...r,ref:e})});B7.displayName=U7;function fI(t){return t?"open":"closed"}var z7=oI,W7=lI,H7=cI,pI=uI;const G7=z7,q7=W7,mI=m.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>l.jsx(H7,{children:l.jsx(pI,{ref:s,align:e,sideOffset:n,className:se("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));mI.displayName=pI.displayName;const K7=({open:t,onOpenChange:e,currentPhase:n,editProject:r})=>{const{addProject:s,updateProject:o}=_f(),[i,a]=m.useState((r==null?void 0:r.title)||""),[c,u]=m.useState((r==null?void 0:r.description)||""),[h,p]=m.useState((r==null?void 0:r.moonPhase)||(n==null?void 0:n.name)||"新月"),[f,v]=m.useState(r==null?void 0:r.targetDate),[x,y]=m.useState((r==null?void 0:r.status)||"active"),_=[{name:"新月",emoji:"🌑"},{name:"上弦月",emoji:"🌓"},{name:"满月",emoji:"🌕"},{name:"下弦月",emoji:"🌗"}],b=w=>{if(w.preventDefault(),!i.trim())return;const C={title:i.trim(),description:c.trim(),moonPhase:h,startDate:(r==null?void 0:r.startDate)||new Date,targetDate:f,progress:(r==null?void 0:r.progress)||0,status:x,tarotRecords:(r==null?void 0:r.tarotRecords)||[]};r?o(r.id,C):s(C),a(""),u(""),p((n==null?void 0:n.name)||"新月"),v(void 0),y("active"),e(!1)};return l.jsx(gi,{open:t,onOpenChange:e,children:l.jsxs(xo,{className:"bg-background/95 backdrop-blur-xl border border-border/20 text-foreground max-w-md shadow-2xl",children:[l.jsx(wo,{children:l.jsxs(_o,{className:"text-2xl font-extralight tracking-wide text-center flex items-center justify-center gap-3",children:[l.jsx(as,{className:"h-6 w-6 text-foreground/70",strokeWidth:1.5}),r?"编辑项目":"创建新项目"]})}),l.jsxs("form",{onSubmit:b,className:"space-y-8",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ue,{htmlFor:"title",className:"text-foreground/70 font-light",children:"项目标题"}),l.jsx(At,{id:"title",value:i,onChange:w=>a(w.target.value),placeholder:"输入项目标题...",className:"bg-background/50 border-border/20 text-foreground placeholder:text-foreground/40 font-light transition-all duration-300 hover:bg-background/70 focus:bg-background/70",required:!0})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ue,{htmlFor:"description",className:"text-foreground/70 font-light",children:"项目描述"}),l.jsx(Sr,{id:"description",value:c,onChange:w=>u(w.target.value),placeholder:"描述你的项目目标和计划...",className:"bg-background/50 border-border/20 text-foreground placeholder:text-foreground/40 font-light min-h-[100px] transition-all duration-300 hover:bg-background/70 focus:bg-background/70",rows:3})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ue,{className:"text-foreground/70 font-light",children:"关联月相"}),l.jsxs(Rc,{value:h,onValueChange:p,children:[l.jsx(Ca,{className:"bg-background/50 border-border/20 text-foreground font-light transition-all duration-300 hover:bg-background/70",children:l.jsx(kc,{})}),l.jsx(Sa,{className:"bg-background/95 backdrop-blur-xl border-border/20",children:_.map(w=>l.jsx(sr,{value:w.name,className:"text-foreground hover:bg-foreground/5 font-light",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-xl",children:w.emoji}),l.jsx("span",{children:w.name}),w.name===(n==null?void 0:n.name)&&l.jsx("span",{className:"text-xs text-foreground/50",children:"(当前)"})]})},w.name))})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ue,{className:"text-foreground/70 font-light",children:"目标完成日期 (可选)"}),l.jsxs(G7,{children:[l.jsx(q7,{asChild:!0,children:l.jsxs(ue,{variant:"outline",className:se("w-full justify-start text-left font-light bg-background/50 border-border/20 text-foreground transition-all duration-300 hover:bg-background/70",!f&&"text-foreground/40"),children:[l.jsx(is,{className:"mr-3 h-4 w-4",strokeWidth:1.5}),f?Oe(f,"yyyy年MM月dd日"):l.jsx("span",{children:"选择目标日期"})]})}),l.jsx(mI,{className:"w-auto p-0 bg-background/95 backdrop-blur-xl border-border/20",align:"start",children:l.jsx(rI,{mode:"single",selected:f,onSelect:v,initialFocus:!0,className:"rounded-md border-0"})})]})]}),r&&l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ue,{className:"text-foreground/70 font-light",children:"项目状态"}),l.jsxs(Rc,{value:x,onValueChange:y,children:[l.jsx(Ca,{className:"bg-background/50 border-border/20 text-foreground font-light transition-all duration-300 hover:bg-background/70",children:l.jsx(kc,{})}),l.jsxs(Sa,{className:"bg-background/95 backdrop-blur-xl border-border/20",children:[l.jsx(sr,{value:"active",className:"text-foreground hover:bg-foreground/5 font-light",children:"进行中"}),l.jsx(sr,{value:"paused",className:"text-foreground hover:bg-foreground/5 font-light",children:"已暂停"}),l.jsx(sr,{value:"completed",className:"text-foreground hover:bg-foreground/5 font-light",children:"已完成"})]})]})]}),l.jsxs("div",{className:"bg-foreground/5 backdrop-blur-sm rounded-lg p-6 border border-border/20",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx(as,{className:"h-5 w-5 text-foreground/60",strokeWidth:1.5}),l.jsx("span",{className:"text-sm font-light text-foreground/70",children:"月相能量指引"})]}),l.jsxs("p",{className:"text-sm text-foreground/60 leading-relaxed font-extralight",children:[h==="新月"&&"新月是播种新想法的时机，适合开始新项目和设定意图。",h==="上弦月"&&"上弦月带来行动的能量，适合推进项目和克服挑战。",h==="满月"&&"满月是收获和反思的时期，适合完成项目和总结经验。",h==="下弦月"&&"下弦月是释放和清理的阶段，适合整理项目和放下阻碍。"]})]}),l.jsxs("div",{className:"flex gap-4 pt-2",children:[l.jsx(ue,{type:"button",variant:"outline",onClick:()=>e(!1),className:"flex-1 border-border/20 text-foreground/70 hover:bg-foreground/5 font-light transition-all duration-300",children:"取消"}),l.jsx(ue,{type:"submit",className:"flex-1 bg-foreground/10 hover:bg-foreground/15 text-foreground font-light transition-all duration-300",children:r?"更新项目":"创建项目"})]})]})]})})},Q7=Qc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),w0=m.forwardRef(({className:t,variant:e,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:se(Q7({variant:e}),t),...n}));w0.displayName="Alert";const Y7=m.forwardRef(({className:t,...e},n)=>l.jsx("h5",{ref:n,className:se("mb-1 font-medium leading-none tracking-tight",t),...e}));Y7.displayName="AlertTitle";const _0=m.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:se("text-sm [&_p]:leading-relaxed",t),...e}));_0.displayName="AlertDescription";const X7=["愚者","魔术师","女祭司","皇后","皇帝","教皇","恋人","战车","力量","隐者","命运之轮","正义","倒吊人","死神","节制","恶魔","塔","星星","月亮","太阳","审判","世界"],J7=({open:t,onOpenChange:e,currentPhase:n,editRecord:r})=>{const{addTarotRecord:s,updateTarotRecord:o}=Oy(),{projects:i}=_f(),[a,c]=m.useState((r==null?void 0:r.question)||""),[u,h]=m.useState((r==null?void 0:r.cards)||[]),[p,f]=m.useState(""),[v,x]=m.useState((r==null?void 0:r.interpretation)||""),[y,_]=m.useState((r==null?void 0:r.projectId)||"none"),[b,w]=m.useState({}),[C,A]=m.useState(!1),j=()=>{p.trim()&&!u.includes(p.trim())&&(h([...u,p.trim()]),f(""),b.cards&&w(T=>({...T,cards:""})))},O=T=>{h(u.filter(R=>R!==T))},N=T=>{u.includes(T)||(h([...u,T]),b.cards&&w(R=>({...R,cards:""})))},S=()=>{const T={};return a.trim()?a.trim().length<5?T.question="问题至少需要5个字符":a.trim().length>500&&(T.question="问题不能超过500个字符"):T.question="请输入占卜问题",u.length===0?T.cards="请至少选择一张塔罗牌":u.length>10&&(T.cards="最多只能选择10张牌"),v.trim()&&v.trim().length<10?T.interpretation="解读内容至少需要10个字符":v.trim().length>2e3&&(T.interpretation="解读内容不能超过2000个字符"),w(T),Object.keys(T).length===0},P=async T=>{if(T.preventDefault(),!!S()){A(!0);try{const R={date:(r==null?void 0:r.date)||new Date,moonPhase:(n==null?void 0:n.name)||"新月",question:a.trim(),cards:u,interpretation:v.trim(),projectId:y==="none"?void 0:y};r?o(r.id,R):s(R),c(""),h([]),f(""),x(""),_("none"),w({}),e(!1)}catch(R){console.error("保存塔罗记录时出错:",R),w({submit:"保存失败，请重试"})}finally{A(!1)}}};return l.jsx(gi,{open:t,onOpenChange:e,children:l.jsxs(xo,{className:"bg-white/95 backdrop-blur-xl border-gray-200 text-gray-900 max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(wo,{children:[l.jsxs(_o,{className:"text-xl font-light text-center flex items-center justify-center space-x-2",children:[l.jsx(Hn,{className:"h-6 w-6 text-purple-600"}),l.jsx("span",{children:r?"编辑塔罗记录":"记录塔罗占卜"})]}),l.jsx(c0,{className:"text-center text-gray-600",children:"记录你的塔罗牌占卜结果，包括问题、抽取的牌和解读。"})]}),l.jsxs("form",{onSubmit:P,className:"space-y-6",children:[b.submit&&l.jsxs(w0,{className:"border-red-200 bg-red-50/80",children:[l.jsx(US,{className:"h-4 w-4 text-red-600"}),l.jsx(_0,{className:"text-red-800",children:b.submit})]}),n&&l.jsxs("div",{className:"bg-purple-50/50 rounded-lg p-4 border border-purple-200/50 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[l.jsx(as,{className:"h-5 w-5 text-purple-600"}),l.jsx("span",{className:"text-purple-700",children:"当前月相"})]}),l.jsx("div",{className:"text-2xl mb-1",children:n.emoji}),l.jsx("div",{className:"text-gray-800 font-medium",children:n.name}),l.jsxs("div",{className:"text-sm text-purple-600 mt-2",children:[n.name==="新月"&&"新月适合询问新开始和设定意图的问题",n.name==="满月"&&"满月适合询问完成、收获和反思的问题",n.name==="上弦月"&&"上弦月适合询问行动和克服挑战的问题",n.name==="下弦月"&&"下弦月适合询问释放和清理的问题"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{htmlFor:"question",className:"text-gray-700",children:"占卜问题"}),l.jsx(Sr,{id:"question",value:a,onChange:T=>{c(T.target.value),b.question&&w(R=>({...R,question:""}))},placeholder:"输入你想要占卜的问题...",className:`bg-white/70 border-gray-300 text-gray-900 placeholder:text-gray-400 min-h-[80px] ${b.question?"border-red-400":""}`,rows:3,required:!0}),b.question&&l.jsx("p",{className:"text-red-600 text-sm",children:b.question})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ue,{className:"text-gray-700",children:"抽取的塔罗牌"}),b.cards&&l.jsx("p",{className:"text-red-600 text-sm",children:b.cards}),u.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"已选择的牌:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((T,R)=>l.jsxs(Ot,{variant:"secondary",className:"bg-purple-100 text-purple-800 pr-1 border border-purple-200",children:[T,l.jsx("button",{type:"button",onClick:()=>O(T),className:"ml-2 text-purple-600 hover:text-purple-800",children:l.jsx(af,{className:"h-3 w-3"})})]},R))})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(At,{value:p,onChange:T=>f(T.target.value),placeholder:"输入塔罗牌名称...",className:"bg-white/70 border-gray-300 text-gray-900 placeholder:text-gray-400",onKeyPress:T=>T.key==="Enter"&&(T.preventDefault(),j())}),l.jsx(ue,{type:"button",onClick:j,className:"bg-purple-600 hover:bg-purple-700 text-white",disabled:!p.trim(),children:l.jsx(xa,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"常用塔罗牌:"}),l.jsx("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto",children:X7.map(T=>l.jsx("button",{type:"button",onClick:()=>N(T),disabled:u.includes(T),className:`px-3 py-1 text-sm rounded-full border transition-colors ${u.includes(T)?"bg-purple-600 text-white border-purple-600":"bg-white/80 text-purple-700 border-purple-300 hover:bg-purple-50"}`,children:T},T))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{htmlFor:"interpretation",className:"text-gray-700",children:"牌面解读"}),l.jsx(Sr,{id:"interpretation",value:v,onChange:T=>{x(T.target.value),b.interpretation&&w(R=>({...R,interpretation:""}))},placeholder:"记录你对这次占卜的解读和感受...",className:`bg-white/70 border-gray-300 text-gray-900 placeholder:text-gray-400 min-h-[120px] ${b.interpretation?"border-red-400":""}`,rows:5}),b.interpretation&&l.jsx("p",{className:"text-red-600 text-sm",children:b.interpretation})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{className:"text-gray-700",children:"关联项目 (可选)"}),l.jsxs(Rc,{value:y,onValueChange:_,children:[l.jsx(Ca,{className:"bg-white/70 border-gray-300 text-gray-900",children:l.jsx(kc,{placeholder:"选择要关联的项目"})}),l.jsxs(Sa,{className:"bg-white border-gray-200",children:[l.jsx(sr,{value:"none",className:"text-gray-900 hover:bg-gray-100",children:"不关联项目"}),i.map(T=>l.jsx(sr,{value:T.id,className:"text-gray-900 hover:bg-gray-100",children:T.title},T.id))]})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx(ue,{type:"button",variant:"outline",onClick:()=>e(!1),className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-50",children:"取消"}),l.jsx(ue,{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",disabled:C,children:C?"保存中...":r?"更新记录":"保存占卜"})]})]})]})})},We=m.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:se("rounded-lg border border-border/30 bg-card/80 backdrop-blur-sm text-card-foreground transition-all duration-500 hover:bg-card/90",t),...e}));We.displayName="Card";const _r=m.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:se("flex flex-col space-y-1.5 p-6",t),...e}));_r.displayName="CardHeader";const br=m.forwardRef(({className:t,...e},n)=>l.jsx("h3",{ref:n,className:se("text-2xl font-light tracking-wide leading-none",t),...e}));br.displayName="CardTitle";const Z7=m.forwardRef(({className:t,...e},n)=>l.jsx("p",{ref:n,className:se("text-sm text-muted-foreground/80 font-light",t),...e}));Z7.displayName="CardDescription";const He=m.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:se("p-6 pt-0",t),...e}));He.displayName="CardContent";const e8=m.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:se("flex items-center p-6 pt-0",t),...e}));e8.displayName="CardFooter";var b0="Switch",[t8,FH]=Qn(b0),[n8,r8]=t8(b0),gI=m.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:c="on",onCheckedChange:u,form:h,...p}=t,[f,v]=m.useState(null),x=Ne(e,C=>v(C)),y=m.useRef(!1),_=f?h||!!f.closest("form"):!0,[b=!1,w]=kr({prop:s,defaultProp:o,onChange:u});return l.jsxs(n8,{scope:n,checked:b,disabled:a,children:[l.jsx(ae.button,{type:"button",role:"switch","aria-checked":b,"aria-required":i,"data-state":xI(b),"data-disabled":a?"":void 0,disabled:a,value:c,...p,ref:x,onClick:K(t.onClick,C=>{w(A=>!A),_&&(y.current=C.isPropagationStopped(),y.current||C.stopPropagation())})}),_&&l.jsx(s8,{control:f,bubbles:!y.current,name:r,value:c,checked:b,required:i,disabled:a,form:h,style:{transform:"translateX(-100%)"}})]})});gI.displayName=b0;var vI="SwitchThumb",yI=m.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=r8(vI,n);return l.jsx(ae.span,{"data-state":xI(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});yI.displayName=vI;var s8=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,o=m.useRef(null),i=cP(n),a=aT(e);return m.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==n&&p){const f=new Event("click",{bubbles:r});p.call(c,n),c.dispatchEvent(f)}},[i,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function xI(t){return t?"checked":"unchecked"}var wI=gI,o8=yI;const Rl=m.forwardRef(({className:t,...e},n)=>l.jsx(wI,{className:se("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:l.jsx(o8,{className:se("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Rl.displayName=wI.displayName;var E0="Tabs",[i8,VH]=Qn(E0,[Tf]),_I=Tf(),[a8,C0]=i8(E0),bI=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:c="automatic",...u}=t,h=Ef(a),[p,f]=kr({prop:r,onChange:s,defaultProp:o});return l.jsx(a8,{scope:n,baseId:ar(),value:p,onValueChange:f,orientation:i,dir:h,activationMode:c,children:l.jsx(ae.div,{dir:h,"data-orientation":i,...u,ref:e})})});bI.displayName=E0;var EI="TabsList",CI=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=C0(EI,n),i=_I(n);return l.jsx(fN,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:l.jsx(ae.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});CI.displayName=EI;var SI="TabsTrigger",TI=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,i=C0(SI,n),a=_I(n),c=II(i.baseId,r),u=AI(i.baseId,r),h=r===i.value;return l.jsx(pN,{asChild:!0,...a,focusable:!s,active:h,children:l.jsx(ae.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:e,onMouseDown:K(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?i.onValueChange(r):p.preventDefault()}),onKeyDown:K(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&i.onValueChange(r)}),onFocus:K(t.onFocus,()=>{const p=i.activationMode!=="manual";!h&&!s&&p&&i.onValueChange(r)})})})});TI.displayName=SI;var NI="TabsContent",PI=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=t,a=C0(NI,n),c=II(a.baseId,r),u=AI(a.baseId,r),h=r===a.value,p=m.useRef(h);return m.useEffect(()=>{const f=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(f)},[]),l.jsx(bn,{present:s||h,children:({present:f})=>l.jsx(ae.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...i,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:f&&o})})});PI.displayName=NI;function II(t,e){return`${t}-trigger-${e}`}function AI(t,e){return`${t}-content-${e}`}var l8=bI,RI=CI,kI=TI,DI=PI;const jI=l8,S0=m.forwardRef(({className:t,...e},n)=>l.jsx(RI,{ref:n,className:se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));S0.displayName=RI.displayName;const Ko=m.forwardRef(({className:t,...e},n)=>l.jsx(kI,{ref:n,className:se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Ko.displayName=kI.displayName;const Qo=m.forwardRef(({className:t,...e},n)=>l.jsx(DI,{ref:n,className:se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Qo.displayName=DI.displayName;var T0="Avatar",[c8,$H]=Qn(T0),[u8,MI]=c8(T0),OI=m.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,o]=m.useState("idle");return l.jsx(u8,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:l.jsx(ae.span,{...r,ref:e})})});OI.displayName=T0;var LI="AvatarImage",FI=m.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=t,i=MI(LI,n),a=d8(r,o.referrerPolicy),c=Ut(u=>{s(u),i.onImageLoadingStatusChange(u)});return kt(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?l.jsx(ae.img,{...o,ref:e,src:r}):null});FI.displayName=LI;var VI="AvatarFallback",$I=m.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,o=MI(VI,n),[i,a]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&o.imageLoadingStatus!=="loaded"?l.jsx(ae.span,{...s,ref:e}):null});$I.displayName=VI;function d8(t,e){const[n,r]=m.useState("idle");return kt(()=>{if(!t){r("error");return}let s=!0;const o=new window.Image,i=a=>()=>{s&&r(a)};return r("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=t,e&&(o.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var UI=OI,BI=FI,zI=$I;const Gl=m.forwardRef(({className:t,...e},n)=>l.jsx(UI,{ref:n,className:se("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Gl.displayName=UI.displayName;const ql=m.forwardRef(({className:t,...e},n)=>l.jsx(BI,{ref:n,className:se("aspect-square h-full w-full",t),...e}));ql.displayName=BI.displayName;const Kl=m.forwardRef(({className:t,...e},n)=>l.jsx(zI,{ref:n,className:se("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Kl.displayName=zI.displayName;const h8=()=>{};var E_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},f8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],a=t[n++],c=((s&7)<<18|(o&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},HI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,a=i?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=o>>2,p=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,v=u&63;c||(v=64,i||(f=64)),r.push(n[h],n[p],n[f],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||a==null||u==null||p==null)throw new p8;const f=o<<2|a>>4;if(r.push(f),u!==64){const v=a<<4&240|u>>2;if(r.push(v),p!==64){const x=u<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class p8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m8=function(t){const e=WI(t);return HI.encodeByteArray(e,!0)},bh=function(t){return m8(t).replace(/\./g,"")},g8=function(t){try{return HI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=()=>v8().__FIREBASE_DEFAULTS__,x8=()=>{if(typeof process>"u"||typeof E_>"u")return;const t=E_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},w8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&g8(t[1]);return e&&JSON.parse(e)},N0=()=>{try{return h8()||y8()||x8()||w8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_8=t=>{var e,n;return(n=(e=N0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},b8=t=>{const e=_8(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},GI=()=>{var t;return(t=N0())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function C8(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bh(JSON.stringify(n)),bh(JSON.stringify(i)),""].join(".")}const Ql={};function T8(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?t.emulator.push(e):t.prod.push(e);return t}function N8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let C_=!1;function P8(t,e){if(typeof window>"u"||typeof document>"u"||!P0(window.location.host)||Ql[t]===e||Ql[t]||C_)return;Ql[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",o=T8().prod.length>0;function i(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,v){f.setAttribute("width","24"),f.setAttribute("id",v),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{C_=!0,i()},f}function h(f,v){f.setAttribute("id",v),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function p(){const f=N8(r),v=n("text"),x=document.getElementById(v)||document.createElement("span"),y=n("learnmore"),_=document.getElementById(y)||document.createElement("a"),b=n("preprendIcon"),w=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const C=f.element;a(C),h(_,y);const A=u();c(w,b),C.append(w,x,_,A),document.body.appendChild(C)}o?(x.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A8(){var t;const e=(t=N0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R8(){return!A8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k8(){try{return typeof indexedDB=="object"}catch{return!1}}function D8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8="FirebaseError";class Wa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=j8,Object.setPrototypeOf(this,Wa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qI.prototype.create)}}class qI{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?M8(o,r):"Error",a=`${this.serviceName}: ${i} (${s}).`;return new Wa(s,a,r)}}function M8(t,e){return t.replace(O8,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const O8=/\{\$([^}]+)}/g;function Eh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(S_(o)&&S_(i)){if(!Eh(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function S_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t){return t&&t._delegate?t._delegate:t}class Dc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new E8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(V8(e))try{this.getOrInitializeService({instanceIdentifier:Mo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mo){return this.instances.has(e)}getOptions(e=Mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&i.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const i=this.instances.get(s);return i&&e(i,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:F8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mo){return this.component?this.component.multipleInstances?e:Mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F8(t){return t===Mo?void 0:t}function V8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new L8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const U8={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},B8=ke.INFO,z8={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},W8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=z8[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class KI{constructor(e){this.name=e,this._logLevel=B8,this._logHandler=W8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const H8=(t,e)=>e.some(n=>t instanceof n);let T_,N_;function G8(){return T_||(T_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q8(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QI=new WeakMap,zg=new WeakMap,YI=new WeakMap,fm=new WeakMap,I0=new WeakMap;function K8(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(Qs(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&QI.set(n,t)}).catch(()=>{}),I0.set(e,t),e}function Q8(t){if(zg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});zg.set(t,e)}let Wg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Y8(t){Wg=t(Wg)}function X8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pm(this),e,...n);return YI.set(r,e.sort?e.sort():[e]),Qs(r)}:q8().includes(t)?function(...e){return t.apply(pm(this),e),Qs(QI.get(this))}:function(...e){return Qs(t.apply(pm(this),e))}}function J8(t){return typeof t=="function"?X8(t):(t instanceof IDBTransaction&&Q8(t),H8(t,G8())?new Proxy(t,Wg):t)}function Qs(t){if(t instanceof IDBRequest)return K8(t);if(fm.has(t))return fm.get(t);const e=J8(t);return e!==t&&(fm.set(t,e),I0.set(e,t)),e}const pm=t=>I0.get(t);function Z8(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),a=Qs(i);return r&&i.addEventListener("upgradeneeded",c=>{r(Qs(i.result),c.oldVersion,c.newVersion,Qs(i.transaction),c)}),n&&i.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const eU=["get","getKey","getAll","getAllKeys","count"],tU=["put","add","delete","clear"],mm=new Map;function P_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mm.get(e))return mm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=tU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||eU.includes(n)))return;const o=async function(i,...a){const c=this.transaction(i,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return mm.set(e,o),o}Y8(t=>({...t,get:(e,n,r)=>P_(e,n)||t.get(e,n,r),has:(e,n)=>!!P_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hg="@firebase/app",I_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new KI("@firebase/app"),sU="@firebase/app-compat",oU="@firebase/analytics-compat",iU="@firebase/analytics",aU="@firebase/app-check-compat",lU="@firebase/app-check",cU="@firebase/auth",uU="@firebase/auth-compat",dU="@firebase/database",hU="@firebase/data-connect",fU="@firebase/database-compat",pU="@firebase/functions",mU="@firebase/functions-compat",gU="@firebase/installations",vU="@firebase/installations-compat",yU="@firebase/messaging",xU="@firebase/messaging-compat",wU="@firebase/performance",_U="@firebase/performance-compat",bU="@firebase/remote-config",EU="@firebase/remote-config-compat",CU="@firebase/storage",SU="@firebase/storage-compat",TU="@firebase/firestore",NU="@firebase/ai",PU="@firebase/firestore-compat",IU="firebase",AU="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="[DEFAULT]",RU={[Hg]:"fire-core",[sU]:"fire-core-compat",[iU]:"fire-analytics",[oU]:"fire-analytics-compat",[lU]:"fire-app-check",[aU]:"fire-app-check-compat",[cU]:"fire-auth",[uU]:"fire-auth-compat",[dU]:"fire-rtdb",[hU]:"fire-data-connect",[fU]:"fire-rtdb-compat",[pU]:"fire-fn",[mU]:"fire-fn-compat",[gU]:"fire-iid",[vU]:"fire-iid-compat",[yU]:"fire-fcm",[xU]:"fire-fcm-compat",[wU]:"fire-perf",[_U]:"fire-perf-compat",[bU]:"fire-rc",[EU]:"fire-rc-compat",[CU]:"fire-gcs",[SU]:"fire-gcs-compat",[TU]:"fire-fst",[PU]:"fire-fst-compat",[NU]:"fire-vertex","fire-js":"fire-js",[IU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,kU=new Map,qg=new Map;function A_(t,e){try{t.container.addComponent(e)}catch(n){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sh(t){const e=t.name;if(qg.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;qg.set(e,t);for(const n of Ch.values())A_(n,t);for(const n of kU.values())A_(n,t);return!0}function DU(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jU(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new qI("app","Firebase",MU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=AU;function XI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gg,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Ys.create("bad-app-name",{appName:String(s)});if(n||(n=GI()),!n)throw Ys.create("no-options");const o=Ch.get(s);if(o){if(Eh(n,o.options)&&Eh(r,o.config))return o;throw Ys.create("duplicate-app",{appName:s})}const i=new $8(s);for(const c of qg.values())i.addComponent(c);const a=new OU(n,r,i);return Ch.set(s,a),a}function FU(t=Gg){const e=Ch.get(t);if(!e&&t===Gg&&GI())return XI();if(!e)throw Ys.create("no-app",{appName:t});return e}function ea(t,e,n){var r;let s=(r=RU[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),i=e.match(/\s|\//);if(o||i){const a=[`Unable to register library "${s}" with version "${e}":`];o&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(a.join(" "));return}Sh(new Dc(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU="firebase-heartbeat-database",$U=1,jc="firebase-heartbeat-store";let gm=null;function JI(){return gm||(gm=Z8(VU,$U,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ys.create("idb-open",{originalErrorMessage:t.message})})),gm}async function UU(t){try{const n=(await JI()).transaction(jc),r=await n.objectStore(jc).get(ZI(t));return await n.done,r}catch(e){if(e instanceof Wa)ds.warn(e.message);else{const n=Ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ds.warn(n.message)}}}async function R_(t,e){try{const r=(await JI()).transaction(jc,"readwrite");await r.objectStore(jc).put(e,ZI(t)),await r.done}catch(n){if(n instanceof Wa)ds.warn(n.message);else{const r=Ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ds.warn(r.message)}}}function ZI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=1024,zU=30;class WU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=k_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>zU){const i=qU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ds.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=k_(),{heartbeatsToSend:r,unsentEntries:s}=HU(this._heartbeatsCache.heartbeats),o=bh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ds.warn(n),""}}}function k_(){return new Date().toISOString().substring(0,10)}function HU(t,e=BU){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),D_(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),D_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class GU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k8()?D8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return R_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return R_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function D_(t){return bh(JSON.stringify({version:2,heartbeats:t})).length}function qU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(t){Sh(new Dc("platform-logger",e=>new nU(e),"PRIVATE")),Sh(new Dc("heartbeat",e=>new WU(e),"PRIVATE")),ea(Hg,I_,t),ea(Hg,I_,"esm2017"),ea("fire-js","")}KU("");var j_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xs,eA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function P(){}P.prototype=S.prototype,N.D=S.prototype,N.prototype=new P,N.prototype.constructor=N,N.C=function(T,R,D){for(var k=Array(arguments.length-2),H=2;H<arguments.length;H++)k[H-2]=arguments[H];return S.prototype[R].apply(T,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,S,P){P||(P=0);var T=Array(16);if(typeof S=="string")for(var R=0;16>R;++R)T[R]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(R=0;16>R;++R)T[R]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=N.g[0],P=N.g[1],R=N.g[2];var D=N.g[3],k=S+(D^P&(R^D))+T[0]+3614090360&4294967295;S=P+(k<<7&4294967295|k>>>25),k=D+(R^S&(P^R))+T[1]+3905402710&4294967295,D=S+(k<<12&4294967295|k>>>20),k=R+(P^D&(S^P))+T[2]+606105819&4294967295,R=D+(k<<17&4294967295|k>>>15),k=P+(S^R&(D^S))+T[3]+3250441966&4294967295,P=R+(k<<22&4294967295|k>>>10),k=S+(D^P&(R^D))+T[4]+4118548399&4294967295,S=P+(k<<7&4294967295|k>>>25),k=D+(R^S&(P^R))+T[5]+1200080426&4294967295,D=S+(k<<12&4294967295|k>>>20),k=R+(P^D&(S^P))+T[6]+2821735955&4294967295,R=D+(k<<17&4294967295|k>>>15),k=P+(S^R&(D^S))+T[7]+4249261313&4294967295,P=R+(k<<22&4294967295|k>>>10),k=S+(D^P&(R^D))+T[8]+1770035416&4294967295,S=P+(k<<7&4294967295|k>>>25),k=D+(R^S&(P^R))+T[9]+2336552879&4294967295,D=S+(k<<12&4294967295|k>>>20),k=R+(P^D&(S^P))+T[10]+4294925233&4294967295,R=D+(k<<17&4294967295|k>>>15),k=P+(S^R&(D^S))+T[11]+2304563134&4294967295,P=R+(k<<22&4294967295|k>>>10),k=S+(D^P&(R^D))+T[12]+1804603682&4294967295,S=P+(k<<7&4294967295|k>>>25),k=D+(R^S&(P^R))+T[13]+4254626195&4294967295,D=S+(k<<12&4294967295|k>>>20),k=R+(P^D&(S^P))+T[14]+2792965006&4294967295,R=D+(k<<17&4294967295|k>>>15),k=P+(S^R&(D^S))+T[15]+1236535329&4294967295,P=R+(k<<22&4294967295|k>>>10),k=S+(R^D&(P^R))+T[1]+4129170786&4294967295,S=P+(k<<5&4294967295|k>>>27),k=D+(P^R&(S^P))+T[6]+3225465664&4294967295,D=S+(k<<9&4294967295|k>>>23),k=R+(S^P&(D^S))+T[11]+643717713&4294967295,R=D+(k<<14&4294967295|k>>>18),k=P+(D^S&(R^D))+T[0]+3921069994&4294967295,P=R+(k<<20&4294967295|k>>>12),k=S+(R^D&(P^R))+T[5]+3593408605&4294967295,S=P+(k<<5&4294967295|k>>>27),k=D+(P^R&(S^P))+T[10]+38016083&4294967295,D=S+(k<<9&4294967295|k>>>23),k=R+(S^P&(D^S))+T[15]+3634488961&4294967295,R=D+(k<<14&4294967295|k>>>18),k=P+(D^S&(R^D))+T[4]+3889429448&4294967295,P=R+(k<<20&4294967295|k>>>12),k=S+(R^D&(P^R))+T[9]+568446438&4294967295,S=P+(k<<5&4294967295|k>>>27),k=D+(P^R&(S^P))+T[14]+3275163606&4294967295,D=S+(k<<9&4294967295|k>>>23),k=R+(S^P&(D^S))+T[3]+4107603335&4294967295,R=D+(k<<14&4294967295|k>>>18),k=P+(D^S&(R^D))+T[8]+1163531501&4294967295,P=R+(k<<20&4294967295|k>>>12),k=S+(R^D&(P^R))+T[13]+2850285829&4294967295,S=P+(k<<5&4294967295|k>>>27),k=D+(P^R&(S^P))+T[2]+4243563512&4294967295,D=S+(k<<9&4294967295|k>>>23),k=R+(S^P&(D^S))+T[7]+1735328473&4294967295,R=D+(k<<14&4294967295|k>>>18),k=P+(D^S&(R^D))+T[12]+2368359562&4294967295,P=R+(k<<20&4294967295|k>>>12),k=S+(P^R^D)+T[5]+4294588738&4294967295,S=P+(k<<4&4294967295|k>>>28),k=D+(S^P^R)+T[8]+2272392833&4294967295,D=S+(k<<11&4294967295|k>>>21),k=R+(D^S^P)+T[11]+1839030562&4294967295,R=D+(k<<16&4294967295|k>>>16),k=P+(R^D^S)+T[14]+4259657740&4294967295,P=R+(k<<23&4294967295|k>>>9),k=S+(P^R^D)+T[1]+2763975236&4294967295,S=P+(k<<4&4294967295|k>>>28),k=D+(S^P^R)+T[4]+1272893353&4294967295,D=S+(k<<11&4294967295|k>>>21),k=R+(D^S^P)+T[7]+4139469664&4294967295,R=D+(k<<16&4294967295|k>>>16),k=P+(R^D^S)+T[10]+3200236656&4294967295,P=R+(k<<23&4294967295|k>>>9),k=S+(P^R^D)+T[13]+681279174&4294967295,S=P+(k<<4&4294967295|k>>>28),k=D+(S^P^R)+T[0]+3936430074&4294967295,D=S+(k<<11&4294967295|k>>>21),k=R+(D^S^P)+T[3]+3572445317&4294967295,R=D+(k<<16&4294967295|k>>>16),k=P+(R^D^S)+T[6]+76029189&4294967295,P=R+(k<<23&4294967295|k>>>9),k=S+(P^R^D)+T[9]+3654602809&4294967295,S=P+(k<<4&4294967295|k>>>28),k=D+(S^P^R)+T[12]+3873151461&4294967295,D=S+(k<<11&4294967295|k>>>21),k=R+(D^S^P)+T[15]+530742520&4294967295,R=D+(k<<16&4294967295|k>>>16),k=P+(R^D^S)+T[2]+3299628645&4294967295,P=R+(k<<23&4294967295|k>>>9),k=S+(R^(P|~D))+T[0]+4096336452&4294967295,S=P+(k<<6&4294967295|k>>>26),k=D+(P^(S|~R))+T[7]+1126891415&4294967295,D=S+(k<<10&4294967295|k>>>22),k=R+(S^(D|~P))+T[14]+2878612391&4294967295,R=D+(k<<15&4294967295|k>>>17),k=P+(D^(R|~S))+T[5]+4237533241&4294967295,P=R+(k<<21&4294967295|k>>>11),k=S+(R^(P|~D))+T[12]+1700485571&4294967295,S=P+(k<<6&4294967295|k>>>26),k=D+(P^(S|~R))+T[3]+2399980690&4294967295,D=S+(k<<10&4294967295|k>>>22),k=R+(S^(D|~P))+T[10]+4293915773&4294967295,R=D+(k<<15&4294967295|k>>>17),k=P+(D^(R|~S))+T[1]+2240044497&4294967295,P=R+(k<<21&4294967295|k>>>11),k=S+(R^(P|~D))+T[8]+1873313359&4294967295,S=P+(k<<6&4294967295|k>>>26),k=D+(P^(S|~R))+T[15]+4264355552&4294967295,D=S+(k<<10&4294967295|k>>>22),k=R+(S^(D|~P))+T[6]+2734768916&4294967295,R=D+(k<<15&4294967295|k>>>17),k=P+(D^(R|~S))+T[13]+1309151649&4294967295,P=R+(k<<21&4294967295|k>>>11),k=S+(R^(P|~D))+T[4]+4149444226&4294967295,S=P+(k<<6&4294967295|k>>>26),k=D+(P^(S|~R))+T[11]+3174756917&4294967295,D=S+(k<<10&4294967295|k>>>22),k=R+(S^(D|~P))+T[2]+718787259&4294967295,R=D+(k<<15&4294967295|k>>>17),k=P+(D^(R|~S))+T[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(R+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+R&4294967295,N.g[3]=N.g[3]+D&4294967295}r.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var P=S-this.blockSize,T=this.B,R=this.h,D=0;D<S;){if(R==0)for(;D<=P;)s(this,N,D),D+=this.blockSize;if(typeof N=="string"){for(;D<S;)if(T[R++]=N.charCodeAt(D++),R==this.blockSize){s(this,T),R=0;break}}else for(;D<S;)if(T[R++]=N[D++],R==this.blockSize){s(this,T),R=0;break}}this.h=R,this.o+=S},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var P=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=P&255,P/=256;for(this.u(N),N=Array(16),S=P=0;4>S;++S)for(var T=0;32>T;T+=8)N[P++]=this.g[S]>>>T&255;return N};function o(N,S){var P=a;return Object.prototype.hasOwnProperty.call(P,N)?P[N]:P[N]=S(N)}function i(N,S){this.h=S;for(var P=[],T=!0,R=N.length-1;0<=R;R--){var D=N[R]|0;T&&D==S||(P[R]=D,T=!1)}this.g=P}var a={};function c(N){return-128<=N&&128>N?o(N,function(S){return new i([S|0],0>S?-1:0)}):new i([N|0],0>N?-1:0)}function u(N){if(isNaN(N)||!isFinite(N))return p;if(0>N)return _(u(-N));for(var S=[],P=1,T=0;N>=P;T++)S[T]=N/P|0,P*=4294967296;return new i(S,0)}function h(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return _(h(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(S,8)),T=p,R=0;R<N.length;R+=8){var D=Math.min(8,N.length-R),k=parseInt(N.substring(R,R+D),S);8>D?(D=u(Math.pow(S,D)),T=T.j(D).add(u(k))):(T=T.j(P),T=T.add(u(k)))}return T}var p=c(0),f=c(1),v=c(16777216);t=i.prototype,t.m=function(){if(y(this))return-_(this).m();for(var N=0,S=1,P=0;P<this.g.length;P++){var T=this.i(P);N+=(0<=T?T:4294967296+T)*S,S*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(x(this))return"0";if(y(this))return"-"+_(this).toString(N);for(var S=u(Math.pow(N,6)),P=this,T="";;){var R=A(P,S).g;P=b(P,R.j(S));var D=((0<P.g.length?P.g[0]:P.h)>>>0).toString(N);if(P=R,x(P))return D+T;for(;6>D.length;)D="0"+D;T=D+T}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function x(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function y(N){return N.h==-1}t.l=function(N){return N=b(this,N),y(N)?-1:x(N)?0:1};function _(N){for(var S=N.g.length,P=[],T=0;T<S;T++)P[T]=~N.g[T];return new i(P,~N.h).add(f)}t.abs=function(){return y(this)?_(this):this},t.add=function(N){for(var S=Math.max(this.g.length,N.g.length),P=[],T=0,R=0;R<=S;R++){var D=T+(this.i(R)&65535)+(N.i(R)&65535),k=(D>>>16)+(this.i(R)>>>16)+(N.i(R)>>>16);T=k>>>16,D&=65535,k&=65535,P[R]=k<<16|D}return new i(P,P[P.length-1]&-2147483648?-1:0)};function b(N,S){return N.add(_(S))}t.j=function(N){if(x(this)||x(N))return p;if(y(this))return y(N)?_(this).j(_(N)):_(_(this).j(N));if(y(N))return _(this.j(_(N)));if(0>this.l(v)&&0>N.l(v))return u(this.m()*N.m());for(var S=this.g.length+N.g.length,P=[],T=0;T<2*S;T++)P[T]=0;for(T=0;T<this.g.length;T++)for(var R=0;R<N.g.length;R++){var D=this.i(T)>>>16,k=this.i(T)&65535,H=N.i(R)>>>16,ee=N.i(R)&65535;P[2*T+2*R]+=k*ee,w(P,2*T+2*R),P[2*T+2*R+1]+=D*ee,w(P,2*T+2*R+1),P[2*T+2*R+1]+=k*H,w(P,2*T+2*R+1),P[2*T+2*R+2]+=D*H,w(P,2*T+2*R+2)}for(T=0;T<S;T++)P[T]=P[2*T+1]<<16|P[2*T];for(T=S;T<2*S;T++)P[T]=0;return new i(P,0)};function w(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function C(N,S){this.g=N,this.h=S}function A(N,S){if(x(S))throw Error("division by zero");if(x(N))return new C(p,p);if(y(N))return S=A(_(N),S),new C(_(S.g),_(S.h));if(y(S))return S=A(N,_(S)),new C(_(S.g),S.h);if(30<N.g.length){if(y(N)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var P=f,T=S;0>=T.l(N);)P=j(P),T=j(T);var R=O(P,1),D=O(T,1);for(T=O(T,2),P=O(P,2);!x(T);){var k=D.add(T);0>=k.l(N)&&(R=R.add(P),D=k),T=O(T,1),P=O(P,1)}return S=b(N,R.j(S)),new C(R,S)}for(R=p;0<=N.l(S);){for(P=Math.max(1,Math.floor(N.m()/S.m())),T=Math.ceil(Math.log(P)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),D=u(P),k=D.j(S);y(k)||0<k.l(N);)P-=T,D=u(P),k=D.j(S);x(D)&&(D=f),R=R.add(D),N=b(N,k)}return new C(R,N)}t.A=function(N){return A(this,N).h},t.and=function(N){for(var S=Math.max(this.g.length,N.g.length),P=[],T=0;T<S;T++)P[T]=this.i(T)&N.i(T);return new i(P,this.h&N.h)},t.or=function(N){for(var S=Math.max(this.g.length,N.g.length),P=[],T=0;T<S;T++)P[T]=this.i(T)|N.i(T);return new i(P,this.h|N.h)},t.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),P=[],T=0;T<S;T++)P[T]=this.i(T)^N.i(T);return new i(P,this.h^N.h)};function j(N){for(var S=N.g.length+1,P=[],T=0;T<S;T++)P[T]=N.i(T)<<1|N.i(T-1)>>>31;return new i(P,N.h)}function O(N,S){var P=S>>5;S%=32;for(var T=N.g.length-P,R=[],D=0;D<T;D++)R[D]=0<S?N.i(D+P)>>>S|N.i(D+P+1)<<32-S:N.i(D+P);return new i(R,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,eA=r,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=u,i.fromString=h,Xs=i}).apply(typeof j_<"u"?j_:typeof self<"u"?self:typeof window<"u"?window:{});var sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tA,kl,nA,Pd,Kg,rA,sA,oA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,E){return d==Array.prototype||d==Object.prototype||(d[g]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof sd=="object"&&sd];for(var g=0;g<d.length;++g){var E=d[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(d,g){if(g)e:{var E=r;d=d.split(".");for(var I=0;I<d.length-1;I++){var L=d[I];if(!(L in E))break e;E=E[L]}d=d[d.length-1],I=E[d],g=g(I),g!=I&&g!=null&&e(E,d,{configurable:!0,writable:!0,value:g})}}function o(d,g){d instanceof String&&(d+="");var E=0,I=!1,L={next:function(){if(!I&&E<d.length){var V=E++;return{value:g(V,d[V]),done:!1}}return I=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(d){return d||function(){return o(this,function(g,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function c(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function u(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function h(d,g,E){return d.call.apply(d.bind,arguments)}function p(d,g,E){if(!d)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,I),d.apply(g,L)}}return function(){return d.apply(g,arguments)}}function f(d,g,E){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,f.apply(null,arguments)}function v(d,g){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function x(d,g){function E(){}E.prototype=g.prototype,d.aa=g.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(I,L,V){for(var J=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)J[Ge-2]=arguments[Ge];return g.prototype[L].apply(I,J)}}function y(d){const g=d.length;if(0<g){const E=Array(g);for(let I=0;I<g;I++)E[I]=d[I];return E}return[]}function _(d,g){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(c(I)){const L=d.length||0,V=I.length||0;d.length=L+V;for(let J=0;J<V;J++)d[L+J]=I[J]}else d.push(I)}}class b{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function w(d){return/^[\s\xa0]*$/.test(d)}function C(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function A(d){return A[" "](d),d}A[" "]=function(){};var j=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function O(d,g,E){for(const I in d)g.call(E,d[I],I,d)}function N(d,g){for(const E in d)g.call(void 0,d[E],E,d)}function S(d){const g={};for(const E in d)g[E]=d[E];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(d,g){let E,I;for(let L=1;L<arguments.length;L++){I=arguments[L];for(E in I)d[E]=I[E];for(let V=0;V<P.length;V++)E=P[V],Object.prototype.hasOwnProperty.call(I,E)&&(d[E]=I[E])}}function R(d){var g=1;d=d.split(":");const E=[];for(;0<g&&d.length;)E.push(d.shift()),g--;return d.length&&E.push(d.join(":")),E}function D(d){a.setTimeout(()=>{throw d},0)}function k(){var d=F;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class H{constructor(){this.h=this.g=null}add(g,E){const I=ee.get();I.set(g,E),this.h?this.h.next=I:this.g=I,this.h=I}}var ee=new b(()=>new Q,d=>d.reset());class Q{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let U,M=!1,F=new H,Y=()=>{const d=a.Promise.resolve(void 0);U=()=>{d.then($)}};var $=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(E){D(E)}var g=ee;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}M=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};a.addEventListener("test",E,g),a.removeEventListener("test",E,g)}catch{}return d}();function De(d,g){if(X.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(j){e:{try{A(g.nodeName);var L=!0;break e}catch{}L=!1}L||(g=null)}}else E=="mouseover"?g=d.fromElement:E=="mouseout"&&(g=d.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:fe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&De.aa.h.call(this)}}x(De,X);var fe={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Ie(d,g,E,I,L){this.listener=d,this.proxy=null,this.src=g,this.type=E,this.capture=!!I,this.ha=L,this.key=++Ee,this.da=this.fa=!1}function xe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Te(d){this.src=d,this.g={},this.h=0}Te.prototype.add=function(d,g,E,I,L){var V=d.toString();d=this.g[V],d||(d=this.g[V]=[],this.h++);var J=dt(d,g,I,L);return-1<J?(g=d[J],E||(g.fa=!1)):(g=new Ie(g,this.src,V,!!I,L),g.fa=E,d.push(g)),g};function Se(d,g){var E=g.type;if(E in d.g){var I=d.g[E],L=Array.prototype.indexOf.call(I,g,void 0),V;(V=0<=L)&&Array.prototype.splice.call(I,L,1),V&&(xe(g),d.g[E].length==0&&(delete d.g[E],d.h--))}}function dt(d,g,E,I){for(var L=0;L<d.length;++L){var V=d[L];if(!V.da&&V.listener==g&&V.capture==!!E&&V.ha==I)return L}return-1}var xt="closure_lm_"+(1e6*Math.random()|0),nn={};function re(d,g,E,I,L){if(Array.isArray(g)){for(var V=0;V<g.length;V++)re(d,g[V],E,I,L);return null}return E=Ja(E),d&&d[ne]?d.K(g,E,u(I)?!!I.capture:!!I,L):pt(d,g,E,!1,I,L)}function pt(d,g,E,I,L,V){if(!g)throw Error("Invalid event type");var J=u(L)?!!L.capture:!!L,Ge=gs(d);if(Ge||(d[xt]=Ge=new Te(d)),E=Ge.add(g,E,I,J,V),E.proxy)return E;if(I=Vr(),E.proxy=I,I.src=d,I.listener=E,d.addEventListener)ve||(L=J),L===void 0&&(L=!1),d.addEventListener(g.toString(),I,L);else if(d.attachEvent)d.attachEvent(pu(g.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Vr(){function d(E){return g.call(d.src,d.listener,E)}const g=Jf;return d}function tt(d,g,E,I,L){if(Array.isArray(g))for(var V=0;V<g.length;V++)tt(d,g[V],E,I,L);else I=u(I)?!!I.capture:!!I,E=Ja(E),d&&d[ne]?(d=d.i,g=String(g).toString(),g in d.g&&(V=d.g[g],E=dt(V,E,I,L),-1<E&&(xe(V[E]),Array.prototype.splice.call(V,E,1),V.length==0&&(delete d.g[g],d.h--)))):d&&(d=gs(d))&&(g=d.g[g.toString()],d=-1,g&&(d=dt(g,E,I,L)),(E=-1<d?g[d]:null)&&On(E))}function On(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[ne])Se(g.i,d);else{var E=d.type,I=d.proxy;g.removeEventListener?g.removeEventListener(E,I,d.capture):g.detachEvent?g.detachEvent(pu(E),I):g.addListener&&g.removeListener&&g.removeListener(I),(E=gs(g))?(Se(E,d),E.h==0&&(E.src=null,g[xt]=null)):xe(d)}}}function pu(d){return d in nn?nn[d]:nn[d]="on"+d}function Jf(d,g){if(d.da)d=!0;else{g=new De(g,this);var E=d.listener,I=d.ha||d.src;d.fa&&On(d),d=E.call(I,g)}return d}function gs(d){return d=d[xt],d instanceof Te?d:null}var Xa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ja(d){return typeof d=="function"?d:(d[Xa]||(d[Xa]=function(g){return d.handleEvent(g)}),d[Xa])}function mt(){W.call(this),this.i=new Te(this),this.M=this,this.F=null}x(mt,W),mt.prototype[ne]=!0,mt.prototype.removeEventListener=function(d,g,E,I){tt(this,d,g,E,I)};function at(d,g){var E,I=d.F;if(I)for(E=[];I;I=I.F)E.push(I);if(d=d.M,I=g.type||g,typeof g=="string")g=new X(g,d);else if(g instanceof X)g.target=g.target||d;else{var L=g;g=new X(I,d),T(g,L)}if(L=!0,E)for(var V=E.length-1;0<=V;V--){var J=g.g=E[V];L=No(J,I,!0,g)&&L}if(J=g.g=d,L=No(J,I,!0,g)&&L,L=No(J,I,!1,g)&&L,E)for(V=0;V<E.length;V++)J=g.g=E[V],L=No(J,I,!1,g)&&L}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var E=d.g[g],I=0;I<E.length;I++)xe(E[I]);delete d.g[g],d.h--}}this.F=null},mt.prototype.K=function(d,g,E,I){return this.i.add(String(d),g,!1,E,I)},mt.prototype.L=function(d,g,E,I){return this.i.add(String(d),g,!0,E,I)};function No(d,g,E,I){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,V=0;V<g.length;++V){var J=g[V];if(J&&!J.da&&J.capture==E){var Ge=J.listener,Dt=J.ha||J.src;J.fa&&Se(d.i,J),L=Ge.call(Dt,I)!==!1&&L}}return L&&!I.defaultPrevented}function $r(d,g,E){if(typeof d=="function")E&&(d=f(d,E));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(d,g||0)}function Za(d){d.g=$r(()=>{d.g=null,d.i&&(d.i=!1,Za(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class Zf extends W{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Za(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(d){W.call(this),this.h=d,this.g={}}x(vs,W);var el=[];function mu(d){O(d.g,function(g,E){this.g.hasOwnProperty(E)&&On(g)},d),d.g={}}vs.prototype.N=function(){vs.aa.N.call(this),mu(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Po=a.JSON.stringify,pr=a.JSON.parse,ep=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function pe(){}pe.prototype.h=null;function ze(d){return d.h||(d.h=d.i())}function Ve(){}var zt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pn(){X.call(this,"d")}x(pn,X);function ys(){X.call(this,"c")}x(ys,X);var Ur={},hx=null;function gu(){return hx=hx||new mt}Ur.La="serverreachability";function fx(d){X.call(this,Ur.La,d)}x(fx,X);function tl(d){const g=gu();at(g,new fx(g))}Ur.STAT_EVENT="statevent";function px(d,g){X.call(this,Ur.STAT_EVENT,d),this.stat=g}x(px,X);function rn(d){const g=gu();at(g,new px(g,d))}Ur.Ma="timingevent";function mx(d,g){X.call(this,Ur.Ma,d),this.size=g}x(mx,X);function nl(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},g)}function rl(){this.g=!0}rl.prototype.xa=function(){this.g=!1};function IR(d,g,E,I,L,V){d.info(function(){if(d.g)if(V)for(var J="",Ge=V.split("&"),Dt=0;Dt<Ge.length;Dt++){var Me=Ge[Dt].split("=");if(1<Me.length){var Wt=Me[0];Me=Me[1];var Ht=Wt.split("_");J=2<=Ht.length&&Ht[1]=="type"?J+(Wt+"="+Me+"&"):J+(Wt+"=redacted&")}}else J=null;else J=V;return"XMLHTTP REQ ("+I+") [attempt "+L+"]: "+g+`
`+E+`
`+J})}function AR(d,g,E,I,L,V,J){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+L+"]: "+g+`
`+E+`
`+V+" "+J})}function xi(d,g,E,I){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+kR(d,E)+(I?" "+I:"")})}function RR(d,g){d.info(function(){return"TIMEOUT: "+g})}rl.prototype.info=function(){};function kR(d,g){if(!d.g)return g;if(!g)return null;try{var E=JSON.parse(g);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var I=E[d];if(!(2>I.length)){var L=I[1];if(Array.isArray(L)&&!(1>L.length)){var V=L[0];if(V!="noop"&&V!="stop"&&V!="close")for(var J=1;J<L.length;J++)L[J]=""}}}}return Po(E)}catch{return g}}var vu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tp;function yu(){}x(yu,pe),yu.prototype.g=function(){return new XMLHttpRequest},yu.prototype.i=function(){return{}},tp=new yu;function xs(d,g,E,I){this.j=d,this.i=g,this.l=E,this.R=I||1,this.U=new vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vx}function vx(){this.i=null,this.g="",this.h=!1}var yx={},np={};function rp(d,g,E){d.L=1,d.v=bu(Br(g)),d.m=E,d.P=!0,xx(d,null)}function xx(d,g){d.F=Date.now(),xu(d),d.A=Br(d.v);var E=d.A,I=d.R;Array.isArray(I)||(I=[String(I)]),Dx(E.i,"t",I),d.C=0,E=d.j.J,d.h=new vx,d.g=Xx(d.j,E?g:null,!d.m),0<d.O&&(d.M=new Zf(f(d.Y,d,d.g),d.O)),g=d.U,E=d.g,I=d.ca;var L="readystatechange";Array.isArray(L)||(L&&(el[0]=L.toString()),L=el);for(var V=0;V<L.length;V++){var J=re(E,L[V],I||g.handleEvent,!1,g.h||g);if(!J)break;g.g[J.key]=J}g=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),tl(),IR(d.i,d.u,d.A,d.l,d.R,d.m)}xs.prototype.ca=function(d){d=d.target;const g=this.M;g&&zr(d)==3?g.j():this.Y(d)},xs.prototype.Y=function(d){try{if(d==this.g)e:{const Ht=zr(this.g);var g=this.g.Ba();const bi=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||$x(this.g)))){this.J||Ht!=4||g==7||(g==8||0>=bi?tl(3):tl(2)),sp(this);var E=this.g.Z();this.X=E;t:if(wx(this)){var I=$x(this.g);d="";var L=I.length,V=zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Io(this),sl(this);var J="";break t}this.h.i=new a.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,d+=this.h.i.decode(I[g],{stream:!(V&&g==L-1)});I.length=0,this.h.g+=d,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=E==200,AR(this.i,this.u,this.A,this.l,this.R,Ht,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Dt=this.g;if((Ge=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ge)){var Me=Ge;break t}}Me=null}if(E=Me)xi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,op(this,E);else{this.o=!1,this.s=3,rn(12),Io(this),sl(this);break e}}if(this.P){E=!0;let Yn;for(;!this.J&&this.C<J.length;)if(Yn=DR(this,J),Yn==np){Ht==4&&(this.s=4,rn(14),E=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==yx){this.s=4,rn(15),xi(this.i,this.l,J,"[Invalid Chunk]"),E=!1;break}else xi(this.i,this.l,Yn,null),op(this,Yn);if(wx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||J.length!=0||this.h.h||(this.s=1,rn(16),E=!1),this.o=this.o&&E,!E)xi(this.i,this.l,J,"[Invalid Chunked Response]"),Io(this),sl(this);else if(0<J.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),dp(Wt),Wt.M=!0,rn(11))}}else xi(this.i,this.l,J,null),op(this,J);Ht==4&&Io(this),this.o&&!this.J&&(Ht==4?qx(this.j,this):(this.o=!1,xu(this)))}else YR(this.g),E==400&&0<J.indexOf("Unknown SID")?(this.s=3,rn(12)):(this.s=0,rn(13)),Io(this),sl(this)}}}catch{}finally{}};function wx(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function DR(d,g){var E=d.C,I=g.indexOf(`
`,E);return I==-1?np:(E=Number(g.substring(E,I)),isNaN(E)?yx:(I+=1,I+E>g.length?np:(g=g.slice(I,I+E),d.C=I+E,g)))}xs.prototype.cancel=function(){this.J=!0,Io(this)};function xu(d){d.S=Date.now()+d.I,_x(d,d.I)}function _x(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=nl(f(d.ba,d),g)}function sp(d){d.B&&(a.clearTimeout(d.B),d.B=null)}xs.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(RR(this.i,this.A),this.L!=2&&(tl(),rn(17)),Io(this),this.s=2,sl(this)):_x(this,this.S-d)};function sl(d){d.j.G==0||d.J||qx(d.j,d)}function Io(d){sp(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,mu(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function op(d,g){try{var E=d.j;if(E.G!=0&&(E.g==d||ip(E.h,d))){if(!d.K&&ip(E.h,d)&&E.G==3){try{var I=E.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var L=I;if(L[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Pu(E),Tu(E);else break e;up(E),rn(18)}}else E.za=L[1],0<E.za-E.T&&37500>L[2]&&E.F&&E.v==0&&!E.C&&(E.C=nl(f(E.Za,E),6e3));if(1>=Cx(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ro(E,11)}else if((d.K||E.g==d)&&Pu(E),!w(g))for(L=E.Da.g.parse(g),g=0;g<L.length;g++){let Me=L[g];if(E.T=Me[0],Me=Me[1],E.G==2)if(Me[0]=="c"){E.K=Me[1],E.ia=Me[2];const Wt=Me[3];Wt!=null&&(E.la=Wt,E.j.info("VER="+E.la));const Ht=Me[4];Ht!=null&&(E.Aa=Ht,E.j.info("SVER="+E.Aa));const bi=Me[5];bi!=null&&typeof bi=="number"&&0<bi&&(I=1.5*bi,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const Yn=d.g;if(Yn){const Au=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Au){var V=I.h;V.g||Au.indexOf("spdy")==-1&&Au.indexOf("quic")==-1&&Au.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(ap(V,V.h),V.h=null))}if(I.D){const hp=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;hp&&(I.ya=hp,Qe(I.I,I.D,hp))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var J=d;if(I.qa=Yx(I,I.J?I.ia:null,I.W),J.K){Sx(I.h,J);var Ge=J,Dt=I.L;Dt&&(Ge.I=Dt),Ge.B&&(sp(Ge),xu(Ge)),I.g=J}else Hx(I);0<E.i.length&&Nu(E)}else Me[0]!="stop"&&Me[0]!="close"||Ro(E,7);else E.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Ro(E,7):cp(E):Me[0]!="noop"&&E.l&&E.l.ta(Me),E.v=0)}}tl(4)}catch{}}var jR=class{constructor(d,g){this.g=d,this.map=g}};function bx(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ex(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Cx(d){return d.h?1:d.g?d.g.size:0}function ip(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function ap(d,g){d.g?d.g.add(g):d.h=g}function Sx(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}bx.prototype.cancel=function(){if(this.i=Tx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Tx(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const E of d.g.values())g=g.concat(E.D);return g}return y(d.i)}function MR(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var g=[],E=d.length,I=0;I<E;I++)g.push(d[I]);return g}g=[],E=0;for(I in d)g[E++]=d[I];return g}function OR(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var g=[];d=d.length;for(var E=0;E<d;E++)g.push(E);return g}g=[],E=0;for(const I in d)g[E++]=I;return g}}}function Nx(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var E=OR(d),I=MR(d),L=I.length,V=0;V<L;V++)g.call(void 0,I[V],E&&E[V],d)}var Px=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function LR(d,g){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var I=d[E].indexOf("="),L=null;if(0<=I){var V=d[E].substring(0,I);L=d[E].substring(I+1)}else V=d[E];g(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ao(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ao){this.h=d.h,wu(this,d.j),this.o=d.o,this.g=d.g,_u(this,d.s),this.l=d.l;var g=d.i,E=new al;E.i=g.i,g.g&&(E.g=new Map(g.g),E.h=g.h),Ix(this,E),this.m=d.m}else d&&(g=String(d).match(Px))?(this.h=!1,wu(this,g[1]||"",!0),this.o=ol(g[2]||""),this.g=ol(g[3]||"",!0),_u(this,g[4]),this.l=ol(g[5]||"",!0),Ix(this,g[6]||"",!0),this.m=ol(g[7]||"")):(this.h=!1,this.i=new al(null,this.h))}Ao.prototype.toString=function(){var d=[],g=this.j;g&&d.push(il(g,Ax,!0),":");var E=this.g;return(E||g=="file")&&(d.push("//"),(g=this.o)&&d.push(il(g,Ax,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(il(E,E.charAt(0)=="/"?$R:VR,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",il(E,BR)),d.join("")};function Br(d){return new Ao(d)}function wu(d,g,E){d.j=E?ol(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function _u(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function Ix(d,g,E){g instanceof al?(d.i=g,zR(d.i,d.h)):(E||(g=il(g,UR)),d.i=new al(g,d.h))}function Qe(d,g,E){d.i.set(g,E)}function bu(d){return Qe(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ol(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function il(d,g,E){return typeof d=="string"?(d=encodeURI(d).replace(g,FR),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function FR(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ax=/[#\/\?@]/g,VR=/[#\?:]/g,$R=/[#\?]/g,UR=/[#\?@]/g,BR=/#/g;function al(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function ws(d){d.g||(d.g=new Map,d.h=0,d.i&&LR(d.i,function(g,E){d.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}t=al.prototype,t.add=function(d,g){ws(this),this.i=null,d=wi(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(g),this.h+=1,this};function Rx(d,g){ws(d),g=wi(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function kx(d,g){return ws(d),g=wi(d,g),d.g.has(g)}t.forEach=function(d,g){ws(this),this.g.forEach(function(E,I){E.forEach(function(L){d.call(g,L,I,this)},this)},this)},t.na=function(){ws(this);const d=Array.from(this.g.values()),g=Array.from(this.g.keys()),E=[];for(let I=0;I<g.length;I++){const L=d[I];for(let V=0;V<L.length;V++)E.push(g[I])}return E},t.V=function(d){ws(this);let g=[];if(typeof d=="string")kx(this,d)&&(g=g.concat(this.g.get(wi(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)g=g.concat(d[E])}return g},t.set=function(d,g){return ws(this),this.i=null,d=wi(this,d),kx(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function Dx(d,g,E){Rx(d,g),0<E.length&&(d.i=null,d.g.set(wi(d,g),y(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(var E=0;E<g.length;E++){var I=g[E];const V=encodeURIComponent(String(I)),J=this.V(I);for(I=0;I<J.length;I++){var L=V;J[I]!==""&&(L+="="+encodeURIComponent(String(J[I]))),d.push(L)}}return this.i=d.join("&")};function wi(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function zR(d,g){g&&!d.j&&(ws(d),d.i=null,d.g.forEach(function(E,I){var L=I.toLowerCase();I!=L&&(Rx(this,I),Dx(this,L,E))},d)),d.j=g}function WR(d,g){const E=new rl;if(a.Image){const I=new Image;I.onload=v(_s,E,"TestLoadImage: loaded",!0,g,I),I.onerror=v(_s,E,"TestLoadImage: error",!1,g,I),I.onabort=v(_s,E,"TestLoadImage: abort",!1,g,I),I.ontimeout=v(_s,E,"TestLoadImage: timeout",!1,g,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else g(!1)}function HR(d,g){const E=new rl,I=new AbortController,L=setTimeout(()=>{I.abort(),_s(E,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:I.signal}).then(V=>{clearTimeout(L),V.ok?_s(E,"TestPingServer: ok",!0,g):_s(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),_s(E,"TestPingServer: error",!1,g)})}function _s(d,g,E,I,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),I(E)}catch{}}function GR(){this.g=new ep}function qR(d,g,E){const I=E||"";try{Nx(d,function(L,V){let J=L;u(L)&&(J=Po(L)),g.push(I+V+"="+encodeURIComponent(J))})}catch(L){throw g.push(I+"type="+encodeURIComponent("_badmap")),L}}function Eu(d){this.l=d.Ub||null,this.j=d.eb||!1}x(Eu,pe),Eu.prototype.g=function(){return new Cu(this.l,this.j)},Eu.prototype.i=function(d){return function(){return d}}({});function Cu(d,g){mt.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Cu,mt),t=Cu.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,cl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ll(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,cl(this)),this.g&&(this.readyState=3,cl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jx(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function jx(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?ll(this):cl(this),this.readyState==3&&jx(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,ll(this))},t.Qa=function(d){this.g&&(this.response=d,ll(this))},t.ga=function(){this.g&&ll(this)};function ll(d){d.readyState=4,d.l=null,d.j=null,d.v=null,cl(d)}t.setRequestHeader=function(d,g){this.u.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=g.next();return d.join(`\r
`)};function cl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Cu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Mx(d){let g="";return O(d,function(E,I){g+=I,g+=":",g+=E,g+=`\r
`}),g}function lp(d,g,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=Mx(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Qe(d,g,E))}function lt(d){mt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(lt,mt);var KR=/^https?$/i,QR=["POST","PUT"];t=lt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,g,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tp.g(),this.v=this.o?ze(this.o):ze(tp),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(V){Ox(this,V);return}if(d=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var L in I)E.set(L,I[L]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const V of I.keys())E.set(V,I.get(V));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(V=>V.toLowerCase()=="content-type"),L=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(QR,g,void 0))||I||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,J]of E)this.g.setRequestHeader(V,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vx(this),this.u=!0,this.g.send(d),this.u=!1}catch(V){Ox(this,V)}};function Ox(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,Lx(d),Su(d)}function Lx(d){d.A||(d.A=!0,at(d,"complete"),at(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,at(this,"complete"),at(this,"abort"),Su(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Su(this,!0)),lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Fx(this):this.bb())},t.bb=function(){Fx(this)};function Fx(d){if(d.h&&typeof i<"u"&&(!d.v[1]||zr(d)!=4||d.Z()!=2)){if(d.u&&zr(d)==4)$r(d.Ea,0,d);else if(at(d,"readystatechange"),zr(d)==4){d.h=!1;try{const J=d.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var I;if(I=J===0){var L=String(d.D).match(Px)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),I=!KR.test(L?L.toLowerCase():"")}E=I}if(E)at(d,"complete"),at(d,"success");else{d.m=6;try{var V=2<zr(d)?d.g.statusText:""}catch{V=""}d.l=V+" ["+d.Z()+"]",Lx(d)}}finally{Su(d)}}}}function Su(d,g){if(d.g){Vx(d);const E=d.g,I=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||at(d,"ready");try{E.onreadystatechange=I}catch{}}}function Vx(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function zr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),pr(g)}};function $x(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function YR(d){const g={};d=(d.g&&2<=zr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(w(d[I]))continue;var E=R(d[I]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const V=g[L]||[];g[L]=V,V.push(E)}N(g,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ul(d,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||g}function Ux(d){this.Aa=0,this.i=[],this.j=new rl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ul("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ul("baseRetryDelayMs",5e3,d),this.cb=ul("retryDelaySeedMs",1e4,d),this.Wa=ul("forwardChannelMaxRetries",2,d),this.wa=ul("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new bx(d&&d.concurrentRequestLimit),this.Da=new GR,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ux.prototype,t.la=8,t.G=1,t.connect=function(d,g,E,I){rn(0),this.W=d,this.H=g||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=Yx(this,null,this.W),Nu(this)};function cp(d){if(Bx(d),d.G==3){var g=d.U++,E=Br(d.I);if(Qe(E,"SID",d.K),Qe(E,"RID",g),Qe(E,"TYPE","terminate"),dl(d,E),g=new xs(d,d.j,g),g.L=2,g.v=bu(Br(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=g.v,E=!0),E||(g.g=Xx(g.j,null),g.g.ea(g.v)),g.F=Date.now(),xu(g)}Qx(d)}function Tu(d){d.g&&(dp(d),d.g.cancel(),d.g=null)}function Bx(d){Tu(d),d.u&&(a.clearTimeout(d.u),d.u=null),Pu(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Nu(d){if(!Ex(d.h)&&!d.s){d.s=!0;var g=d.Ga;U||Y(),M||(U(),M=!0),F.add(g,d),d.B=0}}function XR(d,g){return Cx(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=nl(f(d.Ga,d,g),Kx(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const L=new xs(this,this.j,d);let V=this.o;if(this.S&&(V?(V=S(V),T(V,this.S)):V=this.S),this.m!==null||this.O||(L.H=V,V=null),this.P)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=Wx(this,L,g),E=Br(this.I),Qe(E,"RID",d),Qe(E,"CVER",22),this.D&&Qe(E,"X-HTTP-Session-Id",this.D),dl(this,E),V&&(this.O?g="headers="+encodeURIComponent(String(Mx(V)))+"&"+g:this.m&&lp(E,this.m,V)),ap(this.h,L),this.Ua&&Qe(E,"TYPE","init"),this.P?(Qe(E,"$req",g),Qe(E,"SID","null"),L.T=!0,rp(L,E,null)):rp(L,E,g),this.G=2}}else this.G==3&&(d?zx(this,d):this.i.length==0||Ex(this.h)||zx(this))};function zx(d,g){var E;g?E=g.l:E=d.U++;const I=Br(d.I);Qe(I,"SID",d.K),Qe(I,"RID",E),Qe(I,"AID",d.T),dl(d,I),d.m&&d.o&&lp(I,d.m,d.o),E=new xs(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),g&&(d.i=g.D.concat(d.i)),g=Wx(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ap(d.h,E),rp(E,I,g)}function dl(d,g){d.H&&O(d.H,function(E,I){Qe(g,I,E)}),d.l&&Nx({},function(E,I){Qe(g,I,E)})}function Wx(d,g,E){E=Math.min(d.i.length,E);var I=d.l?f(d.l.Na,d.l,d):null;e:{var L=d.i;let V=-1;for(;;){const J=["count="+E];V==-1?0<E?(V=L[0].g,J.push("ofs="+V)):V=0:J.push("ofs="+V);let Ge=!0;for(let Dt=0;Dt<E;Dt++){let Me=L[Dt].g;const Wt=L[Dt].map;if(Me-=V,0>Me)V=Math.max(0,L[Dt].g-100),Ge=!1;else try{qR(Wt,J,"req"+Me+"_")}catch{I&&I(Wt)}}if(Ge){I=J.join("&");break e}}}return d=d.i.splice(0,E),g.D=d,I}function Hx(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;U||Y(),M||(U(),M=!0),F.add(g,d),d.v=0}}function up(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=nl(f(d.Fa,d),Kx(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Gx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=nl(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rn(10),Tu(this),Gx(this))};function dp(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Gx(d){d.g=new xs(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=Br(d.qa);Qe(g,"RID","rpc"),Qe(g,"SID",d.K),Qe(g,"AID",d.T),Qe(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&Qe(g,"TO",d.ja),Qe(g,"TYPE","xmlhttp"),dl(d,g),d.m&&d.o&&lp(g,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=bu(Br(g)),E.m=null,E.P=!0,xx(E,d)}t.Za=function(){this.C!=null&&(this.C=null,Tu(this),up(this),rn(19))};function Pu(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function qx(d,g){var E=null;if(d.g==g){Pu(d),dp(d),d.g=null;var I=2}else if(ip(d.h,g))E=g.D,Sx(d.h,g),I=1;else return;if(d.G!=0){if(g.o)if(I==1){E=g.m?g.m.length:0,g=Date.now()-g.F;var L=d.B;I=gu(),at(I,new mx(I,E)),Nu(d)}else Hx(d);else if(L=g.s,L==3||L==0&&0<g.X||!(I==1&&XR(d,g)||I==2&&up(d)))switch(E&&0<E.length&&(g=d.h,g.i=g.i.concat(E)),L){case 1:Ro(d,5);break;case 4:Ro(d,10);break;case 3:Ro(d,6);break;default:Ro(d,2)}}}function Kx(d,g){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*g}function Ro(d,g){if(d.j.info("Error code "+g),g==2){var E=f(d.fb,d),I=d.Xa;const L=!I;I=new Ao(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||wu(I,"https"),bu(I),L?WR(I.toString(),E):HR(I.toString(),E)}else rn(2);d.G=0,d.l&&d.l.sa(g),Qx(d),Bx(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function Qx(d){if(d.G=0,d.ka=[],d.l){const g=Tx(d.h);(g.length!=0||d.i.length!=0)&&(_(d.ka,g),_(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function Yx(d,g,E){var I=E instanceof Ao?Br(E):new Ao(E);if(I.g!="")g&&(I.g=g+"."+I.g),_u(I,I.s);else{var L=a.location;I=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var V=new Ao(null);I&&wu(V,I),g&&(V.g=g),L&&_u(V,L),E&&(V.l=E),I=V}return E=d.D,g=d.ya,E&&g&&Qe(I,E,g),Qe(I,"VER",d.la),dl(d,I),I}function Xx(d,g,E){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new lt(new Eu({eb:E})):new lt(d.pa),g.Ha(d.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jx(){}t=Jx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Iu(){}Iu.prototype.g=function(d,g){return new En(d,g)};function En(d,g){mt.call(this),this.g=new Ux(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!w(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!w(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new _i(this)}x(En,mt),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){cp(this.g)},En.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Po(d),d=E);g.i.push(new jR(g.Ya++,d)),g.G==3&&Nu(g)},En.prototype.N=function(){this.g.l=null,delete this.j,cp(this.g),delete this.g,En.aa.N.call(this)};function Zx(d){pn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const E in g){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}x(Zx,pn);function ew(){ys.call(this),this.status=1}x(ew,ys);function _i(d){this.g=d}x(_i,Jx),_i.prototype.ua=function(){at(this.g,"a")},_i.prototype.ta=function(d){at(this.g,new Zx(d))},_i.prototype.sa=function(d){at(this.g,new ew)},_i.prototype.ra=function(){at(this.g,"b")},Iu.prototype.createWebChannel=Iu.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,oA=function(){return new Iu},sA=function(){return gu()},rA=Ur,Kg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vu.NO_ERROR=0,vu.TIMEOUT=8,vu.HTTP_ERROR=6,Pd=vu,gx.COMPLETE="complete",nA=gx,Ve.EventType=zt,zt.OPEN="a",zt.CLOSE="b",zt.ERROR="c",zt.MESSAGE="d",mt.prototype.listen=mt.prototype.K,kl=Ve,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,tA=lt}).apply(typeof sd<"u"?sd:typeof self<"u"?self:typeof window<"u"?window:{});const M_="@firebase/firestore",O_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new KI("@firebase/firestore");function Pi(){return ai.logLevel}function te(t,...e){if(ai.logLevel<=ke.DEBUG){const n=e.map(A0);ai.debug(`Firestore (${Ha}): ${t}`,...n)}}function hs(t,...e){if(ai.logLevel<=ke.ERROR){const n=e.map(A0);ai.error(`Firestore (${Ha}): ${t}`,...n)}}function io(t,...e){if(ai.logLevel<=ke.WARN){const n=e.map(A0);ai.warn(`Firestore (${Ha}): ${t}`,...n)}}function A0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,iA(t,r,n)}function iA(t,e,n){let r=`FIRESTORE (${Ha}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw hs(r),new Error(r)}function Fe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||iA(e,s,r)}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Wa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class YU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XU{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Yo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Yo,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Yo)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string",31837,{l:r}),new aA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class JU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new JU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class L_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jU(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const r=o=>{o.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const i=o.token!==this.m;return this.m=o.token,te("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new L_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new L_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=tB(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function Qg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Ce(r,s);{const o=lA(),i=nB(o.encode(F_(t,n)),o.encode(F_(e,n)));return i!==0?i:Ce(r,s)}}n+=r>65535?2:1}return Ce(t.length,e.length)}function F_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function nB(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ce(t[n],e[n]);return Ce(t.length,e.length)}function Na(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="__name__";class vr{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&de(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=vr.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Ce(e.length,n.length)}static compareSegments(e,n){const r=vr.isNumericId(e),s=vr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?vr.extractNumericId(e).compare(vr.extractNumericId(n)):Qg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xs.fromString(e.substring(4,e.length-2))}}class Je extends vr{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const rB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends vr{construct(e,n,r){return new Lt(e,n,r)}static isValidIdentifier(e){return rB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V_}static keyField(){return new Lt([V_])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new ie(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ie(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ie(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(i=!i,s++):a!=="."||i?(r+=a,s++):(o(),s++)}if(o(),i)throw new ie(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(n)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Je.fromString(e))}static fromName(e){return new ce(Je.fromString(e).popFirst(5))}static empty(){return new ce(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t,e,n){if(!n)throw new ie(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sB(t,e,n,r){if(e===!0&&r===!0)throw new ie(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $_(t){if(!ce.isDocumentKey(t))throw new ie(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function U_(t){if(ce.isDocumentKey(t))throw new ie(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function k0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de(12329,{type:typeof t})}function Js(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=k0(t);throw new ie(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t,e){const n={typeString:t};return e&&(n.value=e),n}function lu(t,e){if(!uA(t))throw new ie(G.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const i=t[r];if(s&&typeof i!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&i!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ie(G.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=-62135596800,z_=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*z_);return new Ze(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<B_)throw new ie(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z_}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-B_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:yt("string",Ze._jsonSchemaVersion),seconds:yt("number"),nanoseconds:yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{static fromTimestamp(e){return new me(e)}static min(){return new me(new Ze(0,0))}static max(){return new me(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=-1;function oB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=me.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new ao(s,ce.empty(),e)}function iB(t){return new ao(t.readTime,t.key,Mc)}class ao{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ao(me.min(),ce.empty(),Mc)}static max(){return new ao(me.max(),ce.empty(),Mc)}}function aB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==lB)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,o=0,i=!1;e.forEach(a=>{++s,a.next(()=>{++o,i&&o===s&&n()},c=>r(c))}),i=!0,o===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const o=e.length,i=new Array(o);let a=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(h=>{i[u]=h,++a,a===o&&r(i)},h=>s(h))}})}static doWhile(e,n){return new B((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function uB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Mf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=-1;function Of(t){return t==null}function Th(t){return t===0&&1/t==-1/0}function dB(t){return typeof t=="number"&&Number.isInteger(t)&&!Th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="";function hB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=W_(e)),e=fB(t.get(n),e);return W_(e)}function fB(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case dA:n+="";break;default:n+=o}}return n}function W_(t){return t+dA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function So(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||Mt.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new od(this.root,e,this.comparator,!1)}getReverseIterator(){return new od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new od(this.root,e,this.comparator,!0)}}class od{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Mt.RED,this.left=s??Mt.EMPTY,this.right=o??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Mt(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Mt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new Mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new G_(this.data.getIterator())}getIteratorFrom(e){return new G_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new St(this.comparator);return n.data=e,n}}class G_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new In([])}unionWith(e){let n=new St(Lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Na(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new fA("Invalid base64 string: "+o):o}}(e);return new Bt(n)}static fromUint8Array(e){const n=function(s){let o="";for(let i=0;i<s.length;++i)o+=String.fromCharCode(s[i]);return o}(e);return new Bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const pB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lo(t){if(Fe(!!t,39018),typeof t=="string"){let e=0;const n=pB.exec(t);if(Fe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function co(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="server_timestamp",mA="__type__",gA="__previous_value__",vA="__local_write_time__";function j0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[mA])===null||n===void 0?void 0:n.stringValue)===pA}function Lf(t){const e=t.mapValue.fields[gA];return j0(e)?Lf(e):e}function Oc(t){const e=lo(t.mapValue.fields[vA].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e,n,r,s,o,i,a,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const Nh="(default)";class Lc{constructor(e,n){this.projectId=e,this.database=n||Nh}static empty(){return new Lc("","")}get isDefaultDatabase(){return this.database===Nh}isEqual(e){return e instanceof Lc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="__type__",xA="__max__",id={mapValue:{fields:{__type__:{stringValue:xA}}}},wA="__vector__",Ph="value";function uo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?j0(t)?4:vB(t)?9007199254740991:gB(t)?10:11:de(28295,{value:t})}function Mr(t,e){if(t===e)return!0;const n=uo(t);if(n!==uo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oc(t).isEqual(Oc(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const i=lo(s.timestampValue),a=lo(o.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return co(s.bytesValue).isEqual(co(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return ht(s.geoPointValue.latitude)===ht(o.geoPointValue.latitude)&&ht(s.geoPointValue.longitude)===ht(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return ht(s.integerValue)===ht(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const i=ht(s.doubleValue),a=ht(o.doubleValue);return i===a?Th(i)===Th(a):isNaN(i)&&isNaN(a)}return!1}(t,e);case 9:return Na(t.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(s,o){const i=s.mapValue.fields||{},a=o.mapValue.fields||{};if(H_(i)!==H_(a))return!1;for(const c in i)if(i.hasOwnProperty(c)&&(a[c]===void 0||!Mr(i[c],a[c])))return!1;return!0}(t,e);default:return de(52216,{left:t})}}function Fc(t,e){return(t.values||[]).find(n=>Mr(n,e))!==void 0}function Pa(t,e){if(t===e)return 0;const n=uo(t),r=uo(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(o,i){const a=ht(o.integerValue||o.doubleValue),c=ht(i.integerValue||i.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return q_(t.timestampValue,e.timestampValue);case 4:return q_(Oc(t),Oc(e));case 5:return Qg(t.stringValue,e.stringValue);case 6:return function(o,i){const a=co(o),c=co(i);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,i){const a=o.split("/"),c=i.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=Ce(a[u],c[u]);if(h!==0)return h}return Ce(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,i){const a=Ce(ht(o.latitude),ht(i.latitude));return a!==0?a:Ce(ht(o.longitude),ht(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return K_(t.arrayValue,e.arrayValue);case 10:return function(o,i){var a,c,u,h;const p=o.fields||{},f=i.fields||{},v=(a=p[Ph])===null||a===void 0?void 0:a.arrayValue,x=(c=f[Ph])===null||c===void 0?void 0:c.arrayValue,y=Ce(((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0,((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0);return y!==0?y:K_(v,x)}(t.mapValue,e.mapValue);case 11:return function(o,i){if(o===id.mapValue&&i===id.mapValue)return 0;if(o===id.mapValue)return 1;if(i===id.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),u=i.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const f=Qg(c[p],h[p]);if(f!==0)return f;const v=Pa(a[c[p]],u[h[p]]);if(v!==0)return v}return Ce(c.length,h.length)}(t.mapValue,e.mapValue);default:throw de(23264,{le:n})}}function q_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=lo(t),r=lo(e),s=Ce(n.seconds,r.seconds);return s!==0?s:Ce(n.nanos,r.nanos)}function K_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=Pa(n[s],r[s]);if(o)return o}return Ce(n.length,r.length)}function Ia(t){return Yg(t)}function Yg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=lo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Yg(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const i of r)o?o=!1:s+=",",s+=`${i}:${Yg(n.fields[i])}`;return s+"}"}(t.mapValue):de(61005,{value:t})}function Id(t){switch(uo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lf(t);return e?16+Id(e):16;case 5:return 2*t.stringValue.length;case 6:return co(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+Id(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return So(r.fields,(o,i)=>{s+=o.length+Id(i)}),s}(t.mapValue);default:throw de(13486,{value:t})}}function Xg(t){return!!t&&"integerValue"in t}function M0(t){return!!t&&"arrayValue"in t}function Q_(t){return!!t&&"nullValue"in t}function Y_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ad(t){return!!t&&"mapValue"in t}function gB(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[yA])===null||n===void 0?void 0:n.stringValue)===wA}function Yl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return So(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ad(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=Lt.emptyPath(),r={},s=[];e.forEach((i,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}i?r[a.lastSegment()]=Yl(i):s.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());Ad(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ad(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){So(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new vn(Yl(this.value))}}function _A(t){const e=[];return So(t.fields,(n,r)=>{const s=new Lt([n]);if(Ad(r)){const o=_A(r.mapValue).fields;if(o.length===0)e.push(s);else for(const i of o)e.push(s.child(i))}else e.push(s)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,s,o,i,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=i,this.documentState=a}static newInvalidDocument(e){return new en(e,0,me.min(),me.min(),me.min(),vn.empty(),0)}static newFoundDocument(e,n,r,s){return new en(e,1,n,me.min(),r,s,0)}static newNoDocument(e,n){return new en(e,2,n,me.min(),me.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,me.min(),me.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.position=e,this.inclusive=n}}function X_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],i=t.position[s];if(o.field.isKeyField()?r=ce.comparator(ce.fromName(i.referenceValue),n.key):r=Pa(i,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function J_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function yB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{}class _t extends bA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wB(e,n,r):n==="array-contains"?new EB(e,r):n==="in"?new CB(e,r):n==="not-in"?new SB(e,r):n==="array-contains-any"?new TB(e,r):new _t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _B(e,r):new bB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Pa(n,this.value)):n!==null&&uo(this.value)===uo(n)&&this.matchesComparison(Pa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends bA{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Or(e,n)}matches(e){return EA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function EA(t){return t.op==="and"}function CA(t){return xB(t)&&EA(t)}function xB(t){for(const e of t.filters)if(e instanceof Or)return!1;return!0}function Jg(t){if(t instanceof _t)return t.field.canonicalString()+t.op.toString()+Ia(t.value);if(CA(t))return t.filters.map(e=>Jg(e)).join(",");{const e=t.filters.map(n=>Jg(n)).join(",");return`${t.op}(${e})`}}function SA(t,e){return t instanceof _t?function(r,s){return s instanceof _t&&r.op===s.op&&r.field.isEqual(s.field)&&Mr(r.value,s.value)}(t,e):t instanceof Or?function(r,s){return s instanceof Or&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,i,a)=>o&&SA(i,s.filters[a]),!0):!1}(t,e):void de(19439)}function TA(t){return t instanceof _t?function(n){return`${n.field.canonicalString()} ${n.op} ${Ia(n.value)}`}(t):t instanceof Or?function(n){return n.op.toString()+" {"+n.getFilters().map(TA).join(" ,")+"}"}(t):"Filter"}class wB extends _t{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class _B extends _t{constructor(e,n){super(e,"in",n),this.keys=NA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bB extends _t{constructor(e,n){super(e,"not-in",n),this.keys=NA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function NA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}class EB extends _t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return M0(n)&&Fc(n.arrayValue,this.value)}}class CB extends _t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fc(this.value.arrayValue,n)}}class SB extends _t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fc(this.value.arrayValue,n)}}class TB extends _t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!M0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,n=null,r=[],s=[],o=null,i=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=i,this.endAt=a,this.Pe=null}}function Z_(t,e=null,n=[],r=[],s=null,o=null,i=null){return new NB(t,e,n,r,s,o,i)}function O0(t){const e=ge(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ia(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ia(r)).join(",")),e.Pe=n}return e.Pe}function L0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!J_(t.startAt,e.startAt)&&J_(t.endAt,e.endAt)}function Zg(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n=null,r=[],s=[],o=null,i="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function PB(t,e,n,r,s,o,i,a){return new Ff(t,e,n,r,s,o,i,a)}function F0(t){return new Ff(t)}function eb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IB(t){return t.collectionGroup!==null}function Xl(t){const e=ge(t);if(e.Te===null){e.Te=[];const n=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let a=new St(Lt.comparator);return i.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Ah(o,r))}),n.has(Lt.keyField().canonicalString())||e.Te.push(new Ah(Lt.keyField(),r))}return e.Te}function Pr(t){const e=ge(t);return e.Ie||(e.Ie=AB(e,Xl(t))),e.Ie}function AB(t,e){if(t.limitType==="F")return Z_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Ah(s.field,o)});const n=t.endAt?new Ih(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ih(t.startAt.position,t.startAt.inclusive):null;return Z_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ev(t,e,n){return new Ff(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vf(t,e){return L0(Pr(t),Pr(e))&&t.limitType===e.limitType}function PA(t){return`${O0(Pr(t))}|lt:${t.limitType}`}function Ii(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>TA(s)).join(", ")}]`),Of(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ia(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ia(s)).join(",")),`Target(${r})`}(Pr(t))}; limitType=${t.limitType})`}function $f(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ce.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Xl(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(i,a,c){const u=X_(i,a,c);return i.inclusive?u<=0:u<0}(r.startAt,Xl(r),s)||r.endAt&&!function(i,a,c){const u=X_(i,a,c);return i.inclusive?u>=0:u>0}(r.endAt,Xl(r),s))}(t,e)}function RB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IA(t){return(e,n)=>{let r=!1;for(const s of Xl(t)){const o=kB(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function kB(t,e,n){const r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(o,i,a){const c=i.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Pa(c,u):de(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){So(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return hA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB=new it(ce.comparator);function fs(){return DB}const AA=new it(ce.comparator);function Dl(...t){let e=AA;for(const n of t)e=e.insert(n.key,n);return e}function RA(t){let e=AA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $o(){return Jl()}function kA(){return Jl()}function Jl(){return new vi(t=>t.toString(),(t,e)=>t.isEqual(e))}const jB=new it(ce.comparator),MB=new St(ce.comparator);function Ae(...t){let e=MB;for(const n of t)e=e.add(n);return e}const OB=new St(Ce);function LB(){return OB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function DA(t){return{integerValue:""+t}}function FB(t,e){return dB(e)?DA(e):V0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(){this._=void 0}}function VB(t,e,n){return t instanceof Rh?function(s,o){const i={fields:{[mA]:{stringValue:pA},[vA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&j0(o)&&(o=Lf(o)),o&&(i.fields[gA]=o),{mapValue:i}}(n,e):t instanceof Vc?MA(t,e):t instanceof $c?OA(t,e):function(s,o){const i=jA(s,o),a=tb(i)+tb(s.Ee);return Xg(i)&&Xg(s.Ee)?DA(a):V0(s.serializer,a)}(t,e)}function $B(t,e,n){return t instanceof Vc?MA(t,e):t instanceof $c?OA(t,e):n}function jA(t,e){return t instanceof kh?function(r){return Xg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Rh extends Uf{}class Vc extends Uf{constructor(e){super(),this.elements=e}}function MA(t,e){const n=LA(e);for(const r of t.elements)n.some(s=>Mr(s,r))||n.push(r);return{arrayValue:{values:n}}}class $c extends Uf{constructor(e){super(),this.elements=e}}function OA(t,e){let n=LA(e);for(const r of t.elements)n=n.filter(s=>!Mr(s,r));return{arrayValue:{values:n}}}class kh extends Uf{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function tb(t){return ht(t.integerValue||t.doubleValue)}function LA(t){return M0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function UB(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Vc&&s instanceof Vc||r instanceof $c&&s instanceof $c?Na(r.elements,s.elements,Mr):r instanceof kh&&s instanceof kh?Mr(r.Ee,s.Ee):r instanceof Rh&&s instanceof Rh}(t.transform,e.transform)}class BB{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bf{}function FA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $0(t.key,lr.none()):new cu(t.key,t.data,lr.none());{const n=t.data,r=vn.empty();let s=new St(Lt.comparator);for(let o of e.fields)if(!s.has(o)){let i=n.field(o);i===null&&o.length>1&&(o=o.popLast(),i=n.field(o)),i===null?r.delete(o):r.set(o,i),s=s.add(o)}return new To(t.key,r,new In(s.toArray()),lr.none())}}function zB(t,e,n){t instanceof cu?function(s,o,i){const a=s.value.clone(),c=rb(s.fieldTransforms,o,i.transformResults);a.setAll(c),o.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):t instanceof To?function(s,o,i){if(!Rd(s.precondition,o))return void o.convertToUnknownDocument(i.version);const a=rb(s.fieldTransforms,o,i.transformResults),c=o.data;c.setAll(VA(s)),c.setAll(a),o.convertToFoundDocument(i.version,c).setHasCommittedMutations()}(t,e,n):function(s,o,i){o.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Zl(t,e,n,r){return t instanceof cu?function(o,i,a,c){if(!Rd(o.precondition,i))return a;const u=o.value.clone(),h=sb(o.fieldTransforms,c,i);return u.setAll(h),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof To?function(o,i,a,c){if(!Rd(o.precondition,i))return a;const u=sb(o.fieldTransforms,c,i),h=i.data;return h.setAll(VA(o)),h.setAll(u),i.convertToFoundDocument(i.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,i,a){return Rd(o.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a}(t,e,n)}function WB(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=jA(r.transform,s||null);o!=null&&(n===null&&(n=vn.empty()),n.set(r.field,o))}return n||null}function nb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Na(r,s,(o,i)=>UB(o,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cu extends Bf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class To extends Bf{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function VA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rb(t,e,n){const r=new Map;Fe(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const o=t[s],i=o.transform,a=e.data.field(o.field);r.set(o.field,$B(i,a,n[s]))}return r}function sb(t,e,n){const r=new Map;for(const s of t){const o=s.transform,i=n.data.field(s.field);r.set(s.field,VB(o,i,e))}return r}class $0 extends Bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HB extends Bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&zB(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kA();return this.mutations.forEach(s=>{const o=e.get(s.key),i=o.overlayedDocument;let a=this.applyToLocalView(i,o.mutatedFields);a=n.has(s.key)?null:a;const c=FA(i,a);c!==null&&r.set(s.key,c),i.isValidDocument()||i.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Na(this.mutations,e.mutations,(n,r)=>nb(n,r))&&Na(this.baseMutations,e.baseMutations,(n,r)=>nb(n,r))}}class U0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Fe(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return jB}();const o=e.mutations;for(let i=0;i<o.length;i++)s=s.insert(o[i].key,r[i].version);return new U0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Re;function QB(t){switch(t){case G.OK:return de(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return de(15467,{code:t})}}function $A(t){if(t===void 0)return hs("GRPC error has no .code"),G.UNKNOWN;switch(t){case gt.OK:return G.OK;case gt.CANCELLED:return G.CANCELLED;case gt.UNKNOWN:return G.UNKNOWN;case gt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case gt.INTERNAL:return G.INTERNAL;case gt.UNAVAILABLE:return G.UNAVAILABLE;case gt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case gt.NOT_FOUND:return G.NOT_FOUND;case gt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case gt.ABORTED:return G.ABORTED;case gt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case gt.DATA_LOSS:return G.DATA_LOSS;default:return de(39323,{code:t})}}(Re=gt||(gt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=new Xs([4294967295,4294967295],0);function ob(t){const e=lA().encode(t),n=new eA;return n.update(e),new Uint8Array(n.digest())}function ib(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Xs([n,r],0),new Xs([s,o],0)]}class B0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(r<0)throw new jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Xs.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(Xs.fromNumber(r)));return s.compare(YB)===1&&(s=new Xs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=ob(e),[r,s]=ib(n);for(let o=0;o<this.hashCount;o++){const i=this.pe(r,s,o);if(!this.ye(i))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new B0(o,s,n);return r.forEach(a=>i.insert(a)),i}insert(e){if(this.fe===0)return;const n=ob(e),[r,s]=ib(n);for(let o=0;o<this.hashCount;o++){const i=this.pe(r,s,o);this.we(i)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zf(me.min(),s,new it(Ce),fs(),Ae())}}class uu{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new uu(r,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class UA{constructor(e,n){this.targetId=e,this.De=n}}class BA{constructor(e,n,r=Bt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class ab{constructor(){this.ve=0,this.Ce=lb(),this.Fe=Bt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ae(),n=Ae(),r=Ae();return this.Ce.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:de(38017,{changeType:o})}}),new uu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=lb()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class XB{constructor(e){this.We=e,this.Ge=new Map,this.ze=fs(),this.je=ad(),this.Je=ad(),this.He=new it(Ce)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:de(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const o=s.target;if(Zg(o))if(r===0){const i=new ce(o.path);this.Xe(n,i,en.newNoDocument(i,me.min()))}else Fe(r===1,20013,{expectedCount:r});else{const i=this.ot(n);if(i!==r){const a=this._t(e),c=a?this.ut(a,e,i):1;if(c!==0){this.rt(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let i,a;try{i=co(r).toUint8Array()}catch(c){if(c instanceof fA)return io("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new B0(i,s,o)}catch(c){return io(c instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const i=this.We.lt(),a=`projects/${i.projectId}/databases/${i.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((o,i)=>{const a=this.st(i);if(a){if(o.current&&Zg(a.target)){const c=new ce(a.target.path);this.Tt(c).has(i)||this.It(i,c)||this.Xe(i,c,en.newNoDocument(c,e))}o.Ne&&(n.set(i,o.Le()),o.ke())}});let r=Ae();this.Je.forEach((o,i)=>{let a=!0;i.forEachWhile(c=>{const u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,i)=>i.setReadTime(e));const s=new zf(e,n,this.He,this.ze,r);return this.ze=fs(),this.je=ad(),this.Je=ad(),this.He=new it(Ce),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new ab,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new St(Ce),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new St(Ce),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new ab),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function ad(){return new it(ce.comparator)}function lb(){return new it(ce.comparator)}const JB={asc:"ASCENDING",desc:"DESCENDING"},ZB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ez={and:"AND",or:"OR"};class tz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tv(t,e){return t.useProto3Json||Of(e)?e:{value:e}}function Dh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nz(t,e){return Dh(t,e.toTimestamp())}function Ir(t){return Fe(!!t,49232),me.fromTimestamp(function(n){const r=lo(n);return new Ze(r.seconds,r.nanos)}(t))}function z0(t,e){return nv(t,e).canonicalString()}function nv(t,e){const n=function(s){return new Je(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WA(t){const e=Je.fromString(t);return Fe(QA(e),10190,{key:e.toString()}),e}function rv(t,e){return z0(t.databaseId,e.path)}function vm(t,e){const n=WA(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(GA(n))}function HA(t,e){return z0(t.databaseId,e)}function rz(t){const e=WA(t);return e.length===4?Je.emptyPath():GA(e)}function sv(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GA(t){return Fe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cb(t,e,n){return{name:rv(t,e),fields:n.value.mapValue.fields}}function sz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:de(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(Fe(h===void 0||typeof h=="string",58123),Bt.fromBase64String(h||"")):(Fe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Bt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,a=i&&function(u){const h=u.code===void 0?G.UNKNOWN:$A(u.code);return new ie(h,u.message||"")}(i);n=new BA(r,s,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=vm(t,r.document.name),o=Ir(r.document.updateTime),i=r.document.createTime?Ir(r.document.createTime):me.min(),a=new vn({mapValue:{fields:r.document.fields}}),c=en.newFoundDocument(s,o,i,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new kd(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=vm(t,r.document),o=r.readTime?Ir(r.readTime):me.min(),i=en.newNoDocument(s,o),a=r.removedTargetIds||[];n=new kd([],a,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=vm(t,r.document),o=r.removedTargetIds||[];n=new kd([],o,s,null)}else{if(!("filter"in e))return de(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,i=new KB(s,o),a=r.targetId;n=new UA(a,i)}}return n}function oz(t,e){let n;if(e instanceof cu)n={update:cb(t,e.key,e.value)};else if(e instanceof $0)n={delete:rv(t,e.key)};else if(e instanceof To)n={update:cb(t,e.key,e.data),updateMask:pz(e.fieldMask)};else{if(!(e instanceof HB))return de(16599,{Rt:e.type});n={verify:rv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,i){const a=i.transform;if(a instanceof Rh)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vc)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $c)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof kh)return{fieldPath:i.field.canonicalString(),increment:a.Ee};throw de(20930,{transform:i.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:nz(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:de(27497)}(t,e.precondition)),n}function iz(t,e){return t&&t.length>0?(Fe(e!==void 0,14353),t.map(n=>function(s,o){let i=s.updateTime?Ir(s.updateTime):Ir(o);return i.isEqual(me.min())&&(i=Ir(o)),new BB(i,s.transformResults||[])}(n,e))):[]}function az(t,e){return{documents:[HA(t,e.path)]}}function lz(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HA(t,s);const o=function(u){if(u.length!==0)return KA(Or.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const i=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:Ai(f.field),direction:dz(f.dir)}}(h))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const a=tv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:s}}function cz(t){let e=rz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Fe(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){const f=qA(p);return f instanceof Or&&CA(f)?f.getFilters():[f]}(n.where));let i=[];n.orderBy&&(i=function(p){return p.map(f=>function(x){return new Ah(Ri(x.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(p){let f;return f=typeof p=="object"?p.value:p,Of(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(p){const f=!!p.before,v=p.values||[];return new Ih(v,f)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const f=!p.before,v=p.values||[];return new Ih(v,f)}(n.endAt)),PB(e,s,i,o,a,"F",c,u)}function uz(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ri(n.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ri(n.unaryFilter.field);return _t.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ri(n.unaryFilter.field);return _t.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ri(n.unaryFilter.field);return _t.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}}(t):t.fieldFilter!==void 0?function(n){return _t.create(Ri(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Or.create(n.compositeFilter.filters.map(r=>qA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de(1026)}}(n.compositeFilter.op))}(t):de(30097,{filter:t})}function dz(t){return JB[t]}function hz(t){return ZB[t]}function fz(t){return ez[t]}function Ai(t){return{fieldPath:t.canonicalString()}}function Ri(t){return Lt.fromServerFormat(t.fieldPath)}function KA(t){return t instanceof _t?function(n){if(n.op==="=="){if(Y_(n.value))return{unaryFilter:{field:Ai(n.field),op:"IS_NAN"}};if(Q_(n.value))return{unaryFilter:{field:Ai(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y_(n.value))return{unaryFilter:{field:Ai(n.field),op:"IS_NOT_NAN"}};if(Q_(n.value))return{unaryFilter:{field:Ai(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ai(n.field),op:hz(n.op),value:n.value}}}(t):t instanceof Or?function(n){const r=n.getFilters().map(s=>KA(s));return r.length===1?r[0]:{compositeFilter:{op:fz(n.op),filters:r}}}(t):de(54877,{filter:t})}function pz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,r,s,o=me.min(),i=me.min(),a=Bt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e){this.gt=e}}function gz(t){const e=cz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ev(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(){this.Dn=new yz}addToCollectionParentIndex(e,n){return this.Dn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(ao.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(ao.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class yz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new St(Je.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new St(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YA=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(YA,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Aa(0)}static ur(){return new Aa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="LruGarbageCollector",xz=1048576;function hb([t,e],[n,r]){const s=Ce(t,n);return s===0?Ce(e,r):s}class wz{constructor(e){this.Tr=e,this.buffer=new St(hb),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _z{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){te(db,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qa(n)?te(db,"Ignoring IndexedDB error during garbage collection: ",n):await Ga(n)}await this.Rr(3e5)})}}class bz{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Mf.ue);const r=new wz(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(ub)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ub):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,o,i,a,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,i=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Pi()<=ke.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-h}ms
	Determined least recently used ${s} in `+(a-i)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:p})))}}function Ez(t,e){return new bz(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(){this.changes=new vi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Zl(r.mutation,s,In.empty(),Ze.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ae()){const s=$o();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let i=Dl();return o.forEach((a,c)=>{i=i.insert(a,c.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=$o();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ae()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((i,a)=>{n.set(i,a)})})}computeViews(e,n,r,s){let o=fs();const i=Jl(),a=function(){return Jl()}();return n.forEach((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof To)?o=o.insert(u.key,u):h!==void 0?(i.set(u.key,h.mutation.getFieldMask()),Zl(h.mutation,u,h.mutation.getFieldMask(),Ze.now())):i.set(u.key,In.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,h)=>i.set(u,h)),n.forEach((u,h)=>{var p;return a.set(u,new Sz(h,(p=i.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Jl();let s=new it((i,a)=>i-a),o=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const a of i)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||In.empty();h=a.applyToLocalView(u,h),r.set(c,h);const p=(s.get(a.batchId)||Ae()).add(c);s=s.insert(a.batchId,p)})}).next(()=>{const i=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,p=kA();h.forEach(f=>{if(!o.has(f)){const v=FA(n.get(f),r.get(f));v!==null&&p.set(f,v),o=o.add(f)}}),i.push(this.documentOverlayCache.saveOverlays(e,u,p))}return B.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(i){return ce.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const i=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):B.resolve($o());let a=Mc,c=o;return i.next(u=>B.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{c=c.insert(h,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Ae())).next(h=>({batchId:a,changes:RA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let s=Dl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let i=Dl();return this.indexManager.getCollectionParents(e,o).next(a=>B.forEach(a,c=>{const u=function(p,f){return new Ff(f,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((p,f)=>{i=i.insert(p,f)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(i=>{o.forEach((c,u)=>{const h=u.getKey();i.get(h)===null&&(i=i.insert(h,en.newInvalidDocument(h)))});let a=Dl();return i.forEach((c,u)=>{const h=o.get(c);h!==void 0&&Zl(h.mutation,u,In.empty(),Ze.now()),$f(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return B.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ir(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:gz(s.bundledQuery),readTime:Ir(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(){this.overlays=new it(ce.comparator),this.kr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$o();return B.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.wt(e,n,o)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=$o(),o=n.length+1,i=new ce(n.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&s.set(c.getKey(),c)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new it((u,h)=>u-h);const i=this.overlays.getIterator();for(;i.hasNext();){const u=i.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=$o(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=$o(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return B.resolve(a)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const i=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new qB(n,r));let o=this.kr.get(n);o===void 0&&(o=Ae(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(){this.qr=new St(Pt.Qr),this.$r=new St(Pt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Pt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new ce(new Je([])),r=new Pt(n,e),s=new Pt(n,e+1),o=[];return this.$r.forEachInRange([r,s],i=>{this.Wr(i),o.push(i.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ce(new Je([])),r=new Pt(n,e),s=new Pt(n,e+1);let o=Ae();return this.$r.forEachInRange([r,s],i=>{o=o.add(i.key)}),o}containsKey(e){const n=new Pt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ce.comparator(e.key,n.key)||Ce(e.Hr,n.Hr)}static Ur(e,n){return Ce(e.Hr,n.Hr)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new St(Pt.Qr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new GB(o,n,r,s);this.mutationQueue.push(i);for(const a of s)this.Yr=this.Yr.add(new Pt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(i)}lookupMutationBatch(e,n){return B.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),o=s<0?0:s;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?D0:this.er-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),s=new Pt(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,s],i=>{const a=this.Zr(i.Hr);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St(Ce);return n.forEach(s=>{const o=new Pt(s,0),i=new Pt(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,i],a=>{r=r.add(a.Hr)})}),B.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;ce.isDocumentKey(o)||(o=o.child(""));const i=new Pt(new ce(o),0);let a=new St(Ce);return this.Yr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.Hr)),!0)},i),B.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Fe(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return B.forEach(n.mutations,s=>{const o=new Pt(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Pt(n,0),s=this.Yr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e){this.ni=e,this.docs=function(){return new it(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,i=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=fs();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():en.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=fs();const i=n.path,a=new ce(i.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!i.isPrefixOf(u.path))break;u.path.length>i.length+1||aB(iB(h),r)<=0||(s.has(h.key)||$f(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,s){de(9500)}ri(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new kz(this)}getSize(e){return B.resolve(this.size)}}class kz extends Cz{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e){this.persistence=e,this.ii=new vi(n=>O0(n),L0),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.si=0,this.oi=new W0,this.targetCount=0,this._i=Aa.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),B.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Aa(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.hr(n),B.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.ii.forEach((i,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(i),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(o).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(i=>{o.push(s.markPotentiallyOrphaned(e,i))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n){this.ai={},this.overlays={},this.ui=new Mf(0),this.ci=!1,this.ci=!0,this.li=new Iz,this.referenceDelegate=e(this),this.hi=new Dz(this),this.indexManager=new vz,this.remoteDocumentCache=function(s){return new Rz(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new mz(n),this.Ti=new Nz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Pz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new Az(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const s=new jz(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ei(e,n){return B.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class jz extends cB{constructor(e){super(),this.currentSequenceNumber=e}}class H0{constructor(e){this.persistence=e,this.Ai=new W0,this.Ri=null}static Vi(e){return new H0(e)}get mi(){if(this.Ri)return this.Ri;throw de(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.mi,r=>{const s=ce.fromPath(r);return this.fi(e,s).next(o=>{o||n.removeEntry(s,me.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return B.or([()=>B.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class jh{constructor(e,n){this.persistence=e,this.gi=new vi(r=>hB(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Ez(this,n)}static Vi(e,n){return new jh(e,n)}Ii(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return B.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(o=>o?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ri(e,i=>this.Sr(e,i,n).next(a=>{a||(r++,o.removeEntry(i,me.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),B.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Id(e.data.value)),n}Sr(e,n,r){return B.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=Ae(),s=Ae();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new G0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return R8()?8:uB(I8())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ps(e,n).next(i=>{o.result=i}).next(()=>{if(!o.result)return this.ys(e,n,s,r).next(i=>{o.result=i})}).next(()=>{if(o.result)return;const i=new Mz;return this.ws(e,n,i).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,i,a.size)})}).next(()=>o.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(Pi()<=ke.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Ii(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),B.resolve()):(Pi()<=ke.DEBUG&&te("QueryEngine","Query:",Ii(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(Pi()<=ke.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Ii(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):B.resolve())}ps(e,n){if(eb(n))return B.resolve(null);let r=Pr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ev(n,null,"F"),r=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const i=Ae(...o);return this.gs.getDocuments(e,i).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.bs(n,a);return this.Ds(n,u,i,c.readTime)?this.ps(e,ev(n,null,"F")):this.vs(e,u,n,c)}))})))}ys(e,n,r,s){return eb(n)||s.isEqual(me.min())?B.resolve(null):this.gs.getDocuments(e,r).next(o=>{const i=this.bs(n,o);return this.Ds(n,i,r,s)?B.resolve(null):(Pi()<=ke.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ii(n)),this.vs(e,i,n,oB(s,Mc)).next(a=>a))})}bs(e,n){let r=new St(IA(e));return n.forEach((s,o)=>{$f(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ws(e,n,r){return Pi()<=ke.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Ii(n)),this.gs.getDocumentsMatchingQuery(e,n,ao.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(i=>{o=o.insert(i.key,i)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="LocalStore",Lz=3e8;class Fz{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new it(Ce),this.Ms=new vi(o=>O0(o),L0),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tz(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function Vz(t,e,n,r){return new Fz(t,e,n,r)}async function JA(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const i=[],a=[];let c=Ae();for(const u of s){i.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of o){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:i,addedBatchIds:a}))})})}function $z(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){const p=u.batch,f=p.keys();let v=B.resolve();return f.forEach(x=>{v=v.next(()=>h.getEntry(c,x)).next(y=>{const _=u.docVersions.get(x);Fe(_!==null,48541),y.version.compareTo(_)<0&&(p.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),h.addEntry(y)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ae();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function ZA(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function Uz(t,e){const n=ge(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const i=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const a=[];e.targetChanges.forEach((h,p)=>{const f=s.get(p);if(!f)return;a.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let v=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Bt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(p,v),function(y,_,b){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=Lz?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(f,v,h)&&a.push(n.hi.updateTargetData(o,v))});let c=fs(),u=Ae();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Bz(o,i,e.documentUpdates).next(h=>{c=h.Ls,u=h.ks})),!r.isEqual(me.min())){const h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>i.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.Fs=s,o))}function Bz(t,e,n){let r=Ae(),s=Ae();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let i=fs();return n.forEach((a,c)=>{const u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(me.min())?(e.removeEntry(a,c.readTime),i=i.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),i=i.insert(a,c)):te(q0,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ls:i,ks:s}})}function zz(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=D0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Wz(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(o=>o?(s=o,B.resolve(s)):n.hi.allocateTargetId(r).next(i=>(s=new $s(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function ov(t,e,n){const r=ge(t),s=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,i=>r.persistence.referenceDelegate.removeTarget(i,s))}catch(i){if(!qa(i))throw i;te(q0,`Failed to update sequence numbers for target ${e}: ${i}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function fb(t,e,n){const r=ge(t);let s=me.min(),o=Ae();return r.persistence.runTransaction("Execute query","readwrite",i=>function(c,u,h){const p=ge(c),f=p.Ms.get(h);return f!==void 0?B.resolve(p.Fs.get(f)):p.hi.getTargetData(u,h)}(r,i,Pr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(i,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(i,e,n?s:me.min(),n?o:Ae())).next(a=>(Hz(r,RB(e),a),{documents:a,qs:o})))}function Hz(t,e,n){let r=t.xs.get(e)||me.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}class pb{constructor(){this.activeTargetIds=LB()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gz{constructor(){this.Fo=new pb,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new pb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="ConnectivityMonitor";class gb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){te(mb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){te(mb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld=null;function iv(){return ld===null?ld=function(){return 268435456+Math.round(2147483648*Math.random())}():ld++,"0x"+ld.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="RestConnection",Kz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qz{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===Nh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,o){const i=iv(),a=this.Go(e,n.toUriEncodedString());te(ym,`Sending RPC '${e}' ${i}:`,a,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,s,o);const{host:u}=new URL(a),h=P0(u);return this.jo(e,a,c,r,h).then(p=>(te(ym,`Received RPC '${e}' ${i}: `,p),p),p=>{throw io(ym,`RPC '${e}' ${i} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,s,o,i){return this.Wo(e,n,r,s,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ha}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}Go(e,n){const r=Kz[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class Xz extends Qz{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,o){const i=iv();return new Promise((a,c)=>{const u=new tA;u.setWithCredentials(!0),u.listenOnce(nA.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Pd.NO_ERROR:const p=u.getResponseJson();te(Yt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(p)),a(p);break;case Pd.TIMEOUT:te(Yt,`RPC '${e}' ${i} timed out`),c(new ie(G.DEADLINE_EXCEEDED,"Request time out"));break;case Pd.HTTP_ERROR:const f=u.getStatus();if(te(Yt,`RPC '${e}' ${i} failed with status:`,f,"response text:",u.getResponseText()),f>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const x=v==null?void 0:v.error;if(x&&x.status&&x.message){const y=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(w)>=0?w:G.UNKNOWN}(x.status);c(new ie(y,x.message))}else c(new ie(G.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ie(G.UNAVAILABLE,"Connection failed."));break;default:de(9055,{c_:e,streamId:i,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{te(Yt,`RPC '${e}' ${i} completed.`)}});const h=JSON.stringify(s);te(Yt,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",h,r,15)})}P_(e,n,r){const s=iv(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=oA(),a=sA(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=o.join("");te(Yt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const p=i.createWebChannel(h,c);this.T_(p);let f=!1,v=!1;const x=new Yz({Ho:_=>{v?te(Yt,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(f||(te(Yt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),f=!0),te(Yt,`RPC '${e}' stream ${s} sending:`,_),p.send(_))},Yo:()=>p.close()}),y=(_,b,w)=>{_.listen(b,C=>{try{w(C)}catch(A){setTimeout(()=>{throw A},0)}})};return y(p,kl.EventType.OPEN,()=>{v||(te(Yt,`RPC '${e}' stream ${s} transport opened.`),x.s_())}),y(p,kl.EventType.CLOSE,()=>{v||(v=!0,te(Yt,`RPC '${e}' stream ${s} transport closed`),x.__(),this.I_(p))}),y(p,kl.EventType.ERROR,_=>{v||(v=!0,io(Yt,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),x.__(new ie(G.UNAVAILABLE,"The operation could not be completed")))}),y(p,kl.EventType.MESSAGE,_=>{var b;if(!v){const w=_.data[0];Fe(!!w,16349);const C=w,A=(C==null?void 0:C.error)||((b=C[0])===null||b===void 0?void 0:b.error);if(A){te(Yt,`RPC '${e}' stream ${s} received error:`,A);const j=A.status;let O=function(P){const T=gt[P];if(T!==void 0)return $A(T)}(j),N=A.message;O===void 0&&(O=G.INTERNAL,N="Unknown error status: "+j+" with message "+A.message),v=!0,x.__(new ie(O,N)),p.close()}else te(Yt,`RPC '${e}' stream ${s} received:`,w),x.a_(w)}}),y(a,rA.STAT_EVENT,_=>{_.stat===Kg.PROXY?te(Yt,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===Kg.NOPROXY&&te(Yt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.o_()},0),x}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(t){return new tz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="PersistentStream";class tR{constructor(e,n,r,s,o,i,a,c){this.Fi=e,this.w_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new eR(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(hs(n.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new ie(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return te(vb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(te(vb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jz extends tR{constructor(e,n,r,s,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=sz(this.serializer,e),r=function(o){if(!("targetChange"in o))return me.min();const i=o.targetChange;return i.targetIds&&i.targetIds.length?me.min():i.readTime?Ir(i.readTime):me.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=sv(this.serializer),n.addTarget=function(o,i){let a;const c=i.target;if(a=Zg(c)?{documents:az(o,c)}:{query:lz(o,c).Vt},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=zA(o,i.resumeToken);const u=tv(o,i.expectedCount);u!==null&&(a.expectedCount=u)}else if(i.snapshotVersion.compareTo(me.min())>0){a.readTime=Dh(o,i.snapshotVersion.toTimestamp());const u=tv(o,i.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=uz(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=sv(this.serializer),n.removeTarget=e,this.k_(n)}}class Zz extends tR{constructor(e,n,r,s,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=iz(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=sv(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>oz(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{}class tW extends eW{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new ie(G.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.Wo(e,nv(n,r),s,o,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(G.UNKNOWN,o.toString())})}Jo(e,n,r,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Jo(e,nv(n,r),s,i,a,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie(G.UNKNOWN,i.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class nW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(hs(n),this._a=!1):te("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="RemoteStore";class rW{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(i=>{r.enqueueAndForget(async()=>{yi(this)&&(te(li,"Restarting streams for network reachability change."),await async function(c){const u=ge(c);u.Ia.add(4),await du(u),u.Aa.set("Unknown"),u.Ia.delete(4),await Hf(u)}(this))})}),this.Aa=new nW(r,s)}}async function Hf(t){if(yi(t))for(const e of t.da)await e(!0)}async function du(t){for(const e of t.da)await e(!1)}function nR(t,e){const n=ge(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),X0(n)?Y0(n):Ka(n).x_()&&Q0(n,e))}function K0(t,e){const n=ge(t),r=Ka(n);n.Ta.delete(e),r.x_()&&rR(n,e),n.Ta.size===0&&(r.x_()?r.B_():yi(n)&&n.Aa.set("Unknown"))}function Q0(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ka(t).H_(e)}function rR(t,e){t.Ra.$e(e),Ka(t).Y_(e)}function Y0(t){t.Ra=new XB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Ka(t).start(),t.Aa.aa()}function X0(t){return yi(t)&&!Ka(t).M_()&&t.Ta.size>0}function yi(t){return ge(t).Ia.size===0}function sR(t){t.Ra=void 0}async function sW(t){t.Aa.set("Online")}async function oW(t){t.Ta.forEach((e,n)=>{Q0(t,e)})}async function iW(t,e){sR(t),X0(t)?(t.Aa.la(e),Y0(t)):t.Aa.set("Unknown")}async function aW(t,e,n){if(t.Aa.set("Online"),e instanceof BA&&e.state===2&&e.cause)try{await async function(s,o){const i=o.cause;for(const a of o.targetIds)s.Ta.has(a)&&(await s.remoteSyncer.rejectListen(a,i),s.Ta.delete(a),s.Ra.removeTarget(a))}(t,e)}catch(r){te(li,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mh(t,r)}else if(e instanceof kd?t.Ra.Ye(e):e instanceof UA?t.Ra.it(e):t.Ra.et(e),!n.isEqual(me.min()))try{const r=await ZA(t.localStore);n.compareTo(r)>=0&&await function(o,i){const a=o.Ra.Pt(i);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.Ta.get(u);h&&o.Ta.set(u,h.withResumeToken(c.resumeToken,i))}}),a.targetMismatches.forEach((c,u)=>{const h=o.Ta.get(c);if(!h)return;o.Ta.set(c,h.withResumeToken(Bt.EMPTY_BYTE_STRING,h.snapshotVersion)),rR(o,c);const p=new $s(h.target,c,u,h.sequenceNumber);Q0(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te(li,"Failed to raise snapshot:",r),await Mh(t,r)}}async function Mh(t,e,n){if(!qa(e))throw e;t.Ia.add(1),await du(t),t.Aa.set("Offline"),n||(n=()=>ZA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te(li,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Hf(t)})}function oR(t,e){return e().catch(n=>Mh(t,n,e))}async function Gf(t){const e=ge(t),n=ho(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:D0;for(;lW(e);)try{const s=await zz(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,cW(e,s)}catch(s){await Mh(e,s)}iR(e)&&aR(e)}function lW(t){return yi(t)&&t.Pa.length<10}function cW(t,e){t.Pa.push(e);const n=ho(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function iR(t){return yi(t)&&!ho(t).M_()&&t.Pa.length>0}function aR(t){ho(t).start()}async function uW(t){ho(t).na()}async function dW(t){const e=ho(t);for(const n of t.Pa)e.X_(n.mutations)}async function hW(t,e,n){const r=t.Pa.shift(),s=U0.from(r,e,n);await oR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Gf(t)}async function fW(t,e){e&&ho(t).Z_&&await async function(r,s){if(function(i){return QB(i)&&i!==G.ABORTED}(s.code)){const o=r.Pa.shift();ho(r).N_(),await oR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Gf(r)}}(t,e),iR(t)&&aR(t)}async function yb(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),te(li,"RemoteStore received new credentials");const r=yi(n);n.Ia.add(3),await du(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Hf(n)}async function pW(t,e){const n=ge(t);e?(n.Ia.delete(2),await Hf(n)):e||(n.Ia.add(2),await du(n),n.Aa.set("Unknown"))}function Ka(t){return t.Va||(t.Va=function(n,r,s){const o=ge(n);return o.ia(),new Jz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Zo:sW.bind(null,t),e_:oW.bind(null,t),n_:iW.bind(null,t),J_:aW.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),X0(t)?Y0(t):t.Aa.set("Unknown")):(await t.Va.stop(),sR(t))})),t.Va}function ho(t){return t.ma||(t.ma=function(n,r,s){const o=ge(n);return o.ia(),new Zz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:uW.bind(null,t),n_:fW.bind(null,t),ea:dW.bind(null,t),ta:hW.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Gf(t)):(await t.ma.stop(),t.Pa.length>0&&(te(li,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Yo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const i=Date.now()+r,a=new J0(e,n,i,s,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z0(t,e){if(hs("AsyncQueue",`${e}: ${t}`),qa(t))return new ie(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{static emptySet(e){return new ta(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=Dl(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ta)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ta;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this.fa=new it(ce.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):de(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ra{constructor(e,n,r,s,o,i,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,o){const i=[];return n.forEach(a=>{i.push({type:0,doc:a})}),new Ra(e,n,ta.emptySet(n),i,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class gW{constructor(){this.queries=wb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=ge(n),o=s.queries;s.queries=wb(),o.forEach((i,a)=>{for(const c of a.wa)c.onError(r)})})(this,new ie(G.ABORTED,"Firestore shutting down"))}}function wb(){return new vi(t=>PA(t),Vf)}async function vW(t,e){const n=ge(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.Sa()&&e.ba()&&(r=2):(o=new mW,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(s,!0);break;case 1:o.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(i){const a=Z0(i,`Initialization of query '${Ii(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&ex(n)}async function yW(t,e){const n=ge(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const i=o.wa.indexOf(e);i>=0&&(o.wa.splice(i,1),o.wa.length===0?s=e.ba()?0:1:!o.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xW(t,e){const n=ge(t);let r=!1;for(const s of e){const o=s.query,i=n.queries.get(o);if(i){for(const a of i.wa)a.Ca(s)&&(r=!0);i.ya=s}}r&&ex(n)}function wW(t,e,n){const r=ge(t),s=r.queries.get(e);if(s)for(const o of s.wa)o.onError(n);r.queries.delete(e)}function ex(t){t.Da.forEach(e=>{e.next()})}var av,_b;(_b=av||(av={})).Fa="default",_b.Cache="cache";class _W{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ra(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==av.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.key=e}}class cR{constructor(e){this.key=e}}class bW{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ae(),this.mutatedKeys=Ae(),this.Xa=IA(e),this.eu=new ta(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new xb,s=n?n.eu:this.eu;let o=n?n.mutatedKeys:this.mutatedKeys,i=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const f=s.get(h),v=$f(this.query,p)?p:null,x=!!f&&this.mutatedKeys.has(f.key),y=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let _=!1;f&&v?f.data.isEqual(v.data)?x!==y&&(r.track({type:3,doc:v}),_=!0):this.iu(f,v)||(r.track({type:2,doc:v}),_=!0,(c&&this.Xa(v,c)>0||u&&this.Xa(v,u)<0)&&(a=!0)):!f&&v?(r.track({type:0,doc:v}),_=!0):f&&!v&&(r.track({type:1,doc:f}),_=!0,(c||u)&&(a=!0)),_&&(v?(i=i.add(v),o=y?o.add(h):o.delete(h)):(i=i.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const h=this.query.limitType==="F"?i.last():i.first();i=i.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:i,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const i=e.ru.pa();i.sort((h,p)=>function(v,x){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{At:_})}};return y(v)-y(x)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),s=s!=null&&s;const a=n&&!s?this.ou():[],c=this.Za.size===0&&this.current&&!s?1:0,u=c!==this.Ya;return this.Ya=c,i.length!==0||u?{snapshot:new Ra(this.query,e.eu,o,i,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new xb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ae(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new cR(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new lR(r))}),n}uu(e){this.Ha=e.qs,this.Za=Ae();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Ra.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const tx="SyncEngine";class EW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class CW{constructor(e){this.key=e,this.lu=!1}}class SW{constructor(e,n,r,s,o,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.hu={},this.Pu=new vi(a=>PA(a),Vf),this.Tu=new Map,this.Iu=new Set,this.du=new it(ce.comparator),this.Eu=new Map,this.Au=new W0,this.Ru={},this.Vu=new Map,this.mu=Aa.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function TW(t,e,n=!0){const r=mR(t);let s;const o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.cu()):s=await uR(r,e,n,!0),s}async function NW(t,e){const n=mR(t);await uR(n,e,!0,!1)}async function uR(t,e,n,r){const s=await Wz(t.localStore,Pr(e)),o=s.targetId,i=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await PW(t,e,o,i==="current",s.resumeToken)),t.isPrimaryClient&&n&&nR(t.remoteStore,s),a}async function PW(t,e,n,r,s){t.gu=(p,f,v)=>async function(y,_,b,w){let C=_.view.nu(b);C.Ds&&(C=await fb(y.localStore,_.query,!1).then(({documents:N})=>_.view.nu(N,C)));const A=w&&w.targetChanges.get(_.targetId),j=w&&w.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(C,y.isPrimaryClient,A,j);return Eb(y,_.targetId,O._u),O.snapshot}(t,p,f,v);const o=await fb(t.localStore,e,!0),i=new bW(e,o.qs),a=i.nu(o.documents),c=uu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=i.applyChanges(a,t.isPrimaryClient,c);Eb(t,n,u._u);const h=new EW(e,n,i);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}async function IW(t,e,n){const r=ge(t),s=r.Pu.get(e),o=r.Tu.get(s.targetId);if(o.length>1)return r.Tu.set(s.targetId,o.filter(i=>!Vf(i,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ov(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&K0(r.remoteStore,s.targetId),lv(r,s.targetId)}).catch(Ga)):(lv(r,s.targetId),await ov(r.localStore,s.targetId,!0))}async function AW(t,e){const n=ge(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),K0(n.remoteStore,r.targetId))}async function RW(t,e,n){const r=FW(t);try{const s=await function(i,a){const c=ge(i),u=Ze.now(),h=a.reduce((v,x)=>v.add(x.key),Ae());let p,f;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let x=fs(),y=Ae();return c.Os.getEntries(v,h).next(_=>{x=_,x.forEach((b,w)=>{w.isValidDocument()||(y=y.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,x)).next(_=>{p=_;const b=[];for(const w of a){const C=WB(w,p.get(w.key).overlayedDocument);C!=null&&b.push(new To(w.key,C,_A(C.value.mapValue),lr.exists(!0)))}return c.mutationQueue.addMutationBatch(v,u,b,a)}).next(_=>{f=_;const b=_.applyToLocalDocumentSet(p,y);return c.documentOverlayCache.saveOverlays(v,_.batchId,b)})}).then(()=>({batchId:f.batchId,changes:RA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,a,c){let u=i.Ru[i.currentUser.toKey()];u||(u=new it(Ce)),u=u.insert(a,c),i.Ru[i.currentUser.toKey()]=u}(r,s.batchId,n),await hu(r,s.changes),await Gf(r.remoteStore)}catch(s){const o=Z0(s,"Failed to persist write");n.reject(o)}}async function dR(t,e){const n=ge(t);try{const r=await Uz(n.localStore,e);e.targetChanges.forEach((s,o)=>{const i=n.Eu.get(o);i&&(Fe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?i.lu=!0:s.modifiedDocuments.size>0?Fe(i.lu,14607):s.removedDocuments.size>0&&(Fe(i.lu,42227),i.lu=!1))}),await hu(n,r,e)}catch(r){await Ga(r)}}function bb(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((o,i)=>{const a=i.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(i,a){const c=ge(i);c.onlineState=a;let u=!1;c.queries.forEach((h,p)=>{for(const f of p.wa)f.va(a)&&(u=!0)}),u&&ex(c)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kW(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),o=s&&s.key;if(o){let i=new it(ce.comparator);i=i.insert(o,en.newNoDocument(o,me.min()));const a=Ae().add(o),c=new zf(me.min(),new Map,new it(Ce),i,a);await dR(r,c),r.du=r.du.remove(o),r.Eu.delete(e),nx(r)}else await ov(r.localStore,e,!1).then(()=>lv(r,e,n)).catch(Ga)}async function DW(t,e){const n=ge(t),r=e.batch.batchId;try{const s=await $z(n.localStore,e);fR(n,r,null),hR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hu(n,s)}catch(s){await Ga(s)}}async function jW(t,e,n){const r=ge(t);try{const s=await function(i,a){const c=ge(i);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(Fe(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);fR(r,e,n),hR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hu(r,s)}catch(s){await Ga(s)}}function hR(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function fR(t,e,n){const r=ge(t);let s=r.Ru[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function lv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||pR(t,r)})}function pR(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(K0(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),nx(t))}function Eb(t,e,n){for(const r of n)r instanceof lR?(t.Au.addReference(r.key,e),MW(t,r)):r instanceof cR?(te(tx,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||pR(t,r.key)):de(19791,{yu:r})}function MW(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(te(tx,"New document in limbo: "+n),t.Iu.add(r),nx(t))}function nx(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new ce(Je.fromString(e)),r=t.mu.next();t.Eu.set(r,new CW(n)),t.du=t.du.insert(n,r),nR(t.remoteStore,new $s(Pr(F0(n.path)),r,"TargetPurposeLimboResolution",Mf.ue))}}async function hu(t,e,n){const r=ge(t),s=[],o=[],i=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{i.push(r.gu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){s.push(u);const p=G0.Es(c.targetId,u);o.push(p)}}))}),await Promise.all(i),r.hu.J_(s),await async function(c,u){const h=ge(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>B.forEach(u,f=>B.forEach(f.Is,v=>h.persistence.referenceDelegate.addReference(p,f.targetId,v)).next(()=>B.forEach(f.ds,v=>h.persistence.referenceDelegate.removeReference(p,f.targetId,v)))))}catch(p){if(!qa(p))throw p;te(q0,"Failed to update sequence numbers: "+p)}for(const p of u){const f=p.targetId;if(!p.fromCache){const v=h.Fs.get(f),x=v.snapshotVersion,y=v.withLastLimboFreeSnapshotVersion(x);h.Fs=h.Fs.insert(f,y)}}}(r.localStore,o))}async function OW(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){te(tx,"User change. New user:",e.toKey());const r=await JA(n.localStore,e);n.currentUser=e,function(o,i){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new ie(G.CANCELLED,i))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hu(n,r.Bs)}}function LW(t,e){const n=ge(t),r=n.Eu.get(e);if(r&&r.lu)return Ae().add(r.key);{let s=Ae();const o=n.Tu.get(e);if(!o)return s;for(const i of o){const a=n.Pu.get(i);s=s.unionWith(a.view.tu)}return s}}function mR(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kW.bind(null,e),e.hu.J_=xW.bind(null,e.eventManager),e.hu.pu=wW.bind(null,e.eventManager),e}function FW(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jW.bind(null,e),e}class Oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return Vz(this.persistence,new Oz,e.initialUser,this.serializer)}Du(e){return new XA(H0.Vi,this.serializer)}bu(e){return new Gz}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oh.provider={build:()=>new Oh};class VW extends Oh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Fe(this.persistence.referenceDelegate instanceof jh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _z(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new XA(r=>jh.Vi(r,n),this.serializer)}}class cv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OW.bind(null,this.syncEngine),await pW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gW}()}createDatastore(e){const n=Wf(e.databaseInfo.databaseId),r=function(o){return new Xz(o)}(e.databaseInfo);return function(o,i,a,c){return new tW(o,i,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,i,a){return new rW(r,s,o,i,a)}(this.localStore,this.datastore,e.asyncQueue,n=>bb(this.syncEngine,n,0),function(){return gb.C()?new gb:new qz}())}createSyncEngine(e,n){return function(s,o,i,a,c,u,h){const p=new SW(s,o,i,a,c,u);return h&&(p.fu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=ge(s);te(li,"RemoteStore shutting down."),o.Ia.add(5),await du(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}cv.provider={build:()=>new cv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):hs("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="FirestoreClient";class UW{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Jt.UNAUTHENTICATED,this.clientId=R0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async i=>{te(fo,"Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(te(fo,"Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Z0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wm(t,e){t.asyncQueue.verifyOperationInProgress(),te(fo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await JA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{io("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{te("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{io("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function Cb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BW(t);te(fo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>yb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>yb(e.remoteStore,s)),t._onlineComponents=e}async function BW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te(fo,"Using user provided OfflineComponentProvider");try{await wm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===G.FAILED_PRECONDITION||s.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;io("Error using user provided cache. Falling back to memory cache: "+n),await wm(t,new Oh)}}else te(fo,"Using default OfflineComponentProvider"),await wm(t,new VW(void 0));return t._offlineComponents}async function gR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te(fo,"Using user provided OnlineComponentProvider"),await Cb(t,t._uninitializedComponentsProvider._online)):(te(fo,"Using default OnlineComponentProvider"),await Cb(t,new cv))),t._onlineComponents}function zW(t){return gR(t).then(e=>e.syncEngine)}async function Sb(t){const e=await gR(t),n=e.eventManager;return n.onListen=TW.bind(null,e.syncEngine),n.onUnlisten=IW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AW.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="firestore.googleapis.com",Nb=!0;class Pb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yR,this.ssl=Nb}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Nb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xz)throw new ie(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new QU;switch(r.type){case"firstParty":return new ZU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Tb.get(n);r&&(te("ComponentProvider","Removing Datastore"),Tb.delete(n),r.terminate())}(this),Promise.resolve()}}function WW(t,e,n,r={}){var s;t=Js(t,qf);const o=P0(e),i=t._getSettings(),a=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;o&&(C8(`https://${c}`),P8("Firestore",!0)),i.host!==yR&&i.host!==c&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},i),{host:c,ssl:o,emulatorOptions:r});if(!Eh(u,a)&&(t._setSettings(u),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Jt.MOCK_USER;else{h=S8(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ie(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Jt(f)}t._authCredentials=new YU(new aA(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kf(this.firestore,e,this._query)}}class Et{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(lu(n,Et._jsonSchema))return new Et(e,r||null,new ce(Je.fromString(n.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:yt("string",Et._jsonSchemaVersion),referencePath:yt("string")};class Zs extends Kf{constructor(e,n,r){super(e,n,F0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new ce(e))}withConverter(e){return new Zs(this.firestore,e,this._path)}}function ka(t,e,...n){if(t=us(t),cA("collection","path",e),t instanceof qf){const r=Je.fromString(e,...n);return U_(r),new Zs(t,null,r)}{if(!(t instanceof Et||t instanceof Zs))throw new ie(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return U_(r),new Zs(t.firestore,null,r)}}function ci(t,e,...n){if(t=us(t),arguments.length===1&&(e=R0.newId()),cA("doc","path",e),t instanceof qf){const r=Je.fromString(e,...n);return $_(r),new Et(t,null,new ce(r))}{if(!(t instanceof Et||t instanceof Zs))throw new ie(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return $_(r),new Et(t.firestore,t instanceof Zs?t.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="AsyncQueue";class Ab{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new eR(this,"async_queue_retry"),this.oc=()=>{const r=xm();r&&te(Ib,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Yo;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!qa(e))throw e;te(Ib,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,hs("INTERNAL UNHANDLED ERROR: ",Rb(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=J0.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(s),s}ac(){this.tc&&de(47125,{hc:Rb(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function Rb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Da extends qf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Ab,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ab(e),this._firestoreClient=void 0,await e}}}function HW(t,e){const n=typeof t=="object"?t:FU(),r=typeof t=="string"?t:Nh,s=DU(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=b8("firestore");o&&WW(s,...o)}return s}function xR(t){if(t._terminated)throw new ie(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||GW(t),t._firestoreClient}function GW(t){var e,n,r;const s=t._freezeSettings(),o=function(a,c,u,h){return new mB(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,vR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new UW(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Bt.fromBase64String(e))}catch(n){throw new ie(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Un(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:yt("string",Un._jsonSchemaVersion),bytes:yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ar._jsonSchemaVersion}}static fromJSON(e){if(lu(e,Ar._jsonSchema))return new Ar(e.latitude,e.longitude)}}Ar._jsonSchemaVersion="firestore/geoPoint/1.0",Ar._jsonSchema={type:yt("string",Ar._jsonSchemaVersion),latitude:yt("number"),longitude:yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,Rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Rr(e.vectorValues);throw new ie(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rr._jsonSchemaVersion="firestore/vectorValue/1.0",Rr._jsonSchema={type:yt("string",Rr._jsonSchemaVersion),vectorValues:yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW=/^__.*__$/;class KW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new To(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class wR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new To(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _R(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{Ec:t})}}class sx{constructor(e,n,r,s,o,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new sx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Lh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(_R(this.Ec)&&qW.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class QW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wf(e)}Dc(e,n,r,s=!1){return new sx({Ec:e,methodName:n,bc:r,path:Lt.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bR(t){const e=t._freezeSettings(),n=Wf(t._databaseId);return new QW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YW(t,e,n,r,s,o={}){const i=t.Dc(o.merge||o.mergeFields?2:0,e,n,s);ox("Data must be an object, but it was:",i,r);const a=ER(r,i);let c,u;if(o.merge)c=new In(i.fieldMask),u=i.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const f=uv(e,p,n);if(!i.contains(f))throw new ie(G.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);SR(h,f)||h.push(f)}c=new In(h),u=i.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=i.fieldTransforms;return new KW(new vn(a),c,u)}class Yf extends rx{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yf}}function XW(t,e,n,r){const s=t.Dc(1,e,n);ox("Data must be an object, but it was:",s,r);const o=[],i=vn.empty();So(r,(c,u)=>{const h=ix(e,c,n);u=us(u);const p=s.gc(h);if(u instanceof Yf)o.push(h);else{const f=Xf(u,p);f!=null&&(o.push(h),i.set(h,f))}});const a=new In(o);return new wR(i,a,s.fieldTransforms)}function JW(t,e,n,r,s,o){const i=t.Dc(1,e,n),a=[uv(e,r,n)],c=[s];if(o.length%2!=0)throw new ie(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(uv(e,o[f])),c.push(o[f+1]);const u=[],h=vn.empty();for(let f=a.length-1;f>=0;--f)if(!SR(u,a[f])){const v=a[f];let x=c[f];x=us(x);const y=i.gc(v);if(x instanceof Yf)u.push(v);else{const _=Xf(x,y);_!=null&&(u.push(v),h.set(v,_))}}const p=new In(u);return new wR(h,p,i.fieldTransforms)}function Xf(t,e){if(CR(t=us(t)))return ox("Unsupported field value:",e,t),ER(t,e);if(t instanceof rx)return function(r,s){if(!_R(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const o=[];let i=0;for(const a of r){let c=Xf(a,s.yc(i));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),i++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=us(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FB(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ze.fromDate(r);return{timestampValue:Dh(s.serializer,o)}}if(r instanceof Ze){const o=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dh(s.serializer,o)}}if(r instanceof Ar)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:zA(s.serializer,r._byteString)};if(r instanceof Et){const o=s.databaseId,i=r.firestore._databaseId;if(!i.isEqual(o))throw s.wc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:z0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Rr)return function(i,a){return{mapValue:{fields:{[yA]:{stringValue:wA},[Ph]:{arrayValue:{values:i.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return V0(a.serializer,u)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${k0(r)}`)}(t,e)}function ER(t,e){const n={};return hA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):So(t,(r,s)=>{const o=Xf(s,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function CR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof Ar||t instanceof Un||t instanceof Et||t instanceof rx||t instanceof Rr)}function ox(t,e,n){if(!CR(n)||!uA(n)){const r=k0(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function uv(t,e,n){if((e=us(e))instanceof Qf)return e._internalPath;if(typeof e=="string")return ix(t,e);throw Lh("Field path arguments must be of type string or ",t,!1,void 0,n)}const ZW=new RegExp("[~\\*/\\[\\]]");function ix(t,e,n){if(e.search(ZW)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qf(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lh(t,e,n,r,s){const o=r&&!r.isEmpty(),i=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||i)&&(c+=" (found",o&&(c+=` in field ${r}`),i&&(c+=` in document ${s}`),c+=")"),new ie(G.INVALID_ARGUMENT,a+t+c)}function SR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(NR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eH extends TR{data(){return super.data()}}function NR(t,e){return typeof e=="string"?ix(t,e):e instanceof Qf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nH{convertValue(e,n="none"){switch(uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return So(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Ph].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(i=>ht(i.doubleValue));return new Rr(o)}convertGeoPoint(e){return new Ar(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Oc(e));default:return null}}convertTimestamp(e){const n=lo(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);Fe(QA(r),9688,{name:e});const s=new Lc(r.get(1),r.get(3)),o=new ce(r.popFirst(5));return s.isEqual(n)||hs(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rH(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xo extends TR{constructor(e,n,r,s,o,i){super(e,n,r,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(NR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xo._jsonSchema={type:yt("string",Xo._jsonSchemaVersion),bundleSource:yt("string","DocumentSnapshot"),bundleName:yt("string"),bundle:yt("string")};class Dd extends Xo{data(e={}){return super.data(e)}}class na{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ml(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Dd(this._firestore,this._userDataWriter,r.key,r,new Ml(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(a=>{const c=new Dd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ml(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const c=new Dd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ml(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),h=i.indexOf(a.doc.key)),{type:sH(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=R0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:t})}}na._jsonSchemaVersion="firestore/querySnapshot/1.0",na._jsonSchema={type:yt("string",na._jsonSchemaVersion),bundleSource:yt("string","QuerySnapshot"),bundleName:yt("string"),bundle:yt("string")};class PR extends nH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function ax(t,e,n,...r){t=Js(t,Et);const s=Js(t.firestore,Da),o=bR(s);let i;return i=typeof(e=us(e))=="string"||e instanceof Qf?JW(o,"updateDoc",t._key,e,n,r):XW(o,"updateDoc",t._key,e),dx(s,[i.toMutation(t._key,lr.exists(!0))])}function lx(t){return dx(Js(t.firestore,Da),[new $0(t._key,lr.none())])}function cx(t,e){const n=Js(t.firestore,Da),r=ci(t),s=rH(t.converter,e);return dx(n,[YW(bR(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,lr.exists(!1))]).then(()=>r)}function ux(t,...e){var n,r,s;t=us(t);let o={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||kb(e[i])||(o=e[i++]);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(kb(e[i])){const p=e[i];e[i]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[i+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[i+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let c,u,h;if(t instanceof Et)u=Js(t.firestore,Da),h=F0(t._key.path),c={next:p=>{e[i]&&e[i](oH(u,t,p))},error:e[i+1],complete:e[i+2]};else{const p=Js(t,Kf);u=Js(p.firestore,Da),h=p._query;const f=new PR(u);c={next:v=>{e[i]&&e[i](new na(u,f,p,v))},error:e[i+1],complete:e[i+2]},tH(t._query)}return function(f,v,x,y){const _=new $W(y),b=new _W(v,_,x);return f.asyncQueue.enqueueAndForget(async()=>vW(await Sb(f),b)),()=>{_.Ou(),f.asyncQueue.enqueueAndForget(async()=>yW(await Sb(f),b))}}(xR(u),h,a,c)}function dx(t,e){return function(r,s){const o=new Yo;return r.asyncQueue.enqueueAndForget(async()=>RW(await zW(r),s,o)),o.promise}(xR(t),e)}function oH(t,e,n){const r=n.docs.get(e._key),s=new PR(t);return new Xo(t,s,e._key,r,new Ml(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Ha=s})(LU),Sh(new Dc("firestore",(r,{instanceIdentifier:s,options:o})=>{const i=r.getProvider("app").getImmediate(),a=new Da(new XU(r.getProvider("auth-internal")),new eB(i,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ie(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lc(u.options.projectId,h)}(i,s),i);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ea(M_,O_,e),ea(M_,O_,"esm2017")})();var iH="firebase",aH="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ea(iH,aH,"app");const lH={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},cH=XI(lH),zn=HW(cH),Db=t=>{if(t){if(t&&typeof t.toDate=="function")return t.toDate();if(t instanceof Date)return t;if(typeof t=="string"||typeof t=="number")return new Date(t)}},Qa=()=>{const[t,e]=m.useState([]);m.useEffect(()=>{const c=ux(ka(zn,"clients"),u=>{const h=[];u.forEach(p=>{const f=p.data();h.push({id:p.id,name:f.name,email:f.email,phone:f.phone,notes:f.notes,createdAt:Db(f.createdAt)||new Date,lastConsultation:Db(f.lastConsultation),totalConsultations:f.totalConsultations||0,isActive:f.isActive!==!1})}),e(h)},u=>{console.error("❌ useClients: 加载客户数据失败:",u)});return()=>{c()}},[]);const n=async c=>{const u=yc({...c,createdAt:new Date,totalConsultations:0,isActive:!0});try{return{id:(await cx(ka(zn,"clients"),u)).id,...u}}catch(h){throw console.error("添加客户失败:",h),h}},r=async(c,u)=>{try{const h=ci(zn,"clients",c);await ax(h,u)}catch(h){throw console.error("更新客户失败:",h),h}};return{clients:t,addClient:n,updateClient:r,deleteClient:async c=>{try{const u=ci(zn,"clients",c);await lx(u)}catch(u){throw console.error("删除客户失败:",u),u}},getClient:c=>t.find(h=>h.id===c),updateClientConsultation:async c=>{const u=t.find(h=>h.id===c);if(u)try{await r(c,{lastConsultation:new Date,totalConsultations:u.totalConsultations+1})}catch(h){console.error("更新客户咨询次数失败:",h)}},searchClients:c=>c?t.filter(u=>{var h,p;return u.name.toLowerCase().includes(c.toLowerCase())||((h=u.email)==null?void 0:h.toLowerCase().includes(c.toLowerCase()))||((p=u.phone)==null?void 0:p.includes(c))}):t}},uH=({selectedClientId:t,onClientSelect:e,placeholder:n="选择客户",showAddButton:r=!0})=>{const{clients:s,addClient:o,searchClients:i}=Qa(),[a,c]=m.useState(!1),[u,h]=m.useState(""),[p,f]=m.useState({name:"",email:"",phone:"",notes:""}),v=i(u),x=()=>{if(p.name.trim()){const b=o(p);e(b.id),f({name:"",email:"",phone:"",notes:""}),c(!1)}},y=b=>b.split(" ").map(w=>w[0]).join("").toUpperCase(),_=s.find(b=>b.id===t);return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex-1",children:l.jsxs(Rc,{value:t,onValueChange:e,children:[l.jsx(Ca,{className:"bg-white/70 border-gray-300",children:l.jsx(kc,{placeholder:n,children:_&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Gl,{className:"h-6 w-6",children:[l.jsx(ql,{src:_.avatar}),l.jsx(Kl,{className:"bg-purple-100 text-purple-600 text-xs",children:y(_.name)})]}),l.jsx("span",{children:_.name})]})})}),l.jsxs(Sa,{className:"bg-white border-gray-200",children:[l.jsx("div",{className:"p-2 border-b",children:l.jsxs("div",{className:"relative",children:[l.jsx(of,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(At,{placeholder:"搜索客户...",value:u,onChange:b=>h(b.target.value),className:"pl-10 bg-white/70"})]})}),l.jsx("div",{className:"max-h-60 overflow-y-auto",children:v.length>0?v.map(b=>l.jsx(sr,{value:b.id,className:"text-gray-900 hover:bg-gray-100",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Gl,{className:"h-6 w-6",children:[l.jsx(ql,{src:b.avatar}),l.jsx(Kl,{className:"bg-purple-100 text-purple-600 text-xs",children:y(b.name)})]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:b.name}),l.jsxs("div",{className:"text-xs text-gray-500",children:[b.totalConsultations," 次咨询"]})]})]})},b.id)):l.jsx("div",{className:"p-4 text-center text-gray-500",children:u?"未找到匹配的客户":"暂无客户"})})]})]})}),r&&l.jsxs(gi,{open:a,onOpenChange:c,children:[l.jsx(l0,{asChild:!0,children:l.jsxs(ue,{variant:"outline",size:"sm",children:[l.jsx(xa,{className:"h-4 w-4 mr-1"}),"新客户"]})}),l.jsxs(xo,{className:"bg-white/95 backdrop-blur-xl",children:[l.jsx(wo,{children:l.jsx(_o,{children:"添加新客户"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{htmlFor:"name",children:"姓名 *"}),l.jsx(At,{id:"name",value:p.name,onChange:b=>f({...p,name:b.target.value}),placeholder:"请输入客户姓名",className:"bg-white/70"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{htmlFor:"email",children:"邮箱"}),l.jsx(At,{id:"email",type:"email",value:p.email,onChange:b=>f({...p,email:b.target.value}),placeholder:"请输入邮箱地址",className:"bg-white/70"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{htmlFor:"phone",children:"电话"}),l.jsx(At,{id:"phone",value:p.phone,onChange:b=>f({...p,phone:b.target.value}),placeholder:"请输入电话号码",className:"bg-white/70"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{htmlFor:"notes",children:"备注"}),l.jsx(Sr,{id:"notes",value:p.notes,onChange:b=>f({...p,notes:b.target.value}),placeholder:"客户相关备注信息...",className:"bg-white/70",rows:3})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(ue,{variant:"outline",onClick:()=>c(!1),children:"取消"}),l.jsx(ue,{onClick:x,disabled:!p.name.trim(),children:"添加客户"})]})]})]})]})]}),_&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-purple-50 rounded border border-purple-200",children:[l.jsxs(Gl,{className:"h-8 w-8",children:[l.jsx(ql,{src:_.avatar}),l.jsx(Kl,{className:"bg-purple-100 text-purple-600 text-xs",children:y(_.name)})]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-purple-900",children:_.name}),l.jsxs("div",{className:"text-xs text-purple-600",children:[_.totalConsultations," 次咨询",_.lastConsultation&&l.jsxs("span",{className:"ml-2",children:["最近: ",new Date(_.lastConsultation).toLocaleDateString()]})]})]})]})]})},dH=t=>t?t&&typeof t.toDate=="function"?t.toDate():t instanceof Date?t:typeof t=="string"||typeof t=="number"?new Date(t):new Date:new Date,Ya=()=>{const[t,e]=m.useState([]);return m.useEffect(()=>{const c=ux(ka(zn,"professionalTarotRecords"),u=>{const h=[];u.forEach(p=>{const f=p.data();h.push({id:p.id,clientId:f.clientId,isForClient:f.isForClient,date:dH(f.date)||new Date,moonPhase:f.moonPhase,question:f.question,cards:f.cards||[],interpretation:f.interpretation,advice:f.advice,nextSteps:f.nextSteps,consultationFee:f.consultationFee,presentation:f.presentation||{theme:"classic",layout:"standard"},shareSettings:f.shareSettings||{isPublic:!1,password:null,expiryDate:null}})}),e(h)},u=>{console.error("❌ useProfessionalTarotRecords: 加载专业塔罗记录失败:",u)});return()=>{c()}},[]),{professionalTarotRecords:t,addProfessionalTarotRecord:async c=>{const u=yc({...c,isForClient:!0});try{return{id:(await cx(ka(zn,"professionalTarotRecords"),u)).id,...u}}catch(h){throw console.error("添加专业塔罗记录失败:",h),h}},updateProfessionalTarotRecord:async(c,u)=>{try{const h=ci(zn,"professionalTarotRecords",c);await ax(h,u)}catch(h){throw console.error("更新专业塔罗记录失败:",h),h}},deleteProfessionalTarotRecord:async c=>{try{const u=ci(zn,"professionalTarotRecords",c);await lx(u)}catch(u){throw console.error("删除专业塔罗记录失败:",u),u}},getProfessionalTarotRecord:c=>t.find(u=>u.id===c),getClientTarotRecords:c=>t.filter(u=>u.clientId===c),getRecentRecords:(c=5)=>t.slice(0,c)}},hH=()=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let e="";for(let n=0;n<6;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},_m=t=>{if(t){if(t&&typeof t.toDate=="function")return t.toDate();if(t instanceof Date)return t;if(typeof t=="string"||typeof t=="number")return new Date(t)}},fu=()=>{const[t,e]=m.useState([]);m.useEffect(()=>{const x=ux(ka(zn,"shareLinks"),y=>{const _=[];y.forEach(b=>{const w=b.data();_.push({id:b.id,tarotRecordId:w.tarotRecordId,clientId:w.clientId,url:w.url,accessCode:w.accessCode,views:w.views||0,lastViewed:_m(w.lastViewed),isActive:w.isActive,expiresAt:_m(w.expiresAt),createdAt:_m(w.createdAt)||new Date})}),e(_)},y=>{console.error("❌ useShareLinks: 加载分享链接失败:",y)});return()=>{x()}},[]);const n=async(x,y,_)=>{const b=hH(),w=yc({tarotRecordId:x,clientId:y,url:`/tarot-reading/${b}`,accessCode:b,views:0,isActive:!0,expiresAt:_==null?void 0:_.expiryDate,createdAt:new Date});try{return{id:(await cx(ka(zn,"shareLinks"),w)).id,...w}}catch(C){throw console.error("生成分享链接失败:",C),C}},r=async(x,y)=>{try{const _=ci(zn,"shareLinks",x);await ax(_,y)}catch(_){throw console.error("更新分享链接失败:",_),_}},s=async x=>{try{const y=ci(zn,"shareLinks",x);await lx(y)}catch(y){throw console.error("删除分享链接失败:",y),y}},o=x=>t.find(y=>y.id===x),i=x=>t.find(_=>_.accessCode===x&&_.isActive),a=x=>t.filter(y=>y.tarotRecordId===x),c=x=>t.filter(y=>y.clientId===x),u=async x=>{const y=i(x);if(y)try{await r(y.id,{views:y.views+1,lastViewed:new Date})}catch(_){console.error("记录访问失败:",_)}},h=async x=>{try{await r(x,{isActive:!1})}catch(y){console.error("停用分享链接失败:",y)}},p=async x=>{try{await r(x,{isActive:!0})}catch(y){console.error("启用分享链接失败:",y)}},f=x=>x.expiresAt?new Date>x.expiresAt:!1;return{shareLinks:t,generateShareLink:n,updateShareLink:r,deleteShareLink:s,getShareLink:o,getShareLinkByAccessCode:i,getShareLinksByRecord:a,getShareLinksByClient:c,recordView:u,deactivateShareLink:h,activateShareLink:p,isShareLinkExpired:f,getActiveShareLinks:()=>t.filter(x=>x.isActive&&!f(x))}},fH=["愚者","魔术师","女祭司","皇后","皇帝","教皇","恋人","战车","力量","隐者","命运之轮","正义","倒吊人","死神","节制","恶魔","塔","星星","月亮","太阳","审判","世界"],dv=({open:t,onOpenChange:e,currentPhase:n,editRecord:r})=>{var nn;const{addProfessionalTarotRecord:s,updateProfessionalTarotRecord:o}=Ya(),{generateShareLink:i}=fu(),{updateClientConsultation:a}=Qa(),[c,u]=m.useState((r==null?void 0:r.clientId)||""),[h,p]=m.useState((r==null?void 0:r.question)||""),[f,v]=m.useState((r==null?void 0:r.cards)||[]),[x,y]=m.useState(""),[_,b]=m.useState((r==null?void 0:r.interpretation)||""),[w,C]=m.useState((r==null?void 0:r.advice)||""),[A,j]=m.useState((r==null?void 0:r.nextSteps)||""),[O,N]=m.useState(((nn=r==null?void 0:r.consultationFee)==null?void 0:nn.toString())||""),[S,P]=m.useState((r==null?void 0:r.presentation.theme)||"classic"),[T,R]=m.useState((r==null?void 0:r.presentation.includeAdvice)??!0),[D,k]=m.useState((r==null?void 0:r.presentation.includeNextSteps)??!0),[H,ee]=m.useState((r==null?void 0:r.shareSettings.isPublic)??!0),[Q,U]=m.useState((r==null?void 0:r.shareSettings.allowDownload)??!0),[M,F]=m.useState((r==null?void 0:r.shareSettings.password)||""),[Y,$]=m.useState(r!=null&&r.shareSettings.expiryDate?new Date(r.shareSettings.expiryDate).toISOString().split("T")[0]:""),[W,X]=m.useState({}),[ve,De]=m.useState(!1),[fe,ne]=m.useState("basic"),Ee=()=>{x.trim()&&!f.includes(x.trim())&&(v([...f,x.trim()]),y(""),W.cards&&X(re=>({...re,cards:""})))},Ie=re=>{v(f.filter(pt=>pt!==re))},xe=re=>{f.includes(re)||(v([...f,re]),W.cards&&X(pt=>({...pt,cards:""})))},Te=()=>{const re={};return c||(re.clientId="请选择客户"),h.trim()?h.trim().length<5&&(re.question="问题至少需要5个字符"):re.question="请输入占卜问题",f.length===0&&(re.cards="请至少选择一张塔罗牌"),_.trim()?_.trim().length<10&&(re.interpretation="解读内容至少需要10个字符"):re.interpretation="请输入解读内容",T&&!w.trim()&&(re.advice="请输入建议内容"),D&&!A.trim()&&(re.nextSteps="请输入下一步行动"),O&&(isNaN(Number(O))||Number(O)<0)&&(re.consultationFee="请输入有效的费用"),X(re),Object.keys(re).length===0},Se=async re=>{if(re.preventDefault(),!!Te()){De(!0);try{const pt={isPublic:H,allowDownload:Q,expiryDate:Y?new Date(Y):void 0,password:M||void 0,theme:S,includeAdvice:T,includeNextSteps:D},Vr={clientId:c,isForClient:!0,date:(r==null?void 0:r.date)||new Date,moonPhase:(n==null?void 0:n.name)||"新月",question:h.trim(),cards:f,interpretation:_.trim(),advice:T?w.trim():void 0,nextSteps:D?A.trim():void 0,consultationFee:O?Number(O):void 0,shareSettings:pt,presentation:{theme:S,includeAdvice:T,includeNextSteps:D}};let tt;if(r?(o(r.id,Vr),tt={...r,...Vr}):(tt=s(Vr),a(c)),H)try{await i(tt.id,c,pt)}catch(On){console.error("生成分享链接失败:",On)}dt(),e(!1)}catch(pt){console.error("保存专业塔罗记录时出错:",pt),X({submit:"保存失败，请重试"})}finally{De(!1)}}},dt=()=>{u(""),p(""),v([]),y(""),b(""),C(""),j(""),N(""),P("classic"),R(!0),k(!0),ee(!0),U(!0),F(""),$(""),X({}),ne("basic")},xt=re=>{switch(re){case"新月":return"新月能量适合询问新开始、设定意图和规划未来的问题";case"满月":return"满月能量适合询问完成、收获、成果和反思的问题";case"上弦月":return"上弦月能量适合询问行动、决策和克服挑战的问题";case"下弦月":return"下弦月能量适合询问释放、清理和结束的问题";default:return"根据月相能量调整占卜问题和解读方向"}};return l.jsx(gi,{open:t,onOpenChange:e,children:l.jsxs(xo,{className:"bg-white/95 backdrop-blur-xl border-gray-200 text-gray-900 max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(wo,{children:[l.jsxs(_o,{className:"text-xl font-light text-center flex items-center justify-center space-x-2",children:[l.jsx(Hn,{className:"h-6 w-6 text-purple-600"}),l.jsx("span",{children:r?"编辑专业塔罗记录":"创建专业塔罗记录"})]}),l.jsx(c0,{className:"text-center text-gray-600",children:"为客户创建专业的塔罗占卜记录，包含详细解读和分享设置。"})]}),l.jsxs("form",{onSubmit:Se,className:"space-y-6",children:[W.submit&&l.jsxs(w0,{className:"border-red-200 bg-red-50/80",children:[l.jsx(US,{className:"h-4 w-4 text-red-600"}),l.jsx(_0,{className:"text-red-800",children:W.submit})]}),n&&l.jsx(We,{className:"bg-purple-50/50 border-purple-200/50",children:l.jsxs(He,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[l.jsx(as,{className:"h-5 w-5 text-purple-600"}),l.jsx("span",{className:"text-purple-700",children:"当前月相"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl mb-1",children:n.emoji}),l.jsx("div",{className:"text-gray-800 font-medium",children:n.name}),l.jsx("div",{className:"text-sm text-purple-600 mt-2",children:xt(n.name)})]})]})}),l.jsxs(jI,{value:fe,onValueChange:ne,className:"w-full",children:[l.jsxs(S0,{className:"grid w-full grid-cols-3",children:[l.jsx(Ko,{value:"basic",children:"基础信息"}),l.jsx(Ko,{value:"presentation",children:"展示设置"}),l.jsx(Ko,{value:"sharing",children:"分享设置"})]}),l.jsxs(Qo,{value:"basic",className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{className:"text-gray-700",children:"选择客户"}),l.jsx(uH,{selectedClientId:c,onClientSelect:u,placeholder:"选择要为其占卜的客户"}),W.clientId&&l.jsx("p",{className:"text-red-600 text-sm",children:W.clientId})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{htmlFor:"fee",className:"text-gray-700",children:"咨询费用 (可选)"}),l.jsxs("div",{className:"relative",children:[l.jsx(jS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(At,{id:"fee",type:"number",value:O,onChange:re=>N(re.target.value),placeholder:"0",className:"pl-10 bg-white/70 border-gray-300",min:"0",step:"0.01"})]}),W.consultationFee&&l.jsx("p",{className:"text-red-600 text-sm",children:W.consultationFee})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{htmlFor:"question",className:"text-gray-700",children:"占卜问题"}),l.jsx(Sr,{id:"question",value:h,onChange:re=>p(re.target.value),placeholder:"输入客户的占卜问题...",className:"bg-white/70 border-gray-300 min-h-[80px]",rows:3}),W.question&&l.jsx("p",{className:"text-red-600 text-sm",children:W.question})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ue,{className:"text-gray-700",children:"抽取的塔罗牌"}),W.cards&&l.jsx("p",{className:"text-red-600 text-sm",children:W.cards}),f.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"已选择的牌:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((re,pt)=>l.jsxs(Ot,{variant:"secondary",className:"bg-purple-100 text-purple-800 pr-1",children:[re,l.jsx("button",{type:"button",onClick:()=>Ie(re),className:"ml-2 text-purple-600 hover:text-purple-800",children:l.jsx(af,{className:"h-3 w-3"})})]},pt))})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(At,{value:x,onChange:re=>y(re.target.value),placeholder:"输入塔罗牌名称...",className:"bg-white/70 border-gray-300",onKeyPress:re=>re.key==="Enter"&&(re.preventDefault(),Ee())}),l.jsx(ue,{type:"button",onClick:Ee,disabled:!x.trim(),children:l.jsx(xa,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"常用塔罗牌:"}),l.jsx("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto",children:fH.map(re=>l.jsx("button",{type:"button",onClick:()=>xe(re),disabled:f.includes(re),className:`px-3 py-1 text-sm rounded-full border transition-colors ${f.includes(re)?"bg-purple-600 text-white border-purple-600":"bg-white/80 text-purple-700 border-purple-300 hover:bg-purple-50"}`,children:re},re))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{htmlFor:"interpretation",className:"text-gray-700",children:"牌面解读"}),l.jsx(Sr,{id:"interpretation",value:_,onChange:re=>b(re.target.value),placeholder:"详细解读这次占卜的牌面含义...",className:"bg-white/70 border-gray-300 min-h-[120px]",rows:5}),W.interpretation&&l.jsx("p",{className:"text-red-600 text-sm",children:W.interpretation})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{htmlFor:"advice",className:"text-gray-700",children:"建议"}),l.jsx(Sr,{id:"advice",value:w,onChange:re=>C(re.target.value),placeholder:"给客户的建议和指导...",className:"bg-white/70 border-gray-300 min-h-[100px]",rows:4}),W.advice&&l.jsx("p",{className:"text-red-600 text-sm",children:W.advice})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{htmlFor:"nextSteps",className:"text-gray-700",children:"下一步行动"}),l.jsx(Sr,{id:"nextSteps",value:A,onChange:re=>j(re.target.value),placeholder:"建议客户采取的具体行动步骤...",className:"bg-white/70 border-gray-300 min-h-[100px]",rows:4}),W.nextSteps&&l.jsx("p",{className:"text-red-600 text-sm",children:W.nextSteps})]})]}),l.jsxs(Qo,{value:"presentation",className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{className:"text-gray-700",children:"展示主题"}),l.jsxs(Rc,{value:S,onValueChange:re=>P(re),children:[l.jsx(Ca,{className:"bg-white/70 border-gray-300",children:l.jsx(kc,{})}),l.jsxs(Sa,{className:"bg-white border-gray-200",children:[l.jsx(sr,{value:"classic",children:"经典主题"}),l.jsx(sr,{value:"modern",children:"现代主题"}),l.jsx(sr,{value:"mystical",children:"神秘主题"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"包含建议"}),l.jsx("div",{className:"text-sm text-gray-600",children:"在客户端显示建议内容"})]}),l.jsx(Rl,{checked:T,onCheckedChange:R})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"包含下一步行动"}),l.jsx("div",{className:"text-sm text-gray-600",children:"在客户端显示行动步骤"})]}),l.jsx(Rl,{checked:D,onCheckedChange:k})]})]})]}),l.jsxs(Qo,{value:"sharing",className:"space-y-4",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"公开分享"}),l.jsx("div",{className:"text-sm text-gray-600",children:"允许通过链接访问"})]}),l.jsx(Rl,{checked:H,onCheckedChange:ee})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"允许下载"}),l.jsx("div",{className:"text-sm text-gray-600",children:"允许客户保存和下载"})]}),l.jsx(Rl,{checked:Q,onCheckedChange:U})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{htmlFor:"password",className:"text-gray-700",children:"访问密码 (可选)"}),l.jsx(At,{id:"password",type:"password",value:M,onChange:re=>F(re.target.value),placeholder:"设置访问密码...",className:"bg-white/70 border-gray-300"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{htmlFor:"expiry",className:"text-gray-700",children:"过期时间 (可选)"}),l.jsx(At,{id:"expiry",type:"date",value:Y,onChange:re=>$(re.target.value),className:"bg-white/70 border-gray-300",min:new Date().toISOString().split("T")[0]})]})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx(ue,{type:"button",variant:"outline",onClick:()=>e(!1),className:"flex-1",children:"取消"}),l.jsx(ue,{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600",disabled:ve,children:ve?"保存中...":r?"更新记录":"创建记录"})]})]})]})})},pH=()=>{const{currentPhase:t}=Ny(),e=$T(),[n,r]=m.useState(!1),[s,o]=m.useState(!1),[i,a]=m.useState(!1),[c,u]=m.useState(null),h=f=>{u(f),o(!0)},p=f=>{o(f),f||u(null)};return l.jsx("div",{className:"min-h-screen bg-white/90",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6",children:[l.jsx("div",{className:"bg-white/50 rounded-lg border border-gray-200 p-4",children:l.jsx(QL,{})}),l.jsxs("div",{className:"flex flex-wrap gap-4",children:[l.jsxs(ue,{className:"bg-white hover:bg-gray-50",onClick:()=>r(!0),children:[l.jsx(xa,{className:"h-4 w-4 mr-2"}),"新建项目"]}),l.jsxs(ue,{variant:"outline",className:"border-gray-200 hover:bg-gray-50",onClick:()=>o(!0),children:[l.jsx(Hn,{className:"h-4 w-4 mr-2"}),"塔罗记录"]}),l.jsxs(ue,{variant:"outline",className:"border-gray-200 hover:bg-gray-50",onClick:()=>a(!0),children:[l.jsx($S,{className:"h-4 w-4 mr-2"}),"专业咨询"]}),l.jsxs(ue,{variant:"outline",className:"border-gray-200 hover:bg-gray-50",onClick:()=>e("/clients"),children:[l.jsx(Ed,{className:"h-4 w-4 mr-2"}),"客户管理"]})]}),l.jsx("div",{className:"bg-white/50 rounded-lg border border-gray-200 shadow",children:l.jsx(C9,{})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-white/50 rounded-lg border border-gray-200 p-6",children:[l.jsxs("h2",{className:"text-xl font-light mb-4 flex items-center gap-2",children:[l.jsx(is,{className:"h-5 w-5"}),"项目概览"]}),l.jsx(D6,{})]})}),l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-white/50 rounded-lg border border-gray-200 p-6",children:[l.jsxs("h2",{className:"text-xl font-light mb-4 flex items-center gap-2",children:[l.jsx(Hn,{className:"h-5 w-5"}),"塔罗记录"]}),l.jsx(w9,{onEditRecord:h})]})})]}),l.jsx(K7,{open:n,onOpenChange:r,currentPhase:t}),l.jsx(J7,{open:s,onOpenChange:p,currentPhase:t,editRecord:c}),l.jsx(dv,{open:i,onOpenChange:a,currentPhase:t})]})})},jb=({client:t,onEdit:e,onDelete:n})=>{const[r,s]=m.useState(!1),[o,i]=m.useState(t),{updateClient:a}=Qa(),{getClientTarotRecords:c}=Ya(),u=c(t.id),h=()=>{a(t.id,o),s(!1),e&&e(o)},p=()=>{i(t),s(!1)},f=v=>v.split(" ").map(x=>x[0]).join("").toUpperCase();return l.jsxs(We,{className:"bg-white/50 border-gray-200 hover:shadow-md transition-shadow",children:[l.jsx(_r,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs(Gl,{className:"h-12 w-12",children:[l.jsx(ql,{src:t.avatar}),l.jsx(Kl,{className:"bg-purple-100 text-purple-600",children:f(t.name)})]}),l.jsxs("div",{children:[l.jsx(br,{className:"text-lg",children:t.name}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(Ot,{variant:"secondary",className:"bg-green-100 text-green-700",children:t.isActive?"活跃":"不活跃"}),l.jsxs(Ot,{variant:"outline",className:"text-xs",children:[t.totalConsultations," 次咨询"]})]})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(gi,{open:r,onOpenChange:s,children:[l.jsx(l0,{asChild:!0,children:l.jsx(ue,{variant:"ghost",size:"sm",children:l.jsx(FS,{className:"h-4 w-4"})})}),l.jsxs(xo,{className:"bg-white/95 backdrop-blur-xl",children:[l.jsx(wo,{children:l.jsx(_o,{children:"编辑客户信息"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{htmlFor:"name",children:"姓名"}),l.jsx(At,{id:"name",value:o.name,onChange:v=>i({...o,name:v.target.value}),className:"bg-white/70"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{htmlFor:"email",children:"邮箱"}),l.jsx(At,{id:"email",type:"email",value:o.email||"",onChange:v=>i({...o,email:v.target.value}),className:"bg-white/70"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{htmlFor:"phone",children:"电话"}),l.jsx(At,{id:"phone",value:o.phone||"",onChange:v=>i({...o,phone:v.target.value}),className:"bg-white/70"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{htmlFor:"notes",children:"备注"}),l.jsx(Sr,{id:"notes",value:o.notes||"",onChange:v=>i({...o,notes:v.target.value}),className:"bg-white/70",rows:3})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(ue,{variant:"outline",onClick:p,children:"取消"}),l.jsx(ue,{onClick:h,children:"保存"})]})]})]})]}),n&&l.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>n(t.id),className:"text-red-600 hover:text-red-700",children:l.jsx(hy,{className:"h-4 w-4"})})]})]})}),l.jsxs(He,{className:"space-y-3",children:[l.jsxs("div",{className:"space-y-2",children:[t.email&&l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(DM,{className:"h-4 w-4 mr-2"}),t.email]}),t.phone&&l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(MM,{className:"h-4 w-4 mr-2"}),t.phone]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 py-3 border-t border-gray-200",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center mb-1",children:[l.jsx(LM,{className:"h-4 w-4 text-blue-600 mr-1"}),l.jsx("span",{className:"text-sm text-gray-600",children:"总咨询"})]}),l.jsx("div",{className:"text-xl font-semibold text-blue-600",children:t.totalConsultations})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center mb-1",children:[l.jsx(is,{className:"h-4 w-4 text-green-600 mr-1"}),l.jsx("span",{className:"text-sm text-gray-600",children:"最近咨询"})]}),l.jsx("div",{className:"text-sm text-green-600",children:t.lastConsultation?Oe(t.lastConsultation,"MM/dd"):"暂无"})]})]}),t.notes&&l.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(jM,{className:"h-4 w-4 text-gray-500 mr-2"}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"备注"})]}),l.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:t.notes})]}),u.length>0&&l.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[l.jsx("div",{className:"flex items-center mb-2",children:l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"最近记录"})}),l.jsx("div",{className:"space-y-1",children:u.slice(0,2).map(v=>l.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 p-2 rounded",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{children:Oe(v.date,"MM/dd")}),l.jsx("span",{className:"text-purple-600",children:v.moonPhase})]}),l.jsx("p",{className:"truncate mt-1",children:v.question})]},v.id))})]}),l.jsxs("div",{className:"text-xs text-gray-400 pt-2 border-t border-gray-200",children:["创建于 ",Oe(t.createdAt,"yyyy/MM/dd")]})]})]})},mH=({client:t,onRecordSelect:e})=>{const{getClientTarotRecords:n}=Ya(),{getShareLinksByClient:r}=fu(),[s,o]=m.useState(""),[i,a]=m.useState("date"),[c,u]=m.useState("desc"),[h,p]=m.useState(null),f=n(t.id),v=r(t.id),y=[...f.filter(C=>C.question.toLowerCase().includes(s.toLowerCase())||C.interpretation.toLowerCase().includes(s.toLowerCase())||C.cards.some(A=>A.toLowerCase().includes(s.toLowerCase())))].sort((C,A)=>{if(i==="date")return c==="desc"?new Date(A.date).getTime()-new Date(C.date).getTime():new Date(C.date).getTime()-new Date(A.date).getTime();{const j=C.consultationFee||0,O=A.consultationFee||0;return c==="desc"?O-j:j-O}}),_=C=>{switch(C){case"新月":return"🌑";case"上弦月":return"🌓";case"满月":return"🌕";case"下弦月":return"🌗";default:return"🌙"}},b=C=>v.find(A=>A.tarotRecordId===C),w=f.reduce((C,A)=>C+(A.consultationFee||0),0);return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsx(We,{className:"bg-white/50 border-gray-200",children:l.jsxs(He,{className:"p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:f.length}),l.jsx("div",{className:"text-sm text-gray-600",children:"总咨询次数"})]})}),l.jsx(We,{className:"bg-white/50 border-gray-200",children:l.jsxs(He,{className:"p-4 text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["¥",w]}),l.jsx("div",{className:"text-sm text-gray-600",children:"总收入"})]})}),l.jsx(We,{className:"bg-white/50 border-gray-200",children:l.jsxs(He,{className:"p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:v.length}),l.jsx("div",{className:"text-sm text-gray-600",children:"分享链接"})]})})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(of,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(At,{placeholder:"搜索记录...",value:s,onChange:C=>o(C.target.value),className:"pl-10 bg-white/70"})]}),l.jsxs(ue,{variant:"outline",onClick:()=>{i==="date"?u(c==="desc"?"asc":"desc"):(a("date"),u("desc"))},className:"flex items-center gap-2",children:[l.jsx(is,{className:"h-4 w-4"}),"日期",l.jsx(y1,{className:"h-4 w-4"})]}),l.jsxs(ue,{variant:"outline",onClick:()=>{i==="fee"?u(c==="desc"?"asc":"desc"):(a("fee"),u("desc"))},className:"flex items-center gap-2",children:[l.jsx(jS,{className:"h-4 w-4"}),"费用",l.jsx(y1,{className:"h-4 w-4"})]})]}),l.jsx("div",{className:"space-y-3",children:y.length>0?y.map(C=>{const A=b(C.id);return l.jsx(We,{className:"bg-white/50 border-gray-200 hover:shadow-md transition-shadow",children:l.jsx(He,{className:"p-4",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[l.jsx(is,{className:"h-4 w-4"}),Oe(C.date,"yyyy/MM/dd HH:mm")]}),l.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[l.jsx(as,{className:"h-4 w-4"}),C.moonPhase,l.jsx("span",{className:"text-lg",children:_(C.moonPhase)})]}),C.consultationFee&&l.jsxs(Ot,{variant:"secondary",className:"bg-green-100 text-green-700",children:["¥",C.consultationFee]})]}),l.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:C.question}),l.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:C.cards.map((j,O)=>l.jsx(Ot,{variant:"outline",className:"text-xs",children:j},O))}),l.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:C.interpretation}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[A&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(vc,{className:"h-3 w-3"}),l.jsxs("span",{children:[A.views," 次浏览"]})]}),C.advice&&l.jsx(Ot,{variant:"outline",className:"text-xs",children:"包含建议"}),C.nextSteps&&l.jsx(Ot,{variant:"outline",className:"text-xs",children:"包含步骤"})]})]}),l.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[l.jsxs(gi,{children:[l.jsx(l0,{asChild:!0,children:l.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>p(C),children:l.jsx(vc,{className:"h-4 w-4"})})}),l.jsxs(xo,{className:"bg-white/95 backdrop-blur-xl max-w-2xl",children:[l.jsx(wo,{children:l.jsx(_o,{children:"占卜记录详情"})}),h&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-4 p-3 bg-purple-50 rounded",children:[l.jsx("div",{className:"text-2xl",children:_(h.moonPhase)}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:h.moonPhase}),l.jsx("div",{className:"text-sm text-gray-600",children:Oe(h.date,"yyyy年MM月dd日 HH:mm")})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"占卜问题"}),l.jsx("p",{className:"text-gray-700",children:h.question})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"选择的牌"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:h.cards.map((j,O)=>l.jsx(Ot,{variant:"secondary",children:j},O))})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"解读"}),l.jsx("p",{className:"text-gray-700",children:h.interpretation})]}),h.advice&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"建议"}),l.jsx("p",{className:"text-gray-700",children:h.advice})]}),h.nextSteps&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"下一步行动"}),l.jsx("p",{className:"text-gray-700",children:h.nextSteps})]}),A&&l.jsx("div",{className:"p-3 bg-gray-50 rounded",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"分享链接"}),l.jsxs("div",{className:"text-sm text-gray-600",children:["访问码: ",A.accessCode]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-sm text-gray-600",children:[A.views," 次浏览"]}),A.lastViewed&&l.jsxs("div",{className:"text-xs text-gray-500",children:["最后浏览: ",Oe(A.lastViewed,"MM/dd HH:mm")]})]})]})})]})]})]}),e&&l.jsx(ue,{variant:"outline",size:"sm",onClick:()=>e(C),children:l.jsx(Hn,{className:"h-4 w-4"})})]})]})})},C.id)}):l.jsx(We,{className:"bg-white/50 border-gray-200",children:l.jsxs(He,{className:"p-8 text-center",children:[l.jsx(Hn,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),l.jsx("p",{className:"text-gray-500",children:s?"未找到匹配的记录":"暂无咨询记录"})]})})})]})},gH=({clientId:t,onLinkSelect:e})=>{const{shareLinks:n,deleteShareLink:r,deactivateShareLink:s,activateShareLink:o,isShareLinkExpired:i,getActiveShareLinks:a}=fu(),{getProfessionalTarotRecord:c}=Ya(),{getClient:u}=Qa(),[h,p]=m.useState(""),[f,v]=m.useState("all"),[x,y]=m.useState(null),[_,b]=m.useState(null),w=n.filter(T=>{if(t&&T.clientId!==t||f==="active"&&(!T.isActive||i(T))||f==="expired"&&T.isActive&&!i(T))return!1;if(h){const R=c(T.tarotRecordId),D=u(T.clientId);return[T.accessCode,D==null?void 0:D.name,R==null?void 0:R.question].join(" ").toLowerCase().includes(h.toLowerCase())}return!0}),C=async T=>{try{const R=`${window.location.origin}${T}`;await navigator.clipboard.writeText(R),y(T),setTimeout(()=>y(null),2e3)}catch(R){console.error("复制链接失败:",R)}},A=async T=>{try{await r(T)}catch(R){console.error("删除分享链接失败:",R)}},j=async T=>{try{T.isActive?await s(T.id):await o(T.id)}catch(R){console.error("切换分享链接状态失败:",R)}},O=T=>{const R=`${window.location.origin}${T}`;window.open(`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(R)}`,"_blank")},N=T=>{const R=`${window.location.origin}${T}`;window.open(R,"_blank")},S=T=>T.isActive?i(T)?{status:"expired",color:"bg-red-100 text-red-700"}:{status:"active",color:"bg-green-100 text-green-700"}:{status:"inactive",color:"bg-gray-100 text-gray-700"},P=T=>{switch(T){case"active":return"有效";case"expired":return"已过期";case"inactive":return"已停用";default:return"未知"}};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(of,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(At,{placeholder:"搜索链接...",value:h,onChange:T=>p(T.target.value),className:"pl-10 bg-white/70"})]}),l.jsxs(Mg,{children:[l.jsx(Og,{asChild:!0,children:l.jsxs(ue,{variant:"outline",className:"flex items-center gap-2",children:[l.jsx(AM,{className:"h-4 w-4"}),"筛选"]})}),l.jsxs(yh,{children:[l.jsx(Yr,{onClick:()=>v("all"),children:"所有链接"}),l.jsx(Yr,{onClick:()=>v("active"),children:"有效链接"}),l.jsx(Yr,{onClick:()=>v("expired"),children:"过期链接"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsx(We,{className:"bg-white/50 border-gray-200",children:l.jsxs(He,{className:"p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.length}),l.jsx("div",{className:"text-sm text-gray-600",children:"总链接数"})]})}),l.jsx(We,{className:"bg-white/50 border-gray-200",children:l.jsxs(He,{className:"p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:a().length}),l.jsx("div",{className:"text-sm text-gray-600",children:"有效链接"})]})}),l.jsx(We,{className:"bg-white/50 border-gray-200",children:l.jsxs(He,{className:"p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:n.reduce((T,R)=>T+R.views,0)}),l.jsx("div",{className:"text-sm text-gray-600",children:"总浏览量"})]})})]}),l.jsx("div",{className:"space-y-3",children:w.length>0?w.map(T=>{const R=c(T.tarotRecordId),D=u(T.clientId),k=S(T);return l.jsx(We,{className:"bg-white/50 border-gray-200 hover:shadow-md transition-shadow",children:l.jsx(He,{className:"p-4",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(LS,{className:"h-4 w-4 text-gray-600"}),l.jsx("span",{className:"font-mono text-sm font-medium",children:T.accessCode}),l.jsx(Ot,{className:`text-xs ${k.color}`,children:P(k.status)}),T.expiresAt&&l.jsxs(Ot,{variant:"outline",className:"text-xs",children:[l.jsx(x1,{className:"h-3 w-3 mr-1"}),Oe(T.expiresAt,"MM/dd")]})]}),l.jsxs("div",{className:"space-y-1 mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ot,{variant:"outline",className:"bg-purple-100 text-purple-700",children:D==null?void 0:D.name}),l.jsx("span",{className:"text-sm text-gray-500",children:R==null?void 0:R.moonPhase})]}),R&&l.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:R.question})]}),l.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(vc,{className:"h-3 w-3"}),l.jsxs("span",{children:[T.views," 次浏览"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(is,{className:"h-3 w-3"}),l.jsxs("span",{children:["创建于 ",Oe(T.createdAt,"MM/dd")]})]}),T.lastViewed&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(x1,{className:"h-3 w-3"}),l.jsxs("span",{children:["最后浏览 ",Oe(T.lastViewed,"MM/dd HH:mm")]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-1 ml-4",children:[l.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>C(T.url),className:"h-8 w-8 p-0",children:x===T.url?l.jsx(sh,{className:"h-4 w-4 text-green-600"}):l.jsx(w1,{className:"h-4 w-4"})}),l.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>N(T.url),className:"h-8 w-8 p-0",children:l.jsx(IM,{className:"h-4 w-4"})}),l.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>O(T.url),className:"h-8 w-8 p-0",children:l.jsx(OM,{className:"h-4 w-4"})}),l.jsxs(Mg,{children:[l.jsx(Og,{asChild:!0,children:l.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(MS,{className:"h-4 w-4"})})}),l.jsxs(yh,{align:"end",children:[l.jsxs(Yr,{onClick:()=>b(T),children:[l.jsx(kS,{className:"h-4 w-4 mr-2"}),"查看详情"]}),l.jsx(Yr,{onClick:()=>j(T),children:T.isActive?l.jsxs(l.Fragment,{children:[l.jsx(xg,{className:"h-4 w-4 mr-2"}),"停用链接"]}):l.jsxs(l.Fragment,{children:[l.jsx(xg,{className:"h-4 w-4 mr-2"}),"启用链接"]})}),l.jsx(g2,{}),l.jsxs(nP,{children:[l.jsx(y9,{asChild:!0,children:l.jsxs(Yr,{className:"text-red-600 focus:text-red-600",onSelect:H=>H.preventDefault(),children:[l.jsx(hy,{className:"h-4 w-4 mr-2"}),"删除链接"]})}),l.jsxs(e0,{children:[l.jsxs(t0,{children:[l.jsx(r0,{children:"确认删除"}),l.jsxs(s0,{children:['确定要删除访问码为 "',T.accessCode,'" 的分享链接吗？此操作无法撤销。']})]}),l.jsxs(n0,{children:[l.jsx(i0,{children:"取消"}),l.jsx(o0,{onClick:()=>A(T.id),children:"删除"})]})]})]})]})]})]})]})})},T.id)}):l.jsx(We,{className:"bg-white/50 border-gray-200",children:l.jsxs(He,{className:"p-8 text-center",children:[l.jsx(VS,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),l.jsx("p",{className:"text-gray-500",children:h||f!=="all"?"未找到匹配的链接":"暂无分享链接"})]})})}),l.jsx(gi,{open:!!_,onOpenChange:()=>b(null),children:l.jsxs(xo,{className:"bg-white/95 backdrop-blur-xl max-w-2xl",children:[l.jsx(wo,{children:l.jsx(_o,{children:"链接详情"})}),_&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"访问码"}),l.jsx("div",{className:"font-mono text-lg",children:_.accessCode})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"状态"}),l.jsx(Ot,{className:`${S(_).color}`,children:P(S(_).status)})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"浏览次数"}),l.jsx("div",{className:"text-lg",children:_.views})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"创建时间"}),l.jsx("div",{children:Oe(_.createdAt,"yyyy/MM/dd HH:mm")})]}),_.lastViewed&&l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"最后浏览"}),l.jsx("div",{children:Oe(_.lastViewed,"yyyy/MM/dd HH:mm")})]}),_.expiresAt&&l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"过期时间"}),l.jsx("div",{children:Oe(_.expiresAt,"yyyy/MM/dd HH:mm")})]})]}),l.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[l.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"完整链接"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("code",{className:"flex-1 p-2 bg-white rounded text-sm",children:[window.location.origin,_.url]}),l.jsx(ue,{variant:"outline",size:"sm",onClick:()=>C(_.url),children:x===_.url?l.jsx(sh,{className:"h-4 w-4"}):l.jsx(w1,{className:"h-4 w-4"})})]})]})]})]})})]})},vH=()=>{const{clients:t,deleteClient:e}=Qa(),{professionalTarotRecords:n,getClientTarotRecords:r}=Ya(),{shareLinks:s,getShareLinksByClient:o}=fu(),{currentPhase:i}=Ny(),[a,c]=m.useState(""),[u,h]=m.useState("all"),[p,f]=m.useState(null),[v,x]=m.useState(!1),[y,_]=m.useState("overview"),b=t.filter(S=>u==="active"&&!S.isActive||u==="inactive"&&S.isActive?!1:a?[S.name,S.email,S.phone,S.notes].join(" ").toLowerCase().includes(a.toLowerCase()):!0),w=n.reduce((S,P)=>S+(P.consultationFee||0),0),C=n.length,A=s.reduce((S,P)=>S+P.views,0),j=S=>{e(S)},O=S=>{f(S),x(!0)},N=()=>{f(null),_("overview")};return p?l.jsx("div",{className:"min-h-screen bg-white/90",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(ue,{variant:"ghost",onClick:N,className:"flex items-center gap-2",children:[l.jsx(CM,{className:"h-4 w-4"}),"返回客户列表"]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-100 flex items-center justify-center",children:l.jsx(Ed,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-light",children:p.name}),l.jsx("p",{className:"text-gray-600",children:"客户详情管理"})]})]}),l.jsx("div",{className:"ml-auto",children:l.jsxs(ue,{onClick:()=>O(p),className:"bg-gradient-to-r from-purple-600 to-pink-600",children:[l.jsx(xa,{className:"h-4 w-4 mr-2"}),"新建咨询"]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsx(jb,{client:p,onDelete:j})}),l.jsx("div",{className:"lg:col-span-2",children:l.jsxs(jI,{value:y,onValueChange:_,className:"w-full",children:[l.jsxs(S0,{className:"grid w-full grid-cols-3",children:[l.jsx(Ko,{value:"overview",children:"概览"}),l.jsx(Ko,{value:"history",children:"咨询记录"}),l.jsx(Ko,{value:"shares",children:"分享链接"})]}),l.jsx(Qo,{value:"overview",className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs(We,{className:"bg-white/50 border-gray-200",children:[l.jsx(_r,{className:"pb-3",children:l.jsxs(br,{className:"text-lg flex items-center gap-2",children:[l.jsx(kS,{className:"h-5 w-5 text-blue-600"}),"咨询统计"]})}),l.jsx(He,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"总咨询次数"}),l.jsx("span",{className:"font-medium",children:r(p.id).length})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"本月咨询"}),l.jsx("span",{className:"font-medium",children:r(p.id).filter(S=>new Date(S.date).getMonth()===new Date().getMonth()).length})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"总收入"}),l.jsxs("span",{className:"font-medium text-green-600",children:["¥",r(p.id).reduce((S,P)=>S+(P.consultationFee||0),0)]})]})]})})]}),l.jsxs(We,{className:"bg-white/50 border-gray-200",children:[l.jsx(_r,{className:"pb-3",children:l.jsxs(br,{className:"text-lg flex items-center gap-2",children:[l.jsx(LS,{className:"h-5 w-5 text-purple-600"}),"分享统计"]})}),l.jsx(He,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"分享链接"}),l.jsx("span",{className:"font-medium",children:o(p.id).length})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"总浏览量"}),l.jsx("span",{className:"font-medium",children:o(p.id).reduce((S,P)=>S+P.views,0)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"活跃链接"}),l.jsx("span",{className:"font-medium text-green-600",children:o(p.id).filter(S=>S.isActive).length})]})]})})]})]})}),l.jsx(Qo,{value:"history",children:l.jsx(mH,{client:p,onRecordSelect:S=>{console.log("Selected record:",S)}})}),l.jsx(Qo,{value:"shares",children:l.jsx(gH,{clientId:p.id,onLinkSelect:S=>{console.log("Selected link:",S)}})})]})})]}),l.jsx(dv,{open:v,onOpenChange:x,currentPhase:i})]})}):l.jsx("div",{className:"min-h-screen bg-white/90",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-100 flex items-center justify-center",children:l.jsx(Ed,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-light",children:"客户管理"}),l.jsx("p",{className:"text-gray-600",children:"管理您的客户信息和咨询记录"})]})]}),l.jsxs(ue,{onClick:()=>x(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600",children:[l.jsx(xa,{className:"h-4 w-4 mr-2"}),"新建咨询"]})]}),l.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[l.jsx(We,{className:"bg-white/50 border-gray-200",children:l.jsxs(He,{className:"p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.length}),l.jsx("div",{className:"text-sm text-gray-600",children:"总客户数"})]})}),l.jsx(We,{className:"bg-white/50 border-gray-200",children:l.jsxs(He,{className:"p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:C}),l.jsx("div",{className:"text-sm text-gray-600",children:"总咨询次数"})]})}),l.jsx(We,{className:"bg-white/50 border-gray-200",children:l.jsxs(He,{className:"p-4 text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["¥",w]}),l.jsx("div",{className:"text-sm text-gray-600",children:"总收入"})]})}),l.jsx(We,{className:"bg-white/50 border-gray-200",children:l.jsxs(He,{className:"p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-orange-600",children:A}),l.jsx("div",{className:"text-sm text-gray-600",children:"总浏览量"})]})})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(of,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(At,{placeholder:"搜索客户...",value:a,onChange:S=>c(S.target.value),className:"pl-10 bg-white/70"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ue,{variant:u==="all"?"default":"outline",onClick:()=>h("all"),size:"sm",children:"全部"}),l.jsx(ue,{variant:u==="active"?"default":"outline",onClick:()=>h("active"),size:"sm",children:"活跃"}),l.jsx(ue,{variant:u==="inactive"?"default":"outline",onClick:()=>h("inactive"),size:"sm",children:"不活跃"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.length>0?b.map(S=>l.jsxs("div",{className:"relative group",children:[l.jsx(jb,{client:S,onDelete:j}),l.jsx("div",{className:"absolute inset-0 bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(ue,{variant:"secondary",size:"sm",onClick:()=>f(S),children:[l.jsx(vc,{className:"h-4 w-4 mr-1"}),"查看详情"]}),l.jsxs(ue,{variant:"secondary",size:"sm",onClick:()=>O(S),children:[l.jsx(Hn,{className:"h-4 w-4 mr-1"}),"新建咨询"]})]})})]},S.id)):l.jsx("div",{className:"col-span-full",children:l.jsx(We,{className:"bg-white/50 border-gray-200",children:l.jsxs(He,{className:"p-8 text-center",children:[l.jsx(Ed,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),l.jsx("p",{className:"text-gray-500",children:a||u!=="all"?"未找到匹配的客户":"暂无客户"})]})})})}),l.jsx(dv,{open:v,onOpenChange:x,currentPhase:i})]})})},yH=()=>{const{shareId:t}=bL(),e=$T(),{getProfessionalTarotRecord:n,professionalTarotRecords:r}=Ya(),{getShareLinkByAccessCode:s,recordView:o,shareLinks:i}=fu(),{getClient:a,clients:c}=Qa(),[u,h]=m.useState(null),[p,f]=m.useState(null),[v,x]=m.useState(null),[y,_]=m.useState(null),[b,w]=m.useState(!1),[C,A]=m.useState(""),[j,O]=m.useState(""),[N,S]=m.useState(!0),[P,T]=m.useState(""),[R,D]=m.useState(!1),[k,H]=m.useState(!1);m.useEffect(()=>{i.length>0&&r.length>0&&c.length>0&&H(!0)},[i.length,r.length,c.length]),m.useEffect(()=>{k&&t&&ee()},[k,t]);const ee=async()=>{var W;try{S(!0),T("");const X=s(t);if(!X){T("分享链接不存在或已失效");return}if(X.expiresAt&&new Date>X.expiresAt){T("分享链接已过期");return}if(!X.isActive){T("分享链接已被禁用");return}h(X);const ve=n(X.tarotRecordId);if(!ve){T("占卜记录不存在");return}f(ve);const De=a(X.clientId);if(!De){T("客户信息不存在");return}if(x(De),_({name:"月相占卜师",description:"专业塔罗咨询师，擅长结合月相能量解读人生指引",contact:"consultant@example.com"}),(W=ve.shareSettings)!=null&&W.password)w(!0);else{D(!0);try{await o(t)}catch(fe){console.error("记录访问失败:",fe)}}}catch(X){console.error("加载塔罗记录失败:",X),T("加载失败，请稍后重试")}finally{S(!1)}},Q=async W=>{if(W.preventDefault(),!(!p||!u))if(C===p.shareSettings.password){D(!0),O("");try{await o(t)}catch(X){console.error("记录访问失败:",X)}}else O("密码错误，请重试")},U=W=>{switch(W){case"新月":return"🌑";case"上弦月":return"🌓";case"满月":return"🌕";case"下弦月":return"🌗";case"峨眉月":return"🌒";case"盈凸月":return"🌔";case"亏凸月":return"🌖";case"残月":return"🌘";default:return"🌙"}},M=W=>{switch(W){case"modern":return{bg:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",card:"bg-white/10 backdrop-blur-xl border-white/20",text:"text-white",accent:"text-purple-300"};case"mystical":return{bg:"bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",card:"bg-white/10 backdrop-blur-xl border-purple-300/20",text:"text-white",accent:"text-purple-200"};default:return{bg:"bg-gradient-to-br from-amber-50 via-orange-50 to-red-50",card:"bg-white/80 backdrop-blur-sm border-amber-200/50",text:"text-gray-900",accent:"text-amber-700"}}},F=()=>{window.print()},Y=()=>{const W=window.location.href;navigator.share?navigator.share({title:"塔罗占卜结果",text:`查看我的塔罗占卜结果：${p==null?void 0:p.question}`,url:W}):navigator.clipboard.writeText(W)};if(N)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-white",children:[l.jsx(Hn,{className:"h-12 w-12 mx-auto mb-4 animate-pulse"}),l.jsx("p",{className:"text-lg",children:"正在加载占卜结果..."})]})});if(P)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-900 via-purple-900 to-blue-900 flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-white max-w-md",children:[l.jsx(TM,{className:"h-12 w-12 mx-auto mb-4 text-red-400"}),l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"访问受限"}),l.jsx("p",{className:"text-gray-300 mb-4",children:P}),l.jsx(ue,{onClick:()=>e("/"),variant:"outline",className:"text-white border-white hover:bg-white hover:text-gray-900",children:"返回首页"})]})});if(b&&!R)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:l.jsxs(We,{className:"bg-white/10 backdrop-blur-xl border-white/20 max-w-md w-full mx-4",children:[l.jsxs(_r,{className:"text-center",children:[l.jsx("div",{className:"h-16 w-16 mx-auto mb-4 rounded-full bg-purple-100/20 flex items-center justify-center",children:l.jsx(kM,{className:"h-8 w-8 text-purple-300"})}),l.jsx(br,{className:"text-white text-xl",children:"访问验证"}),l.jsx("p",{className:"text-gray-300 text-sm",children:"此占卜记录需要密码才能访问"})]}),l.jsx(He,{children:l.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{htmlFor:"password",className:"text-white",children:"访问密码"}),l.jsx(At,{id:"password",type:"password",value:C,onChange:W=>A(W.target.value),placeholder:"请输入密码",className:"bg-white/20 border-white/30 text-white placeholder:text-gray-300"}),j&&l.jsx("p",{className:"text-red-400 text-sm",children:j})]}),l.jsx(ue,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700",children:"验证访问"})]})})]})});if(!p||!v||!R)return null;const $=M(p.presentation.theme);return l.jsxs("div",{className:`min-h-screen ${$.bg}`,children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-32 bg-gradient-to-b from-black/20 to-transparent"}),l.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 py-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[l.jsx(Hn,{className:`h-8 w-8 ${$.accent}`}),l.jsx("h1",{className:`text-3xl font-light ${$.text}`,children:"塔罗占卜结果"}),l.jsx(Hn,{className:`h-8 w-8 ${$.accent}`})]}),l.jsxs("p",{className:`${$.text} opacity-80`,children:[y.name," 为您解读"]})]}),l.jsx(We,{className:`${$.card} mb-8`,children:l.jsxs(He,{className:"p-6 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[l.jsx(as,{className:`h-6 w-6 ${$.accent}`}),l.jsx("span",{className:`text-lg ${$.text}`,children:"占卜月相"})]}),l.jsx("div",{className:"text-4xl mb-2",children:U(p.moonPhase)}),l.jsx("div",{className:`text-xl font-medium ${$.text} mb-2`,children:p.moonPhase}),l.jsx("div",{className:`text-sm ${$.text} opacity-70`,children:Oe(p.date,"yyyy年MM月dd日")})]})}),l.jsxs(We,{className:`${$.card} mb-8`,children:[l.jsx(_r,{children:l.jsxs(br,{className:`${$.text} flex items-center gap-2`,children:[l.jsx(OS,{className:"h-5 w-5"}),"占卜问题"]})}),l.jsx(He,{children:l.jsx("p",{className:`${$.text} text-lg leading-relaxed`,children:p.question})})]}),l.jsxs(We,{className:`${$.card} mb-8`,children:[l.jsx(_r,{children:l.jsxs(br,{className:`${$.text} flex items-center gap-2`,children:[l.jsx($S,{className:"h-5 w-5"}),"抽取的塔罗牌"]})}),l.jsx(He,{children:l.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:p.cards.map((W,X)=>l.jsxs("div",{className:"relative",children:[l.jsx(Ot,{variant:"secondary",className:`${$.card} ${$.text} px-4 py-2 text-base border-2 border-opacity-30`,children:W}),X<p.cards.length-1&&l.jsx(RS,{className:`absolute -right-4 top-1/2 transform -translate-y-1/2 h-4 w-4 ${$.accent}`})]},X))})})]}),l.jsxs(We,{className:`${$.card} mb-8`,children:[l.jsx(_r,{children:l.jsxs(br,{className:`${$.text} flex items-center gap-2`,children:[l.jsx(vc,{className:"h-5 w-5"}),"牌面解读"]})}),l.jsx(He,{children:l.jsx("div",{className:`${$.text} text-lg leading-relaxed whitespace-pre-wrap`,children:p.interpretation})})]}),p.presentation.includeAdvice&&p.advice&&l.jsxs(We,{className:`${$.card} mb-8`,children:[l.jsx(_r,{children:l.jsxs(br,{className:`${$.text} flex items-center gap-2`,children:[l.jsx(RM,{className:"h-5 w-5"}),"建议与指导"]})}),l.jsx(He,{children:l.jsx("div",{className:`${$.text} text-lg leading-relaxed whitespace-pre-wrap`,children:p.advice})})]}),p.presentation.includeNextSteps&&p.nextSteps&&l.jsxs(We,{className:`${$.card} mb-8`,children:[l.jsx(_r,{children:l.jsxs(br,{className:`${$.text} flex items-center gap-2`,children:[l.jsx(FM,{className:"h-5 w-5"}),"下一步行动"]})}),l.jsx(He,{children:l.jsx("div",{className:`${$.text} text-lg leading-relaxed whitespace-pre-wrap`,children:p.nextSteps})})]}),l.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[p.shareSettings.allowDownload&&l.jsxs(ue,{onClick:F,variant:"outline",className:`${$.text} border-current hover:bg-white/10`,children:[l.jsx(PM,{className:"h-4 w-4 mr-2"}),"保存为PDF"]}),l.jsxs(ue,{onClick:Y,variant:"outline",className:`${$.text} border-current hover:bg-white/10`,children:[l.jsx(VS,{className:"h-4 w-4 mr-2"}),"分享"]})]}),l.jsx(We,{className:`${$.card}`,children:l.jsxs(He,{className:"p-6 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[l.jsx(xg,{className:`h-5 w-5 ${$.accent}`}),l.jsx("span",{className:`${$.text} font-medium`,children:y.name})]}),l.jsx("p",{className:`${$.text} opacity-70 text-sm mb-2`,children:y.description}),l.jsx("p",{className:`${$.text} opacity-50 text-xs`,children:"此占卜结果仅供参考，请结合实际情况理性判断"})]})})]}),l.jsx("div",{className:"absolute bottom-0 left-0 w-full h-32 bg-gradient-to-t from-black/20 to-transparent"})]})},xH=()=>{const t=Ty();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},wH=new W5,_H=()=>l.jsx(G5,{client:wH,children:l.jsxs(_5,{children:[l.jsx(w4,{}),l.jsx(Q4,{}),l.jsx(VL,{children:l.jsxs(OL,{children:[l.jsx(Pl,{path:"/",element:l.jsx(pH,{})}),l.jsx(Pl,{path:"/clients",element:l.jsx(vH,{})}),l.jsx(Pl,{path:"/tarot-reading/:shareId",element:l.jsx(yH,{})}),l.jsx(Pl,{path:"*",element:l.jsx(xH,{})})]})})]})}),Mb=document.getElementById("root");Mb._reactRootContainer||oS(Mb).render(l.jsx(_H,{}));
